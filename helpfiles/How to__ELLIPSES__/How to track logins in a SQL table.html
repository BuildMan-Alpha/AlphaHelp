	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h1 class="showhide_heading" id="How_to_track_logins_in_a_SQL_table">How to track logins in a SQL table</h1>
Often you want to keep track of when a user has logged in to your web application. One way to do this is to timestamp a row in a SQL table.<br />
<br />
Here's an example. It assumes that you have set up the Security Framework so that the ULINK field is turned on, and that when you defined each user account in the framework, you have assigned a value for the ULINK field for each user. Finally, it assumes that you have defined a redirect page to be called after login.<br />
<br />
On the redirect page you would add code like this in an &lt;%a5 block:<br />
<span style="color:blue; background:"><div class="plugincode" ><pre class="codelisting" data-syntax="" dir="ltr" style="overflow:auto;" id="codebox" >&lt;%a5
dim cn as sql::connection
dim flag as l
flag = cn.open("::name::your_named_connection")

if flag = .f. then
       ?"Fatal error. Could not connect to database"
       end
end if

dim sql as c
sql = "Insert into mytablename (userName, timeValue) values (:username, :timevalue)"
dim args as sql::arguments
args.add("username",session.____name_of_session_variable_that_has_ulinkValue)
args.add("timevalue",now())

flag = cn.execute(sql,args)

if flag = .f. then
       ?"Error " + cn.callresult.text
       end
end if
%&gt;</pre></div></span><br />

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:How+to+track+logins+in+a+SQL+table">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 --></body></html>