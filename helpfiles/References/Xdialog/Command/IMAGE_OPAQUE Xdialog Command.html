	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Function>{IMAGE_OPAQUE}</p>
<p class=A5>Syntax</p>
<p>{IMAGE_OPAQUE= <span class=Argument>Image_Name</span> }</p>

<table style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 14.449%;">
<col style="width: 5.618%;">
<col style="width: 79.933%;">

<tr style="x-cell-content-align: top;" valign="top">
<td class="tableHeader" style="x-cell-content-align: top; width: 14.449%;" valign="top" width="14.449%">
<p class=TableHead>Argument</td>
<td colspan="1" rowspan="1" class="tableHeader" style="x-cell-content-align: top; width: 5.618%;" valign="top" width="5.618%">
<p class=TableHeadCenter>Type</td>
<td colspan="1" rowspan="1" class="tableHeader" style="x-cell-content-align: top; width: 79.933%;" valign="top" width="79.933%">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td colspan="1" rowspan="1" class="TableCell" style="x-cell-content-align: top; width: 14.449%;" valign="top" width="14.449%"><span class=Argument>Image_Name</span></td>
<td colspan="1" rowspan="1" class="TableCell" style="x-cell-content-align: top; width: 5.618%;" valign="top" width="5.618%">
<p class=TableCenter>C</td>
<td colspan="1" rowspan="1" class="TableCell" style="x-cell-content-align: top; width: 79.933%;" valign="top" width="79.933%">The name of a built-in Alpha Five bitmap, a bitmap that 
 you have added to the current database (on the <span class=Screen>Code</span> 
 tab of the <span class=Screen>Control Panel</span> ), one that you 
 have loaded with <a href="../../Functions/UI_BITMAP_CREATE Function.html" title="UI_BITMAP_CREATE Function" class="wiki">UI_BITMAP_CREATE(</a>), 
or an image loaded from a file.</td></tr>
</table>

<p class=A5>Description</p>



<p>The {IMAGE_OPAQUE} command displays a bitmap (.BMP) image. This command 
 is to be used with opaque images that are drawn at the same time&nbsp;as&nbsp;the 
 background.</p>


<p class=A5>Limitations</p>



<p>Desktop applications only</p>



<p class=A5>Example</p>



<p>In this example, we display the Windows error icon in a text box.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;" valign="top">
<td style="x-cell-content-align: top;
			width: 100%;
			padding-right: 10px;
			padding-left: 10px;" valign="top" width="100%">
<p class=Code>ui_dlg_box("Error",<<%dlg%</p>


<p class=Code>{lf};</p>


<p class=Code>{image_opaque=$sys_error}&nbsp;&nbsp;An error has occurred! 
 ;</p>


<p class=Code>{lf};</p>


<p class=Code><*15&OK></p>


<p class=Code>%dlg%)</td></tr>
</table>

<p>This script produces this dialog: </p>



<p class=Pix><img src="images/XD_Image_display.gif"
					x-maintain-ratio=TRUE
					style="border: none;
							width: 162px;
							height: 127px;
							float: none;
							border-style: none;
							border-style: none;"
					width=162
					height=127
					border=0></p>



<p>This example allows you to select and display a .BMP or .JPG image.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;" valign="top">
<td style="x-cell-content-align: top;
			width: 100%;
			padding-right: 10px;
			padding-left: 10px;" valign="top" width="100%">
<p class=Code>dim Pix_In&nbsp;as&nbsp;C</p>


<p class=Code>dim result&nbsp;as&nbsp;L = .f.</p>


<p class=Code>dim ibuffer&nbsp;as&nbsp;B</p>


<p class=Code>ui_dlg_box("Scale Image",<<%dlg%</p>


<p class=Code>{lf};</p>


<p class=Code>[%fImage files(*.bmp;*.jpg)%.52Pix_In!pixin];</p>


<p class=Code>{lf};</p>


<p class=Code>{image_opaque=temp_in};</p>


<p class=Code>{lf};</p>


<p class=Code><Scale>;</p>


<p class=Code>%dlg%,<<%code%</p>


<p class=Code>if (a_dlg_button = "pixin") then</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ibuffer = file.to_blob(Pix_In)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_load("temp_in", 
 ibuffer)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>


<p class=Code>end if</p>


<p class=Code>%code%)</td></tr>
</table>

<p>This example allows you load and scale a .BMP image.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;" valign="top">
<td style="x-cell-content-align: top;
			width: 100%;
			padding-right: 10px;
			padding-left: 10px;" valign="top" width="100%">
<p class=Code>dim Pix_Out&nbsp;as&nbsp;C = ""</p>


<p class=Code>dim Pix_In&nbsp;as&nbsp;C = ""</p>


<p class=Code>dim cmode&nbsp;as&nbsp;C = "Percentage"</p>


<p class=Code>dim mode&nbsp;as&nbsp;N</p>


<p class=Code>dim HSize&nbsp;as&nbsp;N</p>


<p class=Code>dim VSize&nbsp;as&nbsp;N</p>


<p class=Code>dim result&nbsp;as&nbsp;L = .f.</p>


<p class=Code>dim ibuffer&nbsp;as&nbsp;B</p>


<p class=Code>dim obuffer&nbsp;as&nbsp;B</p>


<p class=Code>ui_dlg_box("Scale Image",<<%dlg%</p>


<p class=Code>{font=verdana,10}</p>


<p class=Code>{xmargin=2}</p>


<p class=Code>{ymargin=1}</p>


<p class=Code>{lf};</p>


<p class=Code>{region}</p>


<p class=Code>Image In |[%fImage files(*.bmp)%.80Pix_In!pixin];</p>


<p class=Code>Image Out |[%fImage files(*.bmp)%.80Pix_Out];</p>


<p class=Code>{endregion};</p>


<p class=Code>{lf};</p>


<p class=Code>{region}</p>


<p class=Code>{frame=1,2:Scale Mode}(cmode:Measurement) (cmode:Percentage) 
 | | {frame=1,2:New Size}Width [.10HSize] Height [.10VSize];</p>


<p class=Code>{lf};</p>


<p class=Code>{embedded=%S%80,20preview_in} |{sp=2}| {embedded=%S%80,20preview_out};</p>


<p class=Code>{endregion}</p>


<p class=Code>{lf};</p>


<p class=Code><Scale> <Close>;</p>


<p class=Code>%dlg%,<<%code%</p>


<p class=Code>IF (a_dlg_button = "Close") THEN</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_drop("temp_in")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_drop("temp_out")</p>


<p class=Code>END IF</p>


<p class=Code>IF (a_dlg_button = "pixin") THEN</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ibuffer = file.to_blob(Pix_In)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_load("temp_in", 
 ibuffer)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_modeless_dlg_box("preview_in","{image_opaque=temp_in};")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>


<p class=Code>END IF</p>


<p class=Code>IF (a_dlg_button = "Scale")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;IF (Pix_Out <> "") 
 THEN</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF (cmode 
 = "Percentage") THEN</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode 
 = 1</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode 
 = 2</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END IF</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = 
 scale_image(Pix_In, Pix_Out, mode, HSize, VSize)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IF (result 
 = .T.) THEN</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ibuffer 
 = file.to_blob(Pix_Out)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_load("temp_out", 
 obuffer)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ui_modeless_dlg_box("preview_out","{image_opaque=temp_out};")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END IF</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;END IF</p>


<p class=Code>END IF</p>


<p class=Code>%code%)</p>


<p class=Code>FUNCTION scale_image&nbsp;as&nbsp;L (Pix_In&nbsp;as&nbsp;C, 
 Pix_Out&nbsp;as&nbsp;C, Mode&nbsp;as&nbsp;N, HSize&nbsp;as&nbsp;N, VSize&nbsp;as&nbsp;N)</p>


<p class=Code>dim ibuffer&nbsp;as&nbsp;B</p>


<p class=Code>dim obuffer&nbsp;as&nbsp;B</p>


<p class=Code>dim CurrHSize&nbsp;as&nbsp;N</p>


<p class=Code>dim CurrVSize&nbsp;as&nbsp;N</p>


<p class=Code>scale_image = .f.</p>


<p class=Code>if (Pix_in = "") .or. (Pix_Out = "") 
 then</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;exit function</p>


<p class=Code>end if</p>


<p class=Code>if (Mode < 1) .or. (Mode > 2) then</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;exit function</p>


<p class=Code>end if</p>


<p class=Code>if (HSize <= 0) .or. (VSize <= 0) then</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;exit function</p>


<p class=Code>end if</p>


<p class=Code>ibuffer = file.to_blob(Pix_In)</p>


<p class=Code>ui_bitmap_load("temp_in", ibuffer)</p>


<p class=Code>ui_screen_draw(<<%code%</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;CurrHSize = Bitmap_Width("temp_in")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;CurrVSize = Bitmap_Height("temp_in")</p>


<p class=Code>%code%)</p>


<p class=Code>IF (Mode = 1) THEN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' 
 percentage</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_drop("temp_out")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_create("temp_out", 
 CurrHSize * HSize / 100, CurrVSize * VSize / 100)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_draw("temp_out",<<%code%</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;bitmap("temp_in", 0, 0, 
 CurrHSize * HSize / 100, CurrVSize * VSize / 100, "STRETCH,OPAQUE,HALFTONE")</p>


<p class=Code>%code%)</p>


<p class=Code>ELSE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' 
 specific dimensions</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_drop("temp_out")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_create("temp_out", 
 HSize, VSize)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_bitmap_draw("temp_out",<<%code%</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;bitmap("temp_in", 0, 0, 
 HSize, VSize, "STRETCH,OPAQUE,HALFTONE")</p>


<p class=Code>%code%)</p>


<p class=Code>END IF</p>


<p class=Code>obuffer = ui_bitmap_save("temp_out")</p>


<p class=Code>IF (file.from_blob(Pix_Out, obuffer) > 0) THEN</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;scale_image = .t.</p>


<p class=Code>END IF</p>


<p class=Code>END FUNCTION</td></tr>
</table>

<p class=A5>&nbsp;</p>



<p>In this example, we display an image file on disk.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%" id="table1">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;" valign="top">
<td style="x-cell-content-align: top;
			width: 100%;
			padding-right: 10px;
			padding-left: 10px;" valign="top" width="100%">
<p class=Code>ui_dlg_box("Error",<<%dlg%</p>


<p class=Code>{lf};</p>


<p class=Code>{image=c:\myimages\imag1.png}&nbsp;&nbsp;This is an image from a 
disk file! ;</p>


<p class=Code>{lf};</p>


<p class=Code><*15&OK></p>


<p class=Code>%dlg%)<p class=Code>&nbsp;</td></tr>
</table>

<p class=A5>&nbsp;</p>


<p class=A5>&nbsp;</p>


<p class=A5>See Also</p>



<p><a href="../Xdialog Reference/Xdialog Commands.html" title="Xdialog Commands" class="wiki">Xdialog Commands</a>, <a href="IMAGE Xdialog Command.html" title="IMAGE Xdialog Command" class="wiki">{IMAGE}</a></p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:IMAGE_OPAQUE+Xdialog+Command">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"desktop"} --->
</body></html>