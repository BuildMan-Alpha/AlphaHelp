	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h2>How to Debug Image File Reference Images Not Displaying Correctly</h2>
<p>If you have built a Grid that contains Image File Reference fields, and the  images are not displaying when you run the Grid, this topic can help you find  the problem.</p>
<p>Normally, for an Image File Reference field, the display format in the Field  Properties is set to &ltImage File Reference Field>.</p>
<p>Two special display formats are supported to help you debug. These are</p>
<ul>
    <li>&ltImage File Reference Field Filename Raw></li>
    <li>&ltImage File Reference Field Filename></li>
</ul>
<p>In the image shown below, the display format is set to &ltImage File  Reference Filename Raw></p>
<p>This shows the raw (un-encoded) filename for the image.</p>
<p>As you can see only the first record has an alias name in the image.</p>
<p>	<img src="images/GridCo7.jpg" height="132" width="419" alt="Image" /></p>
<p>In this next example, the display format is set to &ltImage File Reference  Filename></p>
<p>This shows the decoded filename for each image.</p>
<p>Only the image in the first row was found. That's because the image name used  an alias ([FlowerPhotos]) and this alias was defined in the Web Publishing  Profile.</p>
<p>Because the image filenames in records 2 and onwards did not use an alias,  the filename was decoded at runtime somewhat randomly and the decoded file does  not exists.</p>
<p>	<img src="images/GridCo8.jpg" height="160" width="475" alt="Image" /></p>
<p>In order to get this example to work, the image filenames need to be fixed.  An xbasic program can be written to loop through all of the records and 'fix'  the filenames by using a filename that&nbsp; is encoded with an alias.</p>
<p class="xbasic">t = table.open("flowers")</p>
<p class="xbasic">dim fn as c</p>
<p class="xbasic">while .not. t.fetch_eof()</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; fn = t.picture</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; if atc("[FlowerPhotos",fn) = 0 then</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fn = word(fn,2,"\"")</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fn = "[FlowerPhotos]" + chr(92) +  file.filename_parse(fn,"ne")</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fn = "=filename_decode(" + quote(fn) +")"</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.change_begin()</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.picture = fn</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.change_end(.t.)</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; end if</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; t.fetch_next()</p>
<p class="xbasic">end while</p>
<p class="xbasic">t.close()</p>
<h3>Debugging Image File Reference Fields in a Report</h3>
<p>Say your Image File Reference Field name is 'image'.</p>
<p>Create two calculated fields as follows:</p>
<p class="xbasic">folder = image</p>
<p class="xbasic">fn = eval( substr(image,2) )</p>
<p>Place these calculated fields on your report and make sure that you set the  display width of the field to be large enough to display the full size of the  field.</p>
<p>The 'calc->folder' calculated field will show the encoded filename of the  image. The 'calc->fn' calculated field will show the actual (un-encoded)  filename.</p>
<h3>See Also</h3>
<p><a href="../../../How to__ELLIPSES__/How to Debug Image File Reference Fields.html" title="How to Debug Image File Reference Fields" class="wiki">How to Debug Image File Reference Fields</a></p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:How+to+Debug+Image+File+Reference+Images+Not+Displaying+Correctly+in+a+V10+Grid">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"web","group":"/Guides","status":"pending","keywords":"debug,grid"} --->
</body></html>