	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h2>Events</h2>
<p>The core Javascript library provides several functions for adding and  removing events from objects. Many developers like to create 'clean' HTML that  does not have any Javascript events embedded in the HTML. This provides a nice  separation between the HTML layout and the behavior of the HTML page.</p>
<p>The functions in this section describe how you can use Javascript to attach  (i.e. bind) Javascript code to the various element events in your HTML page.</p>
<p>This methodology is often referred to as 'unobtrusive' Javascript because the  Javascript which controls the HTML does not clutter up the HTML markup and is  kept separate from the HTML.</p>
<h3>$e.add(ELEMENT as element/string/array of ELEMENTs, TYPE as string, FUNCTION  as function [, SCOPE as object, SCOPEOVERRIDE as logical, GROUPNAME as  string])</h3>
<p>The $e.add() function allows you to add an event to a single or multiple HTML  elements.</p>
<p>The first parameter is an HTML element, and ID or NAME, or an array of HTML  elements, IDs, and/or NAMEs.</p>
<p>The TYPE parameter (2nd parameter) is the type of event. These events are  standard DOM events (minus the "on"), like 'click', 'mousedown', 'mouseup',  'keydown', 'blur' etc. The table below show a complete list of event names.</p>
<table style="BORDER-COLLAPSE: collapse" id="table1" border="1" cellspacing="1" cellpadding="3">
    <tbody>
        <tr>
            <td><b>Event Name</b></td>
            <td><b>Description</b></td>
        </tr>
        <tr>
            <td>click</td>
            <td>When the user clicks on an element.</td>
        </tr>
        <tr>
            <td>dblclick</td>
            <td>When the user double clicks on an element.</td>
        </tr>
        <tr>
            <td>mousedown</td>
            <td>When the user presses the mouse down on an element.</td>
        </tr>
        <tr>
            <td>mouseup</td>
            <td>When the user releases the mouse button after pressing mouse down on an  element.</td>
        </tr>
        <tr>
            <td>mouseover</td>
            <td>When the mouse cursor moves over an element.</td>
        </tr>
        <tr>
            <td>mousemove</td>
            <td>When the mouse cursor is being moved over an element.</td>
        </tr>
        <tr>
            <td>mouseout</td>
            <td>When the mouse cursor leaves an element.</td>
        </tr>
        <tr>
            <td>keypress</td>
            <td>When the user presses a key. Will fire repeatedly while the key is being  pressed.</td>
        </tr>
        <tr>
            <td>keydown</td>
            <td>When the user presses a key. Fires on the key down.</td>
        </tr>
        <tr>
            <td>keyup</td>
            <td>When the user presses a key and then releases it.</td>
        </tr>
        <tr>
            <td>focus</td>
            <td>When the user gives focus to an element.</td>
        </tr>
        <tr>
            <td>blur</td>
            <td>When a user 'blurs' an element. I.e. when an element looses focus.</td>
        </tr>
        <tr>
            <td>change</td>
            <td>When the user makes a change in a form element.</td>
        </tr>
        <tr>
            <td>reset</td>
            <td>When the user resets the data in a form using a 'Reset' button.</td>
        </tr>
        <tr>
            <td>submit</td>
            <td>When the user clicks a form's 'Submit' button.</td>
        </tr>
        <tr>
            <td>scroll</td>
            <td>When the user scrolls a scrollable element. This could be the page itself,  of a DIV that has scroll bars.</td>
        </tr>
        <tr>
            <td>resize</td>
            <td>When the user resizes the browser window.</td>
        </tr>
        <tr>
            <td>load</td>
            <td>When the page is loaded.</td>
        </tr>
        <tr>
            <td>unload</td>
            <td>When the page is unloaded (i.e. when you navigate to another page, or the  browser is closed).</td>
        </tr>
    </tbody>
</table>
<p>&nbsp;The FUNCTION parameter (3rd parameter) is the Javascript function you would  liked to have called when the event occurs.</p>
<p>You can call the $e.add() function multiple times for a given element and  event, allowing you to add multiple event handlers for the same event. For  example:</p>
<p class="xbasic">$e.add('firstname','blur',validate1);</p>
<p class="xbasic">$e.add('firstname','blur',validate2);</p>
<p>&nbsp;When the 'firstname' element loses focus, the validate2() function will be  called first (since it was the most recent event handler to be added), and then  the validate1() function will be called next.</p>
<p><b>Note:</b> When you add an event to an element that already has an event  defined in the HTML, the event defined in the HTML will still execute, and will  be executed before any events that are added using the $e.add() function.</p>
<div class="noteBlock">
<h4 style="margin-left: 40px; "><span style="background-color: rgb(204, 255, 204); ">The DOM 'Event' Object</span></h4>
<p style="margin-left: 40px; "><span style="background-color: rgb(204, 255, 204); ">When a DOM event (such as 'blur', 'keypress' etc.) occurs, the browser  automatically stores relevant information about the event (such as what key was  pressed, what is the mouse position, etc.) in the DOM event object. This object  is automatically passed in as the first parameter to the Javascript function  that is handling the event.</span></p>
<p style="margin-left: 40px; "><span style="background-color: rgb(204, 255, 204); ">The DOM event object can also be used to stop an event from 'bubbling' (i.e.  a 'click' event on a button that was contained in a DIV will first cause the  button's on</span><x><span style="background-color: rgb(204, 255, 204); ">click event to fire, then will cause the DIVs on</span><x><span style="background-color: rgb(204, 255, 204); ">click event to fire  and the will cause the page's on</span><x><span style="background-color: rgb(204, 255, 204); ">click event to fire). You might want to prevent  the event from bubbling up to the DIV and the page. You can do this by using the  $e.stopEvent() function, passing in the DOM event object to this  function.</span></p>
</div>
<p>&nbsp;The SCOPE parameter (4th parameter - optional) is an object scope to be  passed into the function that handles the event. The scope object is passed in  as the second parameter to the event handler function (the DOM event object is  passed in as the first parameter). This is an advanced parameter.</p>
<p>The SCOPEOVERRIDE parameter (5th parameter - optional) is a true/false value  for whether or not you would like the passed in scope to take the place of the  HTML element in the "this." namespace.</p>
<p><b>Note</b>: SCOPE and SCOPEOVERRIDE are advanced parameters that will rarely  be needed.</p>
<p>The GROUPNAME parameter (6th parameter - optional)&nbsp; is a group name for the  event. This is a 'convenience' feature. It can be used with the $e.removeGroup()  function to remove multiple events from multiple objects. (Note: Your page might  contain elements that have had events bound to them using the $e.add() function.  If any of these elements are subsequently removed from the page (through setting  innerHTML of a parent element, or through DOM manipulation), it is important to  remove the events from these elements, or else a memory leak might occur.)</p>
<p><strong>Examples:</strong></p>
<p>Example 1</p>

<p>Assume you have the following HTML page. Notice that the HTML has two input  controls ('id_fn' and 'id_ln') and that there are no Javascript events defined  in the HTML.</p>
<p>We want to add a handler for the 'on<x>blur' event for both of these controls.  When either of the controls looses focus, we want to call the blurred()  function.</x></p>
<p>Notice that in the definition of the blurred() function, we show a parameter  that is passed in (<font color="#0000ff" face="Courier New">function  blurred(e)</font>). The argument is the DOM Event object that is automatically  passed in to the event handler. The DOM Event object has information about the  event that triggered the function call.</p>
<font color="#0000ff">
<div class="plugincode" ><pre class="codelisting" data-syntax="" dir="ltr" style="overflow:auto;" id="codebox" >&lthtml>
&nbsp;&nbsp;&nbsp; &lthead>
&nbsp;&nbsp;&nbsp; &lt/head>
&nbsp;&nbsp;&nbsp;  &ltbody>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &ltinput id="id_fn" name="firstname"/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &ltinput id="id_ln" name="lastname"/>
&nbsp;&nbsp;&nbsp;  &lt/body>
&lt/html></pre></div><br>
<div class="plugincode" ><pre class="codelisting" data-syntax="" dir="ltr" style="overflow:auto;" id="codebox1" >&ltscript type="text/Javascript"  src="Javascript/core.js">&lt/script>
&nbsp;
&ltscript type="text/Javascript">
function blurred(e) {
alert('ID:' + this.id + '\n Event type:  ' +e.type + '\n Value in control: ' + this.value);
}

/*Add the event handler for the 'blur' event to the 'id_fn' and  'id_ln'  elements.*/
$e.add(['id_fn','id_ln'],'blur',blurred);
&lt/script></pre></div>
</font>


<p>Example 2</p>
<p>This example demonstrates how you can bind multiple event handlers to an  event, and shows the order in which the event handlers are executed.</p>
<p>In this example, the HTML contains a definition for the on<x>blur event for the  'id_fn' element. In addition to the event handler defined in the HTML, the  Javascript code binds the msg2() function and then the msg3() function to the  blur event for 'id_fn'.</x></p>
<p>If you load this page in a browser, when focus leaves the 'id_fn' element&nbsp;  you will notice the following:</p>
<ul>
    <li>First, a dialog showing 'msg1' is shown, indicating that the event handler  defined in the HTML executes first</li>
    <li>Next, a dialog showing 'msg3' is shown, indicating that the most recent  event handler added using $e.add() is executed next.</li>
    <li>Finally, a dialog showing the control ID is shown, indicating that t he  events added by $e.add() are executed in a 'last in - first out' order.</li>
</ul>
<p>Notice that in the definition of the msg2() function we pass in the DOM event  object and so the message box can display e.type (the type of the event that  caused the event handler to be invoked). Also notice that the 'this' alias is  implicitly passed in and can be used to get information about the control (such  as it's ID - 'this.id', or current value - 'this.value')</p>
<font color="#0000ff"><div class="plugincode" ><pre class="codelisting" data-syntax="" dir="ltr" style="overflow:auto;" id="codebox2" >&lthtml>
&nbsp;&nbsp;&nbsp; &lthead>
&nbsp;&nbsp;&nbsp; &lt/head>
&nbsp;&nbsp;&nbsp;  &ltbody>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &ltinput id="id_fn" name="firstname"  onblur="alert('msg1'); return false;" />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &ltinput id="id_ln"  name="lastname"/>
&nbsp;&nbsp;&nbsp; &lt/body>
&lt/html>
&ltscript  type="text/Javascript" src="Javascript/core.js">&lt/script>

&ltscript type="text/Javascript">
function msg2(e)  {
alert('ID:' + this.id + '\n Event type: ' +e.type + '\n Value in control: '  + this.value);
}

function msg3(e)  {
alert('msg3');
}

/*Bind the msg2() function call to the 'blur'  event on the 'id_fn' and 'id_ln'  elements.*/
$e.add(['id_fn','id_ln'],'blur',msg2);
$e.add('id_fn','blur',msg3);
&lt/script></pre></div></font>
<h3>$e.remove(ELEMENT as element/string/array of ELEMENTs, TYPE as string,  FUNCTION as funtion)</h3>
<p>The $e.remove() function allows you to remove an event on a single or  multiple HTML elements.</p>
<p>The ELEMENT parameter is an HTML element, an ID or NAME, or an array of HTML  elements, IDs, and/or NAMEs.</p>
<p>The TYPE parameter is the type of event. This can be standard DOM events  (minus the "on"), like "click", "mousedown", "mouseup", "keydown", etc.</p>
<p>The FUNCTION parameter is the Javascript function you was linked to the  event.</p>
<p>Note: This function only removes event handlers that were added using the  $e.add() function. It cannot remove event handlers that are specified in the  HTML markup.</p>
<p>Examples:</p>
<p class="xbasic">//Assume that the $e.add() function had been previously called  to add the 'validate1()' function to the 'on blur' event for the 'firstname'  control.</x></p>
<p class="xbasic">$e.remove('firstname','blur',validate1);</p>
<p class="xbasic">&nbsp;</p>
<p class="xbasic">//Assume that the 'validate1()' function had been bound to  multiple controls.</p>
<p class="xbasic">$e.remove(['firstname','lastname'],'blur',validate1);</p>
<h3>$e.removeGroup(GROUPNAME as string)</h3>
<p>Note: When you use the $e.add() command to add events, you can specify an  optional 'group' name. This group name is used in the $e.removeGroup() function.</p>
<p>The $e.removeGroup() function allows you to remove events from elements that  were initially set up with a 'group' name. This command is useful if you want to  remove a large number of events from elements using&nbsp; a single function call.</p>
<p>Note: It is important to remove any events that were added to elements before  destroying the HTML elements (either through direct DOM manipulation, or by  setting the innerHTML of some containing element). For example, assume that your  page has a large number of input controls. You use the $e.add() function to bind  a validation event handler to the 'on<x>blur' event on all of these controls and  you assign a group name.</x></p>
<p>&nbsp;Examples:</p>
<p class="xbasic">//Add some validation events to several form controls and assign  an arbitrary group name of 'myForm'.</p>
<p class="xbasic">$e.add(['firstname','lastname','address','city','state','zip'],'blur',validateInput,null,false,'myForm');</p>
<p class="xbasic">&nbsp;</p>
<p class="xbasic">$e.add('zip','blur',validateZip,null,false,'myForm');</p>
<p class="xbasic">//Now, 'zip' has two event handlers for its 'on<x>blur' event.</x></p>
<p class="xbasic">&nbsp;</p>
<p class="xbasic">$e.add('zip','blur',lookupCity);</p>
<p class="xbasic">//Now, 'zip' has three event handlers for its 'on<x>blur' event.  However, this last event <br>
// handler is not part of the 'myForm' group.</x></p>
<p class="xbasic">$e.removeGroup('myForm');</p>
<p class="xbasic">//Now all control have no event handlers attached to the  'onBlue' event, except 'zip' <br>
//which still has 'lookupCity()' as the event handler  for the 'on<x>blur' event.</x></p>
<p class="xbasic">&nbsp;</p>
<h3>$e.stopEvent(EVENT as event)</h3>
<p>The $e.stopEvent() function allows you to stop an event from bubbling up  through the hierarchy of elements on a page.</p>
<p>You pass in the event object variable that was passed into the function that  is handling the event.</p>
<p>Example:</p>
<p class="xbasic">/*This adds an event handler for the 'on<x>keyup' event to both the  document body, and an input called 'input1'.</x></p>
<p class="xbasic">If the user types a key in the input, the keypressInput()  function will handle the event, and then the keypressBody() function</p>
<p class="xbasic">will ALSO handle the event (because the event 'bubbles' up  through the hierarchy of element on the page. */</p>
<p class="xbasic">&nbsp;</p>
<p class="xbasic">$e.add(document.body,'keyup',keypressBody);</p>
<p class="xbasic">$e.add('input1','keyup',keypressInput);</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;</p>
<p class="xbasic">/*Now, assume that when the user types a key into the input, you  want the keypressInput() function to be called, but NOT the keypressBody()  function.</p>
<p class="xbasic">To do this, you must stop the 'on<x>keyup' event from 'bubbling  up'.</x></p>
<p class="xbasic">&nbsp;</p>
<p class="xbasic">This is done by calling the $e.stopEvent() function inside the  keypressInput() function. For example:</p>
<p class="xbasic">*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p class="xbasic">function keypressInput(evnt) {</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; $e.stopEvent(evnt);</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; //Actual code you want to handle the keypress goes here.</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; //Note: the 'evnt' variable is always passed into a function  that was bound using the $e.add() function.</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp; //The 'evnt' variable contains information about the event  that happened, such as mouse position, or key pressed.</p>
<p class="xbasic">&nbsp;}</p>
<h3>$e.on<x>loaded</x></h3>
<p>$e.on<x>loaded is an optionally defined function that will be called after the  page has been fully loaded, and the "$e" object has been fully initialized. This  function can only be used once on a page. This function is useful if you want to  execute some Javascript when a page is loaded, if that Javascript is dependent  on the "$e" object being fully initialized.</x></p>
<p>For example, assume that you have a page with an auto-suggest input control.  The auto-suggest control is instantiated using the "A5.AutoSuggest()" function.  Assume that when the page is loaded, you want initial focus to go to this  control. Assume that the control has an ID of "SUGGEST1". You might be tempted  to put the following code in the BODY tag's "on<x>load" attribute. For example:</x></p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;$('SUGGEST1').focus(); &nbsp;</p>
<p>However, this will not work because the "A5.AutoSuggest()" function which  initializes the auto-suggest control has not yet executed. The auto-suggest  control utilizes the "$e" object. We need to wait till the "$e" object has been  fully initialized before we can set focus to "SUGGEST1". The "$e.on<x>loaded"  function is how we solve the problem.</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;$e.on<x>loaded =  function(){</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$('SUGGEST1').focus();</p>
<p class="xbasic">&nbsp;&nbsp;&nbsp;}&nbsp;</p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Events+Core.JS">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: "{}" --->
</body></html>