	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h1 class="showhide_heading" id="How_to_use_System_Javascript_Fields_in_User-Defined_Javascript_Functions">How to use System Javascript Fields in User-Defined Javascript Functions</h1>
<strong>Tip</strong>: When you define client-side expressions (e.g. calculated fields, show/hide expressions, enable expressions, dynamic images, conditional styles, etc.) you can use certain 'built-in' system fields in your expressions. However, when you define an arbitrary JavaScript function you cannot use the system fields in your JavaScript code. These system fields are:<br />
<br />
<ul><li>grid.rowState
</li><li>grid.isRowDirty
</li><li>grid.isDirty
</li><li>grid.pageNumber
</li><li>grid.pagesInGrid
</li><li>grid.logicalRecordNumber
</li><li>grid.hasDetailView
</li><li>grid.isOnFirstPage
</li><li>grid.isOnLastPage
</li><li>grid.hasNextPage
</li><li>grid.hasPrevPage
</li><li>grid.isNewRecordRow
</li><li>grid.checkedRowCount
</li><li>grid.rowIsChecked
</li><li>detailView.isDirty
</li><li>detailView.rowState
</li><li>detailView.isOnFirstRecord
</li><li>detailView.isOnLastRecord
</li><li>detailView.hasNextRecord
</li><li>detailView.hasPrevRecord
</li></ul><br />
There may, however, be situations when you would like to refer to these system variables in your own Javascript function handlers.<br />
<br />
You can do so, but you must first call a grid method to populate these system fields.<br />
<br />
The following example show how you can use these system fields to create a button that will:<br />
<ol><li>Submit the Detail View to the server to save the current record if the record is dirty, or
</li><li>If the record is not dirty, will redirect to another page in your application.
</li></ol><br />
<br />
<div class="plugincode" parse="javascript"><pre class="codelisting" data-syntax="javascript" dir="ltr" style="overflow:auto;" id="codebox" ><span style="color: #003366; font-weight: bold;">function</span> myOwnUserDefinedFunction<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #003366; font-weight: bold;">var</span> detailView <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
    <span style="color: #003366; font-weight: bold;">var</span> grid <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
    <span style="color: #006600; font-style: italic;">//populate the 'system' variables</span>
    <span style="color: #009900;">&#123;</span>grid.<span style="color: #660066;">object</span><span style="color: #009900;">&#125;</span>._getGridVariables<span style="color: #009900;">&#40;</span>grid<span style="color: #339933;">,</span>detailView<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    <span style="color: #000066; font-weight: bold;">if</span><span style="color: #009900;">&#40;</span>detailView.<span style="color: #660066;">isDirty</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <span style="color: #009900;">&#123;</span>grid.<span style="color: #660066;">object</span><span style="color: #009900;">&#125;</span>.<span style="color: #660066;">submitDetailView</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span> <span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">&#123;</span>
     location.<span style="color: #660066;">href</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'mytargetpage.a5w'</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></div><br />
<br />
<strong>Note</strong>: After the record in the Detail View has been sucessfully saved, you can then redirect to your target page.<br />
<br />
For example, in the 'afterDetailViewSubmit' system event, you could add this code:<br />
<br />
<div class="plugincode" parse="javascript"><pre class="codelisting" data-syntax="javascript" dir="ltr" style="overflow:auto;" id="codebox1" ><span style="color: #000066; font-weight: bold;">if</span><span style="color: #009900;">&#40;</span>e.<span style="color: #660066;">hasErrors</span><span style="color: #009900;">&#41;</span> 
    location.<span style="color: #660066;">href</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'mytargetpage.a5w'</span><span style="color: #339933;">;</span></pre></div><br />
<br />

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:How+to+use+System+Javascript+Fields+in+User-Defined+Javascript+Functions+V10.5">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 --></body></html>