	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h1 class="showhide_heading" id="Genies_for_New_Dialog_Component">Genies for New Dialog Component</h1>
As we said in <a href="New Dialog Component V11.html" title="New Dialog Component V11" class="wiki">New Dialog Component V11</a>, "at a fundamental level, binding a dialog to a database is simple, as long as you are able to write a few lines of Xbasic code. On the other hand, you don't need to write code, as Alpha Five can write the code for you."<br />
<br />
In this article, we'll see how Alpha Five can write data binding code. In <a href="Server-side Action Scripting V11.html" title="Server-side Action Scripting V11" class="wiki">Server-side Action Scripting V11</a>, we see how Alpha Five can generate other server-side actions.<br />
<br />
We start by inserting a new control into a dialog, selecting <strong>Create multiple new controls at once</strong>, and clicking the <strong>Populate list from a table</strong> link. In this example we picked the Customer.dbf table from AlphaSports, and left <strong>Include data binding information</strong> checked.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=577','HEIGHT=509','BACKGROUND=img/wiki_up/dialog_populate_list_from_customer_with_binding_info.png']);">	<img src="images/dialog_populate_list_from_customer_with_binding_info.png" height="254" width="288" alt="Image" /></a><br />
<br />
After pressing OK, we have all the fields we need. What's more, the field types match the corresponding types in the table. Here we see an automatically generated numeric field type.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=1002','HEIGHT=649','BACKGROUND=img/wiki_up/dialog_automatic_numeric_field_type.png']);">	<img src="images/dialog_automatic_numeric_field_type.png" height="324" width="501" alt="Image" /></a><br />
<br />
We also have automatically generated binding information for the field, seen at the lower right.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=1002','HEIGHT=649','BACKGROUND=img/wiki_up/dialog_automatic_data_binding_information.png']);">	<img src="images/dialog_automatic_data_binding_information.png" height="324" width="501" alt="Image" /></a><br />
<br />
The data binding panel of the dialog definition has four actions. We have expanded the descriptions for the two major actions.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=1002','HEIGHT=649','BACKGROUND=img/wiki_up/dialog_data_binding.png']);">	<img src="images/dialog_data_binding.png" height="324" width="501" alt="Image" /></a><br />
<br />
We aren't stuck with the bindings we got from the original table. We can create the tables to match the controls we have in the dialog. This is a three-step process.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=981','HEIGHT=675','BACKGROUND=img/wiki_up/make_tables_for_dialog_controls.png']);">	<img src="images/make_tables_for_dialog_controls.png" height="337" width="490" alt="Image" /></a><br />
<br />
In the first step, we define our table aliases (abstract table names) and fields. Here we are setting the lengths of all the character fields at once.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=981','HEIGHT=675','BACKGROUND=img/wiki_up/define_table_aliases_and_fields.png']);">	<img src="images/define_table_aliases_and_fields.png" height="337" width="490" alt="Image" /></a><br />
<br />
The table properties are relatively simple. Here we have chosen SQL, a connection string, and a table name to create on the connection.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=981','HEIGHT=675','BACKGROUND=img/wiki_up/define_table_properties.png']);">	<img src="images/define_table_properties.png" height="337" width="490" alt="Image" /></a><br />
<br />
At this point we can actually create the table or tables, or if the database we need is not available, save the settings for later creation. The settings will be saved even if we create the table.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=981','HEIGHT=675','BACKGROUND=img/wiki_up/dialog_create_tables.png']);">	<img src="images/dialog_create_tables.png" height="337" width="490" alt="Image" /></a><br />
<br />
Going back to the data binding pane, we can now bind the dialog controls to the fields of the SQL table we just created.<br />
<br />
	<img src="images/bind_dialog_controls_to_table_fields.png" alt="Image" /><br />
<br />
The first step is to specify the tables. These are already set properly, because of the previous steps.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=797','HEIGHT=526','BACKGROUND=img/wiki_up/dialog_bind_to_table.png']);">	<img src="images/dialog_bind_to_table.png" height="263" width="398" alt="Image" /></a><br />
<br />
The second step is to bind the controls to the appropriate fields. Again, these are already set properly, because of the previous steps.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=734','HEIGHT=522','BACKGROUND=img/wiki_up/dialog_bind_controls_to_fields.png']);">	<img src="images/dialog_bind_controls_to_fields.png" height="261" width="367" alt="Image" /></a><br />
<br />
Now we need to actually generate the code. We do that with a server-side action in the <strong>afterDialogValidate </strong>event handler.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=528','HEIGHT=539','BACKGROUND=img/wiki_up/server-side_actions_select_an_action.png']);">	<img src="images/server-side_actions_select_an_action.png" height="269" width="264" alt="Image" /></a><br />
<br />
We pick the save action and check the debug option.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=614','HEIGHT=518','BACKGROUND=img/wiki_up/save_submitted_data_to_tables.png']);">	<img src="images/save_submitted_data_to_tables.png" height="259" width="307" alt="Image" /></a><br />
<br />
The server-side action goes into the event handler code as <div class="plugincode" parse="vbnet"><pre class="codelisting" data-syntax="vbnet" dir="ltr" style="overflow:auto;" id="codebox" >ExecuteServerSideAction<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;Save Data::save_customer&quot;</span><span style="color: #000000;">&#41;</span></pre></div><br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=1002','HEIGHT=649','BACKGROUND=img/wiki_up/save_data_server-side_action_script.png']);">	<img src="images/save_data_server-side_action_script.png" height="324" width="501" alt="Image" /></a><br />
<br />
We checked the option to generate SQL debug output, so when we add a submit button and test the dialog we can see the SQL actions.<br />
<br />
<a href="javascript:void(0)" class="internal" onmouseover="return convertOverlib(this,'&nbsp;',['WIDTH=1002','HEIGHT=886','BACKGROUND=img/wiki_up/dialog_data_binding_sql_debug_output.png']);">	<img src="images/dialog_data_binding_sql_debug_output.png" height="443" width="501" alt="Image" /></a><br />

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Genies+for+New+Dialog+Component+V11">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"web","group":"/Guides","status":"pending"} --->
</body></html>