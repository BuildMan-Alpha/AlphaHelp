	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h1 class="showhide_heading" id="Geographic_Databases">Geographic Databases</h1>
Geographic databases have special data types for geographic and geometric data. In addition, they have internal operations to compute the distances between geometric objects (points, line segments, and polygons) on a 2-D plane or a 3-D space (geometrically) and on the approximately spherical surface of the earth (geographically). SQL queries on geographic data can be made to run much faster by constructing geographic indexes.<br />
<br />
Unfortunately, the internal support for geospatial data storage and comparison operations varies greatly from database to database. Alpha Five Version 11 introduces a portable syntax for working with geographic data that is supported for those databases that have sufficient internal support for the core data types and operations.<br />
<h2 class="showhide_heading" id="What_good_is_geographic_data_">What good is geographic data?</h2>
In a world where most cellphones can determine their location, geography is important for any task that depends on where the user is physically. For example, the user may want to find a nearby restaurant &mdash; searching the web for all restaurants anywhere in the world would be absurd. Conceptually, what a location-dependent restaurant finder application might want to do is:<br />
<ol><li>Get the current latitude and longitude from the phone hardware
</li><li>Send a query to a restaurant database to find restaurants within X miles of the current location
</li><li>display the options to the user on the phone
</li></ol>This type of task isn't limited to the user's current location. Suppose you're flying from Boston to Paris, and want to find a hotel near the business you're going to visit. For that application, the hotel-finder application might:<br />
<ol><li>Get the address of the business being visited
</li><li>Convert the address to latitude and longitude
</li><li>Send a query to a hotel database to find hotels within X miles of the specified location
</li><li>display the options to the user on whatever device or computer he is using
</li></ol><h2 class="showhide_heading" id="Geographic_data_nomenclature">Geographic data nomenclature</h2>
We have already mentioned latitude, longitude, points, line segments, and polygons. If any of those terms are unfamiliar you will have difficulty following the rest of the discussion.<br />
<br />
A standard for geospatial systems is managed by the Open Geospatial Consortium (OCG). Unfortunately, every current implementation of OCG in a database differs from the standard in some way.<br />
<br />
Geographic data may be represented as <em>Well-known-text</em> (WKT), for example <div class="plugincode" ><pre class="codelisting" data-syntax="" dir="ltr" style="overflow:auto;" id="codebox" >POLYGON((100 200, 110 300, 120 500))</pre></div> or <em>Well-known-binary</em> (WKB), a binary equivalent of well-known-text.<br />
<br />
The geospatial data needs to be defined as belonging to a reference system. Reference systems are indicated by <em>Spatial reference identifiers</em> (SRIDs). Unfortunately, there are many different SRIDs. The default SRID for most databases is 4326. The default for DB2 is 1003. In most cases, the default will suffice; therefore, the SRID argument to all Portable SQL geography functions is optional. (See <a class="wiki external" target="_blank" href="http://en.wikipedia.org/wiki/SRID" rel="external nofollow">http://en.wikipedia.org/wiki/SRID</a><img src="images/external_link.gif" alt="(external link)" width="15" height="14" title="(external link)" class="icon" /> for additional information on SRIDs.)<br />
<br />
<em>Geographic indexes</em> need to be created in the database to make geographic queries run fast (or, in the case of Oracle, to run at all). The instructions for doing this vary with the database.<br />
<h2 class="showhide_heading" id="Databases_supported_for_geographic_data">Databases supported for geographic data</h2>
At release time, Alpha Five Version 11 supports geographic data in <a href="Geographic Databases V11/Database-specific Geography Tasks V11/SQL Server-specific Geography Tasks V11.html" title="SQL Server-specific Geography Tasks V11" class="wiki">Microsoft SQL Server</a>, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/Oracle-specific Geography Tasks V11.html" title="Oracle-specific Geography Tasks V11" class="wiki">Oracle</a>, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/DB2-specific Geography Tasks V11.html" title="DB2-specific Geography Tasks V11" class="wiki">DB2</a>, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/PostgreSQL-specific Geography Tasks V11.html" title="PostgreSQL-specific Geography Tasks V11" class="wiki">PostgreSQL</a> and (to some extent) <a href="Geographic Databases V11/Database-specific Geography Tasks V11/MySQL-specific Geography Tasks V11.html" title="MySQL-specific Geography Tasks V11" class="wiki">MySQL</a>.<br />
<h2 class="showhide_heading" id="How_do_I_create_a_table_with_geographic_data_">How do I create a table with geographic data?</h2>
See <a href="Geographic Databases V11/Common Geography Database Tasks V11.html" title="Common Geography Database Tasks V11" class="wiki">Common Geography Database Tasks V11</a> and the database-specific task notes for your database, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/SQL Server-specific Geography Tasks V11.html" title="SQL Server-specific Geography Tasks V11" class="wiki">Microsoft SQL Server</a>, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/Oracle-specific Geography Tasks V11.html" title="Oracle-specific Geography Tasks V11" class="wiki">Oracle</a>, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/DB2-specific Geography Tasks V11.html" title="DB2-specific Geography Tasks V11" class="wiki">DB2</a>, <a href="Geographic Databases V11/Database-specific Geography Tasks V11/PostgreSQL-specific Geography Tasks V11.html" title="PostgreSQL-specific Geography Tasks V11" class="wiki">PostgreSQL</a> or <a href="Geographic Databases V11/Database-specific Geography Tasks V11/MySQL-specific Geography Tasks V11.html" title="MySQL-specific Geography Tasks V11" class="wiki">MySQL</a>.<br />
<br />
Once you have created the table with a Geography field, don't forget to set up a geographic index on the field, which will make searching for a location within a circle or polygon <em>much </em>faster. (On Oracle, this is a requirement, not an optional step.) Unfortunately, this is a complicated database- and data-dependent task that we're unable to document in a general way. You should refer to your database documentation; in a pinch, you might want to discuss your requirements with a database administrator who has training on or experience with geographic indexes for your brand of database.<br />
<h2 class="showhide_heading" id="Contents">Contents</h2>
<!--depth: 0-->
<ul class="toc">

	<li class="toclevel"><a href="Geographic Databases V11/Changes to SQL Objects for Geometry V11.html" class="link" title="">Changes to SQL Objects for Geometry V11</a>
	</li>

	<li class="toclevel"><a href="Geographic Databases V11/Portable SQL Functions for Geographies V11.html" class="link" title="">Portable SQL Functions for Geographies V11</a>
	</li>

	<li class="toclevel"><a href="Geographic Databases V11/Common Geography Database Tasks V11.html" class="link" title="">Common Geography Database Tasks V11</a>
	</li>

	<li class="toclevel"><a href="Geographic Databases V11/Database-specific Geography Tasks V11.html" class="link" title="">Database-specific Geography Tasks V11</a>
<!--depth: 1-->
		<ul class="toc">

			<li class="toclevel"><a href="Geographic Databases V11/Database-specific Geography Tasks V11/DB2-specific Geography Tasks V11.html" class="link" title="">DB2-specific Geography Tasks V11</a>
			</li>

			<li class="toclevel"><a href="Geographic Databases V11/Database-specific Geography Tasks V11/MySQL-specific Geography Tasks V11.html" class="link" title="">MySQL-specific Geography Tasks V11</a>
			</li>

			<li class="toclevel"><a href="Geographic Databases V11/Database-specific Geography Tasks V11/Oracle-specific Geography Tasks V11.html" class="link" title="">Oracle-specific Geography Tasks V11</a>
			</li>

			<li class="toclevel"><a href="Geographic Databases V11/Database-specific Geography Tasks V11/PostgreSQL-specific Geography Tasks V11.html" class="link" title="">PostgreSQL-specific Geography Tasks V11</a>
			</li>

			<li class="toclevel"><a href="Geographic Databases V11/Database-specific Geography Tasks V11/SQL Server-specific Geography Tasks V11.html" class="link" title="">SQL Server-specific Geography Tasks V11</a>
			</li>
		</ul>
	</li>

	<li class="toclevel"><a href="Geographic Databases V11/SQL Geography Examples V11.html" class="link" title="">SQL Geography Examples V11</a>
	</li>

	<li class="toclevel"><a href="Geographic Databases V11/How to bulk geocode addresses in a database V11.html" class="link" title="">How to bulk geocode addresses in a database V11</a>
	</li>

	<li class="toclevel"><a href="Geographic Databases V11/Working with SqlTypes V11.html" class="link" title="">Working with SqlTypes V11</a>
	</li>
</ul>

<br />
<br />

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Geographic+Databases+V11">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"common","group":"/Guide/Server/Design/Data/SQL/","status":"pending","keywords":"server,sql"} --->
</body></html>