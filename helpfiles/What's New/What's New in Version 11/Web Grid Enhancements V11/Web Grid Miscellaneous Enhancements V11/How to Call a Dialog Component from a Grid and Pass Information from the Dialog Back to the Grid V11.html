	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h1 class="showhide_heading" id="How_to_Call_a_Dialog_Component_from_a_Grid_and_Pass_Information_from_the_Dialog_Back_to_the_Grid">How to Call a Dialog Component from a Grid and Pass Information from the Dialog Back to the Grid</h1>
1. Create a button on the Grid to open the Dialog (use Action Javascript to write the code).<br />
<br />
2. Add a new action to the button using the 'Inline Javascript' action. Make sure that this action gets executed before the action to open the Dialog Component. The code for this action is:<br />
<br />
<div class="plugincode" parse="javascript"><pre class="codelisting" data-syntax="javascript" dir="ltr" style="overflow:auto;" id="codebox" >window<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'__callingGridAlias'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span>grid.<span style="color: #660066;">object</span><span style="color: #009900;">&#125;</span>.<span style="color: #660066;">gridId</span><span style="color: #339933;">;</span>
window<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'__callingGridRow'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'{Grid.RowNumber}'</span><span style="color: #339933;">;</span></pre></div><br />
This code will create two global Javascript variables that contain the name of the Grid alias, and the current row number in the Grid.<br />
<br />
3. In the Dialog component that you create, but this code in the onClick event for a button:<br />
<br />
<div class="plugincode" parse="javascript"><pre class="codelisting" data-syntax="javascript" dir="ltr" style="overflow:auto;" id="codebox1" ><span style="color: #003366; font-weight: bold;">var</span> parentGrid <span style="color: #339933;">=</span> window<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'__callingGridAlias'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
<span style="color: #003366; font-weight: bold;">var</span> parentRow <span style="color: #339933;">=</span> window<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'__callingGridRow'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
<span style="color: #000066; font-weight: bold;">if</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">typeof</span> parentGrid <span style="color: #339933;">!=</span> <span style="color: #3366CC;">'undefined'</span> <span style="color: #339933;">&amp;&amp;</span> <span style="color: #000066; font-weight: bold;">typeof</span> parentRow <span style="color: #339933;">!=</span> <span style="color: #3366CC;">'undefined'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #003366; font-weight: bold;">var</span> val <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span>dialog.<span style="color: #660066;">object</span><span style="color: #009900;">&#125;</span>.<span style="color: #660066;">getValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'NAME'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    window<span style="color: #009900;">&#91;</span>parentGrid <span style="color: #339933;">+</span> <span style="color: #3366CC;">'_GridObj'</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">setValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'G'</span><span style="color: #339933;">,</span><span style="color: #3366CC;">'LASTNAME'</span><span style="color: #339933;">,</span>parentRow<span style="color: #339933;">,</span>val<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #003366; font-weight: bold;">var</span> cw <span style="color: #339933;">=</span> A5.<span style="color: #660066;">windows</span>.<span style="color: #660066;">getFromElement</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">this</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    cw.<span style="color: #660066;">hide</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div><br />
This code checks to see if both the __callingGridAlias global variable and __callingGridRow variable are defined. If they are, then it does this:<br />
<br />
<ul><li>Reads the value of a control called 'Name' on the Dialog
</li><li>Executes the calling Grid's .setValue() method.
</li><li>Gets a pointer to the window in which the Dialog is being hosted.
</li><li>Closes (i.e. hides) the window.
</li></ul>The only tricky part about the code here is the way in which the calling Grid's .setValue() method is called.<br />
<br />
Since we know the calling Grid's alias (it is in __callingGridAlias), we can construct the object name for the calling Grid ( parentGrid + '_GridObj'). Then we look in the global Javascript variable frame for the object ( window<a class="wiki"  href="parentGrid+'_GridObj'" rel="">parentGrid+'_GridObj'</a>). Once we have the object, we can call methods of the object.<br />
<br />
<strong>Note: </strong><br />
These two lines of code:<br />
<br />
<div class="plugincode" parse="javascript"><pre class="codelisting" data-syntax="javascript" dir="ltr" style="overflow:auto;" id="codebox2" ><span style="color: #003366; font-weight: bold;">var</span> cw <span style="color: #339933;">=</span> A5.<span style="color: #660066;">windows</span>.<span style="color: #660066;">getFromElement</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">this</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
cw.<span style="color: #660066;">hide</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div><br />
could be replaced with a single line:<br />
<br />
<div class="plugincode" parse="javascript"><pre class="codelisting" data-syntax="javascript" dir="ltr" style="overflow:auto;" id="codebox3" ><span style="color: #009900;">&#123;</span>dialog.<span style="color: #660066;">object</span><span style="color: #009900;">&#125;</span>.<span style="color: #660066;">closeContainerWindow</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">this</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div><br />
<h2 class="showhide_heading" id="See_Also">See Also</h2>
<a href="../../New Web Components V11/Ajax Dialog and Data Binding V11/Videos for New Dialog Component V11.html" title="Videos for New Dialog Component V11" class="wiki">Videos for New Dialog Component V11</a><br />

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:How+to+Call+a+Dialog+Component+from+a+Grid+and+Pass+Information+from+the+Dialog+Back+to+the+Grid+V11">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"web,review","group":"/Guides","status":"pending","keywords":"server,javascript,grid,component"} --->
</body></html>