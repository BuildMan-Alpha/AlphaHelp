	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<h1 class="showhide_heading" id="hmac_hash_">hmac_hash()</h1>
<h3 class="showhide_heading" id="Syntax">Syntax</h3>
C <span style="color:#060; background:"><em>Result</em></span> =  hmac_hash(C <span style="color:#060; background:"><em>data</em></span> ,C <span style="color:#060; background:"><em>key</em></span> [,C <span style="color:#060; background:"><em>algorithm</em></span> ])<br />
<br />
<table class="normal" id="fancytable_1">
	
		<tr>
			<td class="odd"><strong>Argument</strong> </td>
			<td class="odd"> <strong>Description</strong></td>
		</tr>
		<tr>
			<td class="even"><span style="color:#060; background:"><em>C data </em></span> </td>
			<td class="even"> Data to sign</td>
		</tr>
		<tr>
			<td class="odd"><span style="color:#060; background:"><em>C key</em></span> </td>
			<td class="odd"> Secret key to use for signature</td>
		</tr>
		<tr>
			<td class="even"><span style="color:#060; background:"><em>C algorithm </em></span> </td>
			<td class="even"> (optional, defaults to "HMACSHA1") Algorithm to use for signing</td>
		</tr>
</table><br />
<h3 class="showhide_heading" id="Description">Description</h3>
Generates a Base64 digital signature of the data using the key and HMACSHA1, HMACSHA256, or any other signing method supported by the .NET Framework. This is useful for verifying file uploads and downloads, and for signing e-commerce documents as required by sites such as Amazon.<br />

<h3 class="showhide_heading" id="Examples">Examples</h3>
Interactive session:<br />
<div class="plugincode" parse="vbnet"><pre class="codelisting" data-syntax="vbnet" dir="ltr" style="overflow:auto;" id="codebox" >?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #008080; font-style: italic;">'defaults to &quot;HMACSHA1&quot;</span>
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;Wnw05dPAEo44+bw1luJqAWksvhE=&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span>, <span style="color: #808080;">&quot;HMACSHA1&quot;</span><span style="color: #000000;">&#41;</span>
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;Wnw05dPAEo44+bw1luJqAWksvhE=&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span>, <span style="color: #808080;">&quot;HMACSHA256&quot;</span><span style="color: #000000;">&#41;</span>
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;kBhEzgLKNjSjjzQw7s240hvoY62kDG/wHDjYXry++nA=&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span>, <span style="color: #808080;">&quot;HMACSHA384&quot;</span><span style="color: #000000;">&#41;</span>
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;1819IdbuGcIweTIhYBwIK1mOmNrlpgRKK98gnDlVJyXug36wQoDWuBoGlB/GfMqc&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span>, <span style="color: #808080;">&quot;MACTripleDES&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #008080; font-style: italic;">'method not case sensitive</span>
<span style="color: #FF8000;">ERROR</span>: <span style="color: #0600FF;">command</span>: 				HMAC_HASH <span style="color: #008000;">=</span> hash.<span style="color: #0000FF;">SignUsing</span><span style="color: #000000;">&#40;</span>data,key,alg<span style="color: #000000;">&#41;</span>
Exception has been thrown by the target <span style="color: #FF8000;">of</span> an invocation.
<span style="color: #0000FF;">Specified</span> key <span style="color: #FF8000;">is</span> <span style="color: #804040;">not</span> a valid size <span style="color: #FF8000;">for</span> this algorithm.
&nbsp;
<span style="color: #008080; font-style: italic;">'Note that the above error message is correct.</span>
<span style="color: #008080; font-style: italic;">'The Key parameter for Triple DES must be 16 or 24 bytes in length.</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;1234567890123456&quot;</span>, <span style="color: #808080;">&quot;MACTripleDES&quot;</span><span style="color: #000000;">&#41;</span> 
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;XV17/zrLgzk=&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;123456789012345678901234&quot;</span>, <span style="color: #808080;">&quot;MACTripleDES&quot;</span><span style="color: #000000;">&#41;</span> 
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;MvLeC8oR/vw=&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span>, <span style="color: #808080;">&quot;hMACmd5&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #008080; font-style: italic;">'not case sensitive</span>
<span style="color: #008000;">=</span> <span style="color: #808080;">&quot;6YeAf6EEZBgdF4BqkAQe/w==&quot;</span>
&nbsp;
?HMAC_HASH<span style="color: #000000;">&#40;</span><span style="color: #808080;">&quot;my data&quot;</span>, <span style="color: #808080;">&quot;my key&quot;</span>, path, <span style="color: #808080;">&quot;garbage&quot;</span><span style="color: #000000;">&#41;</span> <span style="color: #008080; font-style: italic;">'should fail</span>
<span style="color: #FF8000;">ERROR</span>: <span style="color: #0600FF;">command</span>: 				HMAC_HASH <span style="color: #008000;">=</span> hash.<span style="color: #0000FF;">SignUsing</span><span style="color: #000000;">&#40;</span>data,key,alg<span style="color: #000000;">&#41;</span>
Exception has been thrown by the target <span style="color: #FF8000;">of</span> an invocation.
<span style="color: #FF0000;">Object</span> reference <span style="color: #804040;">not</span> <span style="color: #FF8000;">set</span> <span style="color: #FF8000;">to</span> an instance <span style="color: #FF8000;">of</span> an <span style="color: #FF0000;">object</span>.</pre></div><br />
<div class="clearfix rbox note"><img src="images/close.png" alt="Close" width="16" height="16" class="rbox-close" onclick="$(this).parent().fadeOut();" title="Close" /><div class="rbox-title"><img src="images/information.png" alt="note" width="16" height="16" title="note" class="icon" /><span>Note</span></div><div class="rbox-data">The value returned is in Base64, which is what most e-commerce sites want. If you try to compare Base64 with an online hash calculator that returns hexadecimal, they will not appear to match.<br />
<br />
Also, HMAC hashes are encrypted with a key, unlike simple unencrypted hashes such as SHA-1.</div></div><br />
<h3 class="showhide_heading" id="See_Also">See Also</h3>
<a href="../../../../Guide/Design/Platform/Dotnet/DotNet Example__COLON__ Digital Hash.html" title="DotNet Example: Digital Hash" class="wiki">DotNet Example: Digital Hash</a><br />
<a class="wiki external" target="_blank" href="http://msdn.microsoft.com/en-us/library/system.security.cryptography.aspx" rel="external nofollow">.NET System.Security.Cryptography Namespace</a><img src="images/external_link.gif" alt="(external link)" width="15" height="14" title="(external link)" class="icon" /><br />

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:hmac_hash+Function">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA:{"tags":"common","status":"pending","keywords":"api,ref"}--->
</body></html>