<page>
   <topic>DTOS Function</topic>
   <syntax>Formatted_Date as C = DTOS(D date)</syntax>
   <arguments>
     <argument>
         <name>date</name>
         <description>A variable containing a date value or a character string containing a legitimate representation of a date value ( ISDATE (Date_Value) = .T.).
</description>
     </argument>
   </arguments>
   <description>Converts a date to a character value in the form 'YYYYMMDD'.</description>
   <discussion>
DTOS() converts a Date_Time_Value to a Formatted_Date character string in the form "YYYYMMDD." This function is useful for constructing multi-level indexes that contain both character and date fields.
Indexes containing the DTOS() function order dates chronologically (year, then month, then day), while those containing DTOC() order dates by month, day, and year.

   </discussion>
   <example><![CDATA[
dtos(INV_DATE) -> "19931218", if INV_DATE contains 12/18/1993
]]></example>
   <sections>
       <section>
            <description>Assume you want to order an employee table by department and within each department by seniority. The table has a character field, DEPT, and a date field, STARTDATE. Use the following index expression:
</description>
            <example><![CDATA[
DEPT + dtos(START)
]]></example>
       </section>
       
       <section><description>The following table shows the order created by this index:
       </description></section>
       
       <section>
       <description><![CDATA[
         <div align=center>  <table style="border-left-style: none; border-right-style: none; border-top-style: none; border-bottom-style: none; float: aligncenter; border-spacing: 0px; border-spacing: 0px;" cellspacing="0"> <col> <col> <col> <tr> <td colspan="3" rowspan="1" class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHeadCenter>EMPLOYEE</td> <td_null> <td_null> </tr> <tr> <td class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHead>FIRSTNAME</td> <td class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHead>DEPT</td> <td class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHead>START</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Steve</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">Marketing</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">03/21/78</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Kate</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">Marketing</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">04/17/79</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Sarah</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">Marketing</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">01/02/83</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Ralph</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">R&D</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">01/01/80</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Tim</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">R&D</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">03/20/80</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid; border-bottom-width: 1px; border-bottom-style: Solid;" valign="top">Francie</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-right-width: 1px; border-right-style: Solid; border-bottom-width: 1px; border-bottom-style: Solid;" valign="top">R&D</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">02/17/84</td> </tr> </table>  </div> 
       ]]>
       </description>
       </section>
       
       <section><description>Compare this result with the DTOC() function. If the DTOC() function is used in the above index expression instead of DTOS() , the following ordering results:

       </description></section>
       
        <section>
       <description><![CDATA[
           <div align=center>  <table style="border-left-style: none; border-right-style: none; border-top-style: none; border-bottom-style: none; float: aligncenter; border-spacing: 0px; border-spacing: 0px;" cellspacing="0"> <col> <col> <col> <tr> <td colspan="3" rowspan="1" class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHeadCenter>EMPLOYEE</td> <td_null> <td_null> </tr> <tr> <td class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHead>FIRSTNAME</td> <td class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHead>DEPT</td> <td class="tableHeader" style="x-cell-content-align: top;" valign="top"><p class=TableHead>START</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Sarah</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">Marketing</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">01/02/83</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Steve</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">Marketing</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">03/21/78</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Kate</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">Marketing</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">04/17/79</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Ralph</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">R&D</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">01/01/80</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid;" valign="top">Francie</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">R&D</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">02/17/84</td> </tr> <tr> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-right-width: 1px; border-right-style: Solid; border-left-width: 1px; border-left-style: Solid; border-bottom-width: 1px; border-bottom-style: Solid;" valign="top">Tim</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-right-width: 1px; border-right-style: Solid; border-bottom-width: 1px; border-bottom-style: Solid;" valign="top">R&D</td> <td style="x-cell-content-align: top; border-spacing: 0px; padding-left: 3px; padding-top: 3px; padding-right: 3px; padding-bottom: 3px; border-bottom-width: 1px; border-bottom-style: Solid; border-right-width: 1px; border-right-style: Solid;" valign="top">03/20/80</td> </tr> </table>  </div> 
       ]]></description>
       </section>
       </sections>
       
       
       <sections>
       <section>
       <description> Entering search criteria to search on a date field presents a problem because you cannot type in a date directly as a text string. You must either surround the text you enter with the CTOD() function, or use a function to convert the date field to a character field before comparing it with the text.
If you want to search a date field, BIRTHDAY, for the date, "September 20, 1966," you can enter the following criteria:
</description>
       <example>dtos({09/20/66}) -> 19660920
dtos(BIRTHDAY) = "19660920" or
BIRTHDAY = ctod("09/20/1966") or
BIRTHDAY = ctod("09/20/66") or
BIRTHDAY = {9/20/66}</example>
       </section>
       </sections>
       
       
   
   <see>
      <ref>Date and Time Functions</ref>
   </see>
</page>