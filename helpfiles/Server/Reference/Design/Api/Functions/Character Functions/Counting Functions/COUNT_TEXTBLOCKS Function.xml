<page>
   <topic>COUNT_TEXTBLOCKS Function</topic>
   <syntax>Count as N = count_textblocks(C string ,C start_string ,C end_string [,L case_sensitive [,L regex_safe ]])</syntax>
   <arguments>
     <argument>
         <name>Count</name>
         <description>The number of instances of the find text in Search_in_Text.</description>
     </argument>
     <argument>
         <name>string</name>
         <description>The string to examine for the find text. Character</description>
     </argument>
     <argument>
         <name>start_string</name>
         <description>The beginning characters of the variable length text. Character</description>
     </argument>
     <argument>
         <name>end_string</name>
         <description>The ending characters of the variable length text. Character</description>
     </argument>
     <argument>
         <name>case_sensitive</name>
         <description>Logical. Optional. Default = .F.; .T. = Case sensitive, .F. = Case insensitive </description>
     </argument>
     <argument>
         <name>regex_safe</name>
         <description>
 Logical. Optional. Default = .F. The "unsafe" characters are ., |, *, ?, +, (, ), {, }, , , ^, $ and \. If your Start_Find_Text and End_Find_Text do not contain any of these characters, you should set Regex_Safe to true to maximize performance.
 .T. = Improves performance by declaring that the start and end tags are already regular expression safe and COUNT_TEXTBLOCKS() does not need to escape special characters.
 .F. = Unsafe characters are replaced. This decreases performance on a large string.</description>
     </argument>
   </arguments>
   <description>Counts the number of occurrences of a sub-string starting with 'start_string' and ending with 'end_string'.</description>
   <discussion>
The COUNT_TEXTBLOCKS() function returns the number of instances of the variable length text found in string.
   </discussion>
   <example><![CDATA[
txt = 
this is line one

this is line 2

this is line 3

%txt%
st = ""
? count_textblocks(txt, st, en, .t.)
= 0.000000
? count_textblocks(txt, st, en, .f.)
= 3.000000
]]></example>
   
   <see>
      <ref>Character Search Functions</ref>
      <ref>Character Counting Functions</ref>
      <ref>Character Replacement Functions</ref>
   </see>
</page>