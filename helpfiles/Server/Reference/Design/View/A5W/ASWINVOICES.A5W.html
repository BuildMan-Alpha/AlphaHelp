	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	 




<article id="top" class="wikitext nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Topic>ASWINVOICES.A5W</p>



<p class=A5>Purpose</p>



<p>The application administrator users the ASWINVOICES.A5W page to select, 
 view, and print the details of invoices.</p>



<p class=A5>Description</p>



<p>ASWINVOICES.A5W is an internal page. It shows an invoice header and 
 related line items in 2 linked grids using a gridlinker. The parent component 
 is <a href="../Component/GRD_INVHEAD Grid Component.html" title="GRD_INVHEAD Grid Component" class="wiki">GRD_INVHEAD</a>. The child 
 component is <a href="../Component/GRD_INVLINES Grid Component.html" title="GRD_INVLINES Grid Component" class="wiki">GRD_INVLINES</a>. 
 The GRD_INVLINES component uses calculated fields to calculate and display 
 discounts and taxes by line. The total is displayed at the bottom of the 
 page.</p>



<p>ASWINVOICES.A5W is used in sales history pages by filtering on the <span 
 class=Code1>customer</span> table's <span class=Code1>customer_id</span> 
 field and the <span class=Code1>invoice_header</span> table's <span class=Code1>invoice_number</span> 
 field. When the page receives an override value in the page URL address, 
 the parent gridlinker filter is changed in the override value <span class=Code1>OverrideSettings</span>. 
 If the page is filtered, a logical variable is used to show a link to 
 "Show All Records".</p>



<p>ASWINVOICES.A5W contains the <a href="../Component/NAV_INT Navigation Component.html" title="NAV_INT Navigation Component" class="wiki">NAV_INT</a> 
 navigation and <a href="../Component/GRDL_INV GridLinker Component.html" title="GRDL_INV GridLinker Component" class="wiki">GRDL_INV</a> 
 gridlinker components.</p>



<p class=A5>Links</p>



<p>The <span class=Button>Sales > Invoices</span> entry in the NAV_INT 
 navigation component displays the ASWINVOICES.A5W page. The <a href="ASWSALESHIST.A5W.html" title="ASWSALESHIST.A5W" class="wiki">ASWSALESHIST.A5W</a> 
 page can also open ASWINVOICES.A5W. From that page, the page is filtered 
 on either on the <span class=Code1>customer</span> table's <span class=Code1>customer_id 
 field</span> or the <span class=Code1>invoice_header</span> table's <span 
 class=Code1>invoice_number</span> field. When the page receives an override 
 value in the page URL address, the parent grid linker filter is changed 
 in the override value OverrideSettings. If the page is filtered, a logical 
 variable is used to show a link to "Show All Records".</p>



<p class=Pix><img src="images/ASWINVOICES_A5W.gif"
					x-maintain-ratio=TRUE
					style="width: 262px;
							height: 608px;
							border-left-style: Solid;
							border-left-width: 1px;
							border-right-style: Solid;
							border-right-width: 1px;
							border-top-style: Solid;
							border-top-width: 1px;
							border-bottom-style: Solid;
							border-bottom-width: 1px;
							float: none;"
					width=262
					height=608
					border=1></p>



<p class=PixCaption>ASWINVOICES.A5W in the WYSIWYG tab of the HTML Editor 
 </p>



<p class=Pix><img src="images/ASWINVOICES_A5W_2.gif"
					x-maintain-ratio=TRUE
					style="border-left-style: Solid;
							border-left-width: 1px;
							border-right-style: Solid;
							border-right-width: 1px;
							border-top-style: Solid;
							border-top-width: 1px;
							border-bottom-style: Solid;
							border-bottom-width: 1px;
							float: none;
							width: 608px;
							height: 374px;"
					width=608
					height=374
					border=1></p>



<p class=PixCaption>ASWINVOICES.A5W in the Browser </p>



<p class=A5>Edits to the Page Source</p>



<p>When you look at ASWINVOICES.A5W with the <span class=Screen>Source</span> 
 tab of the <span class=Screen>HTML Editor</span>, you will see a large 
 amount of HTML and Xbasic code. The <span class=Screen>HTML Editor</span> 
 placed almost all of it there automatically,&nbsp;as&nbsp;we used the 
 <span class=Screen>WYSIWYG</span> tab to place the tables, text, graphics, 
 and components on the page. There are a few interesting exceptions, where 
 we changed the page code through the <span class=Screen>Source</span> 
 tab.</p>



<p>The <span class=Code1>inv</span> and <span class=Code1>custid</span> 
 variables are optional parameters used to filter the records that the 
 grids display. If either variable is not provided in the URL that page, 
 this code creates it and sets it value to NULL.</p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>if eval_valid("../Component/GRD_INVHEAD Grid Component.html") = .F. ' specific invoice</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;inv 
 = ""</p>


<p class=Code>end if</p>


<p class=Code>if eval_valid("custid") = .F. ' specific customer</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;custid 
 = ""</p>


<p class=Code>end if</td></tr>
</table>

<p>These statements override properties of the navigation component. The 
 <span class=Code1>location = "Sales"</span> statement highlights 
 the Sales tab of the menu. </p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>... code to load the navigation component</p>


<p class=Code>with tmpl_NAV_INT</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;location 
 = "Sales" 'highlight current option on navigation</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;componentName 
 = "NAV_INT"</p>


<p class=Code>end with</td></tr>
</table>

<p>The following code calculates the filter expressions to apply to the 
 two grid components. It uses placeholders for the <span class=Code1>inv</span> 
 and <span class=Code1>custid</span> variables.</p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>override1 = \&lt\&lt%code%</p>


<p class=Code>DBF.filter = "Invoice_Number=\"<a class="wiki"  href="../Component/GRD_INVHEAD Grid Component.html" rel="">inv</a>\""</p>


<p class=Code>%code%</p>


<p class=Code>override2 = \&lt\&lt%text%</p>


<p class=Code>DBF.filter = "Customer_id=\"<a class="wiki"  href="custid" rel="">custid</a>\""</p>


<p class=Code>%text%</td></tr>
</table>

<p>The <span class=Code1>filtered</span> variable is used below to show 
 a link if the page is filtered.</p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>filtered = .F. '</td></tr>
</table>

<p>This code merges the <span class=Code1>inv</span> and <span class=Code1>custid</span> 
 variables into the filter expressions defined above. The new <span class=Code1>OverrideSettings</span> 
 properties change the records shown in the two grids. The <span class=Code1>filtered</span> 
 variable is set to TRUE if either or both grids are filtered.</p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>if inv \&lt> "" ' invoice number filter has 
 priority if both specified</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;with 
 tmpl_GridLinker</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grid_Info<a class="wiki"  href="1" rel="">1</a>.OverrideSettings 
 = stritran(override1, "<a class="wiki"  href="../Component/GRD_INVHEAD Grid Component.html" rel="">inv</a>", inv)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;End 
 with</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;filtered 
 = .T.</p>


<p class=Code>else if custid \&lt> ""</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;with 
 tmpl_GridLinker</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grid_Info<a class="wiki"  href="1" rel="">1</a>.OverrideSettings 
 = stritran(override2, "<a class="wiki"  href="custid" rel="">custid</a>", custid)</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;End 
 with</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;filtered 
 = .T.</p>


<p class=Code>end if</td></tr>
</table>

<p>The <a href="../../Api/Functions/Internet Functions/A5W_INCLUDE Function.html" title="A5W_INCLUDE Function" class="wiki">A5W_INCLUDE(</a>) statement 
 is in the top row of the table. It loads <a href="TOPPAGE.A5W.html" title="TOPPAGE.A5W" class="wiki">TOPPAGE.A5W</a> 
 and displays a standard page header.</p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code><span class=HTML1>&ltbody></span></p>


<p class=Code><span class=HTML1>&ltp></span></p>


<p class=Code><span class=HTML1>&lttable cellSpacing=0 cellPadding=0 border=0></span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&lttr></span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;\&lttd 
 colspan="2"></span> &lt%a5 a5w_include("toppage.a5w") 
 %> <span class=HTML1>\&lt/td></span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&lt/tr></span></td></tr>
</table>

<p>This short script test to see if the <span class=Code1>filtered</span> 
 variable is TRUE. If so, it displays the "Show All Invoices" 
 link. This link reloads the page, but without the filter parameters attached 
 to the URL.</p>




<table class="htmlTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>\&lt%a5 if filtered = .T. %></p>


<p class=Code><span class=HTML1>&ltbr>&nbsp;&lta href="</span> 
 &lt%a5 ?request.script_name %> <span class=HTML1>">Show All 
 Invoices&lt/a></span></p>


<p class=Code>&lt%a5 end if %></td></tr>
</table>

<p class=A5>Page Security Information</p>



<p>Login Required<br>
<span class="Control">Groups Allowed  >  Accounting, Administrators, Clerical, Marketing </span></p>



<p class=A5>See Also</p>



<p><a href="AlphaSportsWeb Web Pages.html" title="AlphaSportsWeb Web Pages" class="wiki">Web Pages</a></p>


	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:ASWINVOICES.A5W">-->


	 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA:{"tags":"web","status":"pending","keywords":"server,ref,a5w"}--->
</body></html>