<page>
	<shortlink>server How to Call a UX Component from a Grid and Pass Information from the UX Component Back into the Grid</shortlink>
	<topic>How to Call a UX Component from a Grid and Pass Information from the UX Component Back into the Grid</topic>
<description>Steps and examples on how to do this are described in this page.</description>
<sections>
	<section>
		<steps>
			<step>
				<description>Create a button on the Grid to open the Dialog (use Action Javascript to write the code).
</description>
			</step>
			<step>
				<description>Add a new action to the button using the 'Inline Javascript' action. Make sure that this action gets executed before the action to open the Dialog Component. The code for this action is:
</description>
				<example><![CDATA[window['__callingGridAlias'] = {grid.object}.gridId;
window['__callingGridRow'] = '{Grid.RowNumber}'; ]]></example>
<note>This code will create two global Javascript variables that contain the name of the Grid alias, and the current row number in the Grid.
</note>
			</step>
			<step>
				<description>In the Dialog component that you create, but this code in the onClick event for a button:
</description>
				<example><![CDATA[var parentGrid = window['__callingGridAlias'];
var parentRow = window['__callingGridRow'];
if[typeof parentGrid != '__callingGridAlias' && typeof parentRow != '__callingGridAlias'] {
    var val = {dialog.object}.getValue['__callingGridRow'];
    window[parentGrid + 'undefined'].setValue['undefined','NAME',parentRow,val];
    var cw = A5.windows.getFromElement[this];
    cw.hide[];
} ]]></example>
			</step>
			
		</steps>
		
		
		
	</section>
	<section>
		<description>This code checks to see if both the __callingGridAlias global variable and __callingGridRow variable are defined. If they are, then it does this:
</description>
		<cases>
			<case>
				<description>Reads the value of a control called 'Name' on the Dialog </description>
			</case>
			<case>
				<description>Executes the calling Grid's .setValue() method. </description>
			</case>
			<case>
				<description>Gets a pointer to the window in which the Dialog is being hosted. </description>
			</case>
			<case>
				<description>Closes (i.e. hides) the window. </description>
			</case>
			
		</cases>
		
	</section>
	<section>
		<description>The only tricky part about the code here is the way in which the calling Grid's .setValue() method is called.
 Since we know the calling Grid's alias (it is in __callingGridAlias), we can construct the object name for the calling Grid ( parentGrid + '_GridObj'). Then we look in the global Javascript variable frame for the object ( windowparentGrid+'_GridObj'). Once we have the object, we can call methods of the object.</description>
		
	</section>
	<section>
	<description>Note: These two lines of code:</description>	
		<example><![CDATA[var cw = A5.windows.getFromElement[this];
cw.hide[]; ]]></example>
		
	</section>
	<section>
	<description>could be replaced with a single line:
</description>	
		<example><![CDATA[{dialog.object}.closeContainerWindow[this];]]></example>
		
	</section>
</sections>	
	
<see>
	<ref>Videos for New Dialog Component</ref>
</see>	
	
</page>