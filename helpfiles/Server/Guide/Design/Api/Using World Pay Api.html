<html>
<head>

	<meta http-equiv="Content-Language" content="en-us">
	<title>Alpha Software: Release Notes for Version 12</title>
	
	
	



</head>
<body><style>
<!--
p, ul, li            { font-family: Tahoma; width: 7in; font-size: 9pt; margin-left: .5in; margin-top:0px; margin-bottom:5px }
.xbasic      { font-family: Courier New; font-size: 10pt; color: #0000FF; margin-left: 1.1in;
               margin-top: 0; margin-bottom: 0 }
.note		{ padding: 10px; background-color: #f0f0f0;	border-radius: 3px;}            

td           { font-family: Tahoma; font-size: 8pt; VERTICAL-ALIGN: top}
h1           { font-family: Tahoma; font-size: 11pt; color: #ff0000 }
h2           { font-family: Tahoma; font-size: 10pt ; color: #ff0000}
h4 			  {font-family: Tahoma; font-size: 9pt; font-weight: bold; color: #ff0000}
h3           { font-family: Tahoma; font-size: 10pt ; color: #ff0000; margin-left: .5in;}

BODY {font-family="Arial"}
.tableText {font-family: tahoma; font-size: 8pt;}
.rowEven {background-color:white;}
.searchHighlight {color: red;}

 margin-top:0in}
-->
</style>
    <p>
        <b>WorldPay API</b><br /><br />

        A new XBasic class called <b>WorldPayAPI::SoapActions</b> has been added to support the WorldPay Online Commerce Suite. All of the documented 
        methods of the WorldPay SOAP API are included in this class.</p>
	<p>
        &nbsp;</p>
	<p>
        Click <a href="WPAY_SOAP_Integration_Guide.pdf" target="_blank" >here</a> to see the 
		official WorldPay API documentation.<br /><br />

        WorldPay is one of the world&#39;s leading payment companies.
        The WorldPay integration within Alpha Anywhere allows developers to process credit card and ACH transactions easily through WorldPay.
        You will need to setup a WorldPay merchant account to get started.
        See <a href= "http://www.alphasoftware.com/worldpay" target="_blank">Alpha Anywhere / WorldPay Info</a>
       
        </p>
    <p>
        &nbsp;</p>
    <p>
       
        Before using the WorldPayAPI::SoapActions class you will need to make note of your WorldPay account Id, account subid( if any) and merchant pin. 
        If you are testing with a sandboxed WorldPay developer account, you will also need to provide the test credit card information that will be provided
        by WorldPay.
        
        </p>
    <p>
        &nbsp;</p>
    <p>
        <strong>To instantiate a WorldPayAPI::SoapActions object</strong>
    </p>
    <p class ="xbasic">
        dim wp as WorldPayAPI::SoapActions = new WorldPayAPI::SoapActions()
    </p>
 
    <p>
        <br />You will be passing in a dot variable that contains (at a minimum) the required properties for each of the WorldPayAPI::SoapActions methods.<br /><br />
      
        <b>The WorldPayAPI::SoapActions methods include:</b>
    </p>
    
				
    
    <p>
        <table  border="1" cellspacing="1" cellpadding="3" id="table81" style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; margin-left: 0.5in; border-collapse: collapse; " width="992">
            <tr><td><b>Method</td><td><b>Description</td><td><b>Required Properties</td><td>Response Object</b></b></b></td></tr>
                        <tr class="alt1"><td colspan=5><b>Credit Card Transactions</b></td></tr>
                        <tr><td><b>processCCSale</b></td><td>Process a credit card sale</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processCCAuth</b></td><td>Authorize a credit card sale</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processCCCredit</b></td><td>Process a standalone credit card credit</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processCCPost</b></td><td>Process a post/capture of a previous credit card auth</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processAuthReverse</b></td><td>Perform a reversal of a credit card auth</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processVoid</b></td><td>Void a previous auth or sale</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processCredit</b></td><td>Issue credit for a previous CC or ACH Sale</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
                        <tr class="alt1"><td colspan=5><b>Gift Card Transactions</b></td></tr>
                        <tr><td><b>processSVSale</b></td><td>Process a gift card sale</td><td>acctid,  subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processSVAddValue</b></td><td>Add value to a gift card</td><td>acctid,  subid, merchantpin,amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processSVIssue</b></td><td>Issue a new gift card</td><td>acctid, subid, merchantpin,amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processSVDeactivate</b></td><td>Deactivate a gift card</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processSVRefund</b></td><td>Refund a gift card transaction</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
                        <tr class="alt1"><td colspan=5><b>Stored Profiles</b></td></tr>
                        <tr><td><b>processProfileSale</b></td><td>Issue CC, ACH or ExtACH sale using a stored profile.</td><td>acctid, subid, merchantpin, amount, userprofileid, last4digits</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processProfileCredit</b></td><td>Issue credit using a stored profile</td><td>acctid, subid, merchantpin, amount, userprofileid, last4digits</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processProfileUpdate</b></td><td>Updates a stored profile</td><td>acctid, subid, merchantpin, userprofileid, last4digits, accttype, profilenobill</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processCCProfileAdd</b></td><td>Store credit card using a stored profile</td><td>acctid, subid, merchantpin, ccnum, expmon, expyear, ccname</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processCKProfileAdd</b></td><td>Store ACH using a stored profile</td><td>acctid, subid, merchantpin, ckname, ckaba, ckno, ckacct</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processExtACHProfileAdd</b></td><td>Store ExtACH using a stored profile</td><td>acctid, subid, merchantpin, ckname, ckaba, ckno, ckacct</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processProfileDelete</b></td><td>Delete a stored profile</td><td>acctid, subid, merchantpin, userprofileid, last4digits, ipaddress </td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processProfileRetrieve</b></td><td>Retrieves the account number, address and billing info</td><td>acctid, subid, merchantpin, userprofileid, last4digits</td><td>ProcessProfileResult</td></tr>
            <tr><td><b>processAccountLookup</b></td><td>Perfroms an account lookup for the stored profile</td><td>acctid, subid, merchantpin, ssnum, billaddress </td><td>ProcessAccountLookupResult</td></tr>
                        <tr class="alt1"><td colspan=5><b>Debit Card Transactions</b></td></tr>
                        <tr><td><b>processDebitSale</b></td><td>Process PIN-Debit sale transaction</td><td>acctid, subid, merchantpin, amount, customerid, swipedata</td><td>ProcessResult</td></tr>
            <tr><td><b>processDebitAuth</b></td><td>Process PIN-Debit auth transaction</td><td>acctid, subid, merchantpin, amount, customerid, swipedata</td><td>ProcessResult</td></tr>
            <tr><td><b>processDebitReturn</b></td><td>Process PIN-Debit return transaction</td><td>acctid, subid, merchantpin, amount, customerid, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processDebitVoid</b></td><td>Process PIN-Debit void transaction</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processDebitPost</b></td><td>Issue PIN-Debit post</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processDebitPinless</b></td><td>Issue pinless debit</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processDebitPinlessCredit</b></td><td>Issue pinless credit</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
                        <tr class="alt1"><td  colspan=5><b>ACH Transactions</b></td></tr>
                        <tr><td><b>processACHSale</b></td><td>Process a ACH sale</td><td>acctid, subid, merchantpin, amount, ckname, ckaba, ckno, ckacct, cktype</td><td>ProcessResult</td></tr>
            <tr><td><b>processVoid</b></td><td>Void a previous check authorization</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processCredit</b></td><td>Issue credit for a previous ACH sale</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processACHCredit</b></td><td>Process a standalone ACH credit</td><td>acctid, subid, merchantpin, amount, ckname, ckaba, ckno, ckacct, cktype</td><td>ProcessResult</td></tr>
            <tr><td><b>processACHVerification</b></td><td>Process a ACH verification</td><td>acctid, subid, merchantpin, amount, ckname, ckaba, ckno, ckacct, cktype</td><td>ProcessResult</td></tr>
                        <tr class="alt1"><td colspan="4"><b>Check 21 Transactions</b></td></tr>
                        <tr><td><b>processC21Sale</b></td><td>Process a check 21 ICL/RCC sale</td><td>acctid, subid, merchantpin, amount, ckname, firstname, lastname, ckaba,</td><td>ProcessResult</td></tr> 
            <tr><td></td><td></td><td>ckno, ckacct, ckaccttype, billstreet, housenumber, companyname, phone,</td><td></td></tr>
            <tr><td></td><td></td><td>email, billaddress</td><td></td></tr>
            <tr><td><b>processC21Credit</b></td><td>Process a check 21 ICL/RCC credit</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
            <tr><td><b>processC21Void</b></td><td>Process a check 21 ICL/RCC void</td><td>acctid, subid, merchantpin, amount, orderid, historyid</td><td>ProcessResult</td></tr>
                        <tr class="alt1"><td colspan=4><b>Recurring Records</b></td></tr>
                        <tr><td><b>processRecurAdd</b></td><td>Creates a recurring record without an initial transaction</td><td>acctid, subid, merchantpin, accttype, acctdata1, acctdata2, acctname,</td><td>ProcessResult</td>
            <tr><td></td><td></td><td>recurring, recur_nextbillingdate</td><td></td></tr>    
            <tr><td><b>processRecurUpdate</b></td><td>Updates a recurring record</td><td>acctid, subid, merchantpin, orderid</td><td>ProcessResult</td></tr>
            <tr><td><b>processRecurCancel</b></td><td>Cancels an active recurring record</td><td>acctid, subid, merchantpin, orderid, canceltype</td><td>ProcessResult</td></tr>
           
            <tr ><td colspan=5><b>3rd Party Check Processing</b></td></tr>
           
            <tr><td><b>processExtACHConsumerDisbursement</b></td><td>Process a standalone ext ACH consumer disbursement</td><td>acctid, subid, merchantpin,  amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processExtACHCredit</b></td><td>Process an extented ACH credit</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processExtACHSale</b></td><td>Process an extended ACH sale</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
            <tr><td><b>processExtACHVoid</b></td><td>Process sn extended ACH void</td><td>acctid, subid, merchantpin, amount, ccnum, expmon, expyear, ccname</td><td>ProcessResult</td></tr>
                    </table>
    </p>
    <br />
    <p><b>Please note:</b> Only the required properties are indicated in the table above. Each of the methods takes a variety of properties and objects that are further described in the 
<b>WorldPay SOAP Integration Guide</b>. See <a href="WPAY_SOAP_Integration_Guide.pdf" target="_blank">The WorldPay SOAP Integration Guide</a> 
    </p>
    <p>
        <br /><br /><b>Response Objects</b>
        <table  border="1" cellspacing="1" cellpadding="3" id="table81" style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; margin-left: 0.5in; border-collapse: collapse; " width="992">
            <tr><td><b>Object Type</td><td><b>Notes</b></b></td></tr>
                        <tr class="alt1"><td  colspan=5><b>Builtin XBasic CallResult</b></td></tr>
                        <tr><td><b>returnDataValue</b></td><td>Contains one of the 3 possible WorldPay response objects, dependent upon the API method called.</td></tr>
            <tr><td></td><td><ul><li>ProcessResult</li><li>ProcessProfileResult</li><li>ProcessAccountLookupResult</li></ul></td></tr>
            <tr><td><b>Canceled</b></td><td>Value is .T. if the API call is canceled otherwise .F.</td></tr>
            <tr><td><b>Error</b></td><td>Value is .T. on error condition, otherwise .F.</td></tr>
            <tr><td><b>NativeCode</b></td><td>Native response code value returned from the request, if any.</td></tr>
            <tr><td><b>NativeText</b></td><td>Native text value returned from the request, typically Success or Declined. </td></tr>
            <tr><td><b>Code</b></td><td>Value is response code value of the API call, if any.</td></tr>
            <tr><td><b>Text</b></td><td>Value indicates the status of the API call.</td></tr>
                                    <tr class="alt1"><td colspan=5><b>WorldPay Response Objects</b></td></tr>
                                    <tr class="alt1"><td  colspan=5><b>ProcessResult</b></td></tr>
            <tr><td><b>status</b></td><td>Declined or approved.</td></tr>
            <tr><td><b>result</b></td><td>Colon delimited result code.</td></tr>
            <tr><td><b>total</b></td><td>Floating point number indicating transaction dollar amount in US dollars.</td>    
            <tr><td></td><td>Round to 2 decimal places as required.</td></tr>
            <tr><td><b>orderid</b></td><td>Order key id of the original transaction.</td></tr>
            <tr><td><b>historyid</b></td><td>History key id of the original transaction.</td></tr>
            <tr><td><b>authcode</b></td><td>Colon delimited result code.</td></tr>
            <tr><td><b>merchantordernumber</b></td><td>Customer's unique alpha-numeric number.</td></tr>
            <tr><td><b>acctid</b></td><td>If subid LoadBalancing is enabled, includes the acctid used for the transaction.</td></tr>
            <tr><td><b>subid</b></td><td>If subid LoadBalancing is enabled, includes the subid used for transaction.</td></tr>
            <tr><td><b>transdate</b></td><td>Date and time of the transaction in ISO 8601 format. See WorldPay doc for details.</td></tr>
            <tr><td><b>paytype</b></td><td>Payment type used to process the transaction (MasterCard, Visa, Amex, etc.)</td></tr>
            <tr><td><b>duplicate</b></td><td>0 or 1, 1 indicates a duplicate was detected.</td></tr>
            <tr><td><b>avsresult</b></td><td>AVS result code.</td></tr>
            <tr><td><b>cvv2result</b></td><td>CVV2 result code.</td></tr>
            <tr><td><b>batchnumber</b></td><td>Batch number asssigned to the transaction.</td></tr>
            <tr><td><b>last4digits</b></td><td>Last four digits of the credit card or ACH transaction.</td></tr>
            <tr><td><b>entrymethod</b></td><td>Indicates how the transaction was processed.</td></tr>
            <tr><td><b>partialapproval</b></td><td>0 or 1, 1 indicates a partial amount was received.</td></tr>
            <tr><td><b>actioncode</b></td><td>Code identifying partial approval amount.</td></tr>
            <tr><td><b>balance</b></td><td>Balance inquiry amount.</td></tr>
            <tr><td><b>recurbillingamount</b></td><td>Recurring amount.</td></tr>
            <tr><td><b>recurextbillingdate</b></td><td>Date to recur.</td></tr>
            <tr><td><b>recurbillingcycle</b></td><td>Recur cycle.</td></tr>
            <tr><td><b>recurbillingmax</b></td><td>Max number of recurrings.</td></tr>
            <tr><td><b>recurcanceldate</b></td><td>Cancel date of recurrings.</td></tr>
            <tr><td><b>recurlastattempted</b></td><td>Date of last recurring attempted.</td></tr>
            <tr><td><b>recurbillingstatus</b></td><td>Status of recurring.</td></tr>
            <tr><td><b>recurtotalaccept</b></td><td>Total number of approved recurrings processed.</td></tr>
            <tr><td><b>achrcode</b></td><td>ACH return code</td></tr>
            <tr><td><b>transactiontype</b></td><td>Type of transaction.</td></tr>
            <tr><td><b>additionaldata</b></td><td>XML document containing additional data. See WorldPay SOAP Integration Guide doc.</td></tr>
                                    <tr class="alt1"><td colspan=5><b>ProcessProfileResult</b></td></tr>
                        <tr><td><b>status</b></td><td>Declined or approved.</td></tr>
            <tr><td><b>result</b></td><td>Colon delimited result code.</td></tr>
            <tr><td><b>total</b></td><td>Floating point number indicating transaction dollar amount in US dollars.</td>    
            <tr><td></td><td>Round to 2 decimal places as required.</td></tr>
            <tr><td><b>orderid</b></td><td>Order key id of the original transaction.</td></tr>
            <tr><td><b>historyid</b></td><td>History key id of the original transaction.</td></tr>
            <tr><td><b>authcode</b></td><td>Colon delimited result code.</td></tr>
            <tr><td><b>merchantordernumber</b></td><td>Customer's unique alpha-numeric number.</td></tr>
            <tr><td><b>transdate</b></td><td>Date and time of the transaction in ISO 8601 format. See WorldPay doc for details.</td></tr>
            <tr><td><b>paytype</b></td><td>Payment type used to process the transaction (MasterCard, Visa, Amex, etc.)</td></tr>
            <tr><td><b>duplicate</b></td><td>0 or 1, 1 indicates a duplicate was detected.</td></tr>
            <tr><td><b>userprofileid</b></td><td>User profile id of the transaction.</td></tr>
            <tr><td><b>last4digits</b></td><td>Last four digits of the credit card or ACH transaction.</td></tr>
            <tr><td><b>acctid</b></td><td>If subid LoadBalancing is enabled, includes the acctid used for the transaction.</td></tr>
            <tr><td><b>subid</b></td><td>If subid LoadBalancing is enabled, includes the subid used for transaction.</td></tr>
            <tr><td><b>avsresult</b></td><td>AVS result code.</td></tr>
            <tr><td><b>cvv2result</b></td><td>CVV2 result code.</td></tr>
            <tr><td><b>batchnumber</b></td><td>Batch number asssigned to the transaction.</td></tr>
            <tr><td><b>entrymethod</b></td><td>Indicates how the transaction was processed.</td></tr>
            <tr><td><b>partialapproval</b></td><td>0 or 1, 1 indicates a partial amount was received.</td></tr>
            <tr><td><b>actioncode</b></td><td>Code identifying partial approval amount.</td></tr>
            <tr><td><b>additionaldata</b></td><td>XML document containing additional data. See WorldPay SOAP Integration Guide doc.</td></tr>
            <tr><td><b>billaddr1</b></td><td>Billing address.</td></tr>
            <tr><td><b>billaddr2</b></td><td>Billing address (extended).</td></tr>
            <tr><td><b>billcity</b></td><td>Billing city.</td></tr>
            <tr><td><b>billstate</b></td><td>Billing state.</td></tr>
                                    <tr class="alt1"><td colspan=5><b>ProcessAccountLookupResult</b></td></tr>
                        <tr><td><b>status</b></td><td>Declined or approved.</td></tr>
            <tr><td><b>result</b></td><td>Colon delimited result code.</td></tr>
            <tr><td><b>orderid</b></td><td>Order key id of the original transaction.</td></tr>
            <tr><td><b>historyid</b></td><td>History key id of the original transaction.</td></tr>
            <tr><td><b>authcode</b></td><td>Colon delimited result code.</td></tr>
            <tr><td><b>paytype</b></td><td>Payment type used to process the transaction (MasterCard, Visa, Amex, etc.)</td></tr>
            <tr><td><b>last4digits</b></td><td>Last four digits of the credit card or ACH transaction.</td></tr>
            <tr><td><b>entrymethod</b></td><td>Indicates how the transaction was processed.</td></tr>
            <tr><td><b>transactiontype</b></td><td>Type of transaction.</td></tr>
            <tr><td><b>firstname</b></td><td>Customer's first name</td></tr>
            <tr><td><b>lastname</b></td><td>Customer's last name </td></tr>
            <tr><td><b>phone</b></td><td>Customer's phone</td></tr>
            <tr><td><b>addr1</b></td><td>Customer's address 1</td></tr>
            <tr><td><b>addr2</b></td><td>Customer's address 2</td></tr>
            <tr><td><b>city</b></td><td>Customer's city</td></tr>
            <tr><td><b>state</b></td><td>Customer's state</td></tr>
            <tr><td><b>zipcode</b></td><td>Customer's zip code / postal code</td></tr>
            <tr><td><b>country</b></td><td>Customer's country</td></tr>
            <tr><td><b>additionaldata</b></td><td>XML document containing additional data. See WorldPay SOAP Integration Guide doc.</td></tr>
                    </table>

    </p>
      <p>
        <br /><br /><b>WorldPay:: Classes</b>
         <table  border="1" cellspacing="1" cellpadding="3" id="table81" style="color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; margin-left: 0.5in; border-collapse: collapse; " width="992">
            <tr><td><b>Class</td><td><b>Description</td><td><b>Type</b></b></b></td></tr>
                                    <tr class="alt1"><td colspan=3><b>WorldPay::Recur</b></td></tr>
            <tr><td><b>create</b></td><td>A value of 1 will create the recurring entry</td><td>int</td></tr>
            <tr><td><b>billingcycle</b></td><td>Coded value, 0 through 11, see WorldPay doc for details.</td><td>int</td></tr>
            <tr><td><b>billingmax</b></td><td>Number of max re-bills (1,2,3, -1 = unlimited)</td><td>int</td></tr>
            <tr><td><b>start</b></td><td>Number of days to start the recur.</td><td>int</td></tr>
            <tr><td><b>amount</b></td><td>Recurring amount.</td><td>float</td></tr>
                                    <tr class="alt1"><td colspan=3><b>WorldPay::Address</b></td></tr>
            <tr><td><b>addr1</b></td><td>Consumer billing address 1</td><td>string</td></tr>
            <tr><td><b>addr2</b></td><td>Consumer billing address 2</td><td>string</td></tr>
            <tr><td><b>addr3</b></td><td>Consumer billing address 3</td><td>string</td></tr>
            <tr><td><b>city</b></td><td>Consumer billing city</td><td>string</td></tr>
            <tr><td><b>state</b></td><td>Consumer billing state</td><td>string</td></tr>
            <tr><td><b>zip</b></td><td>Consumer billing zip code</td><td>string</td></tr>
            <tr><td><b>country</b></td><td>Consumer billing country</td><td>string</td></tr>
                                     <tr class="alt1"><td colspan=5><b>WorldPay::CustomEmail</b></td></tr>
            <tr><td><b>emailto</b></td><td>Email address to send consumer email recipt, default is ci_email address.</td><td>string</td></tr>
            <tr><td><b>emailfrom</b></td><td>Return email address on consumers email receipt. Default is null@atsbank.com.</td><td>string</td></tr>
            <tr><td><b>emailsubject</b></td><td>Subject line on the consumers email receipt. Default is Payment Receipt #xyz</td><td>string</td></tr>
            <tr><td><b>emailtext</b></td><td>Enail body text on consumers receipt. Default is generic receipt message.</td><td>string</td></tr>
                                    <tr class="alt1"><td colspan=5><b>WorldPay::CustomFields</b></td></tr>
            <tr><td><b>custom1</b></td><td>Merchant's custom field #1</td><td>string</td></tr>
            <tr><td><b>custom2</b></td><td>Merchant's custom field #2</td><td>string</td></tr>
            <tr><td><b>custom3</b></td><td>Merchant's custom field #3</td><td>string</td></tr>
            <tr><td><b>custom4</b></td><td>Merchant's custom field #4</td><td>string</td></tr>
            <tr><td><b>custom5</b></td><td>Merchant's custom field #5</td><td>string</td></tr>
            <tr><td><b>custom6</b></td><td>Merchant's custom field #6</td><td>string</td></tr>
                                     <tr class="alt1"><td  colspan=5><b>WorldPay::HotelLodging</b></td></tr>
            <tr><td><b>chargetypeamx</b></td><td>Code indicating type of charge. 1= Hotel, 2 = Restaurant, 3 = Gift Shop</td><td>string</td></tr>
            <tr><td><b>roomrateamt</b></td><td>Room rate in US dollars, ex. 0.00.</td><td>string</td></tr>
            <tr><td><b>checkindate</b></td><td>Check in date (yymmdd)</td><td>string</td></tr>
            <tr><td><b>checkoutdate</b></td><td>Check out date (yymmdd)</td><td>string</td></tr>
            <tr><td><b>purchaseid</b></td><td>Hotel folio number (25 alphanumeric chars max) </td><td>string</td></tr>
            <tr><td><b>pproperty</b></td><td>Prestigious property indicator, used by Visa only, see WorldPay doc.</td><td>string</td></tr>
            <tr><td><b>extracharges</b></td><td>Coded 6 1-digit codes for charges, see WorldPay doc.</td><td>string</td></tr>
                                    <tr class="alt1"><td colspan=5><b>WorldPay::AutoRental</b></td></tr>
            <tr><td><b>rentalagreementnum</b></td><td>25 alphanumeric chars max</td><td>string</td></tr>
            <tr><td><b>rentalrate</b></td><td>Rental rate amount</td><td>string</td></tr>
            <tr><td><b>noshowprogind</b></td><td>Value of "1" indicates a no show charge </td><td>char</td></tr>
            <tr><td><b>extracharges</b></td><td>Coded character value, "0" thru "5", see WOrldPay doc.</td><td>char</td></tr>
            <tr><td><b>rentaldate</b></td><td>Rental start date, yy/mm/dd</td><td>string</td></tr>
            <tr><td><b>rentalreturndate</b></td><td>Rental end date, yy/mm/dd</td><td>string</td></tr>
            <tr><td><b>rentername</b></td><td>Renter's name</td><td>string</td></tr>
            <tr><td><b>rentalreturncity</b></td><td>Return city</td><td>string</td></tr>
            <tr><td><b>rentalreturnstatecountry</b></td><td>Return State/Country, ISO3 coding</td><td>string</td></tr>
            <tr><td><b>rentalreturnlocationid</b></td><td>10 char location id </td><td>string</td></tr>
                                     <tr class="alt1"><td  colspan=5><b>WorldPay::AutoRepair</b></td></tr>
            <tr><td><b>vin</b></td><td>Vehicle identification number</td><td>string</td></tr>
            <tr><td><b>odometer</b></td><td>Odometer mileage</td><td>string</td></tr>
            <tr><td><b>workorder</b></td><td>Merchant's work order number</td><td>string</td></tr>
            <tr><td><b>unit</b></td><td>Truck/Vehicle unit number </td><td>string</td></tr>
            <tr><td><b>repaircode</b></td><td>Code to identify type of repair</td><td>string</td></tr>
                                    <tr class="alt1"><td  colspan=5><b>WorldPay::FSA</b></td></tr>
            <tr><td><b>healthcareflag</b></td><td>1 = on, 0 = off</td><td>int</td></tr>
            <tr><td><b>rxamount</b></td><td>Qualified presecription amount</td><td>float</td></tr>
            <tr><td><b>clinicamount</b></td><td>Qualified medical clinic amount</td><td>float</td></tr>
            <tr><td><b>visionamount</b></td><td>Qualified vision amount</td><td>sfloat</td></tr>
            <tr><td><b>dentalamount</b></td><td>Qualified dental amount</td><td>float</td></tr>
                                     <tr class="alt1"><td colspan=5><b>WorldPay::PurchaseCardLevel2</b></td></tr>
            <tr><td><b>pocustomerrefid</b></td><td>Cardholders customer id or reference number</td><td>string</td></tr>
            <tr><td><b>taxamount</b></td><td>Total tax charged fot the transaction</td><td>float</td></tr>
            <tr><td><b>taxexempt</b></td><td>1 = tax exempt, 0 = taxable</td><td>int</td></tr>
                                    <tr class="alt1"><td colspan=5><b>WorldPay::PurchaseCardLevel3</b></td></tr>
            <tr><td><b>lineitems</b></td><td>See WorldPay doc, Appendix F</td><td>string</td></tr>
                                     <tr class="alt1"><td colspan=5><b>WorldPay::Restaurant</b></td></tr>
            <tr><td><b>gratuityamount</b></td><td>The gratuity amount</td><td>float</td></tr>
                                    <tr class="alt1"><td  colspan=5><b>WorldPay::FleetCardData</b></td></tr>
            <tr><td><b>atpump</b></td><td>Coded value, 1 = yes, 0 = no</td><td>int</td></tr>
            <tr><td><b>idnumber</b></td><td>User id</td><td>string</td></tr>
            <tr><td><b>vehicleid</b></td><td>Vehicle id</td><td>string</td></tr>
            <tr><td><b>driverid</b></td><td>Driver id</td><td>string</td></tr>
            <tr><td><b>odometerreading</b></td><td>Odometer reading</td><td>string</td></tr>
            <tr><td><b>miscnumericdata</b></td><td>Customer data</td><td>string</td></tr>
            <tr><td><b>jobnumber</b></td><td>Job number</td><td>string</td></tr>
            <tr><td><b>purchasedevsequencenumber</b></td><td>Purchase device sequence number</td><td>string</td></tr>
            <tr><td><b>departmentnumber</b></td><td>Department number</td><td>string</td></tr>

                                    

        </table>
    </p>
<p>

<p>

    <br /><b>Example Code</b> <br /><br />
    The XBasic example code below can be used to test numerous methods of the WorldPayAPI::SoapActions class. You will need to provide your own merchantpin, test credit card info, acctid,  

</p>

<pre class="xbasicSmall" style="margin-left: 1in;">

<span style=' color: Blue;'>dim</span> runTests <span style=' color: Blue;'>as</span> l = .t. 

<span style=' color: Blue;'>if</span> (runTests) 
    <span style=' color: Blue;'>dim</span> cr <span style=' color: Blue;'>as</span> CallResult 
    <span style=' color: Blue;'>dim</span> p <span style=' color: Blue;'>as</span> p 
    p.merchantpin = <span style=' color: Maroon;'>"1234567890"</span> 
    p.ccname = <span style=' color: Maroon;'>"WORLDPAY/TEST"</span> 
    p.amount = <span style=' color: Maroon;'>3</span><span style=' color: Maroon;'>.98</span> 
    p.expmon = <span style=' color: Maroon;'>12</span>  
    p.expyear = <span style=' color: Maroon;'>2015</span> 
    p.companyname = <span style=' color: Maroon;'>"enterCompanyNameHere"</span> 
    p.phone = <span style=' color: Maroon;'>"222-222-2222"</span> 
    p.acctid = <span style=' color: Maroon;'>"enterYourAcctIdHere"</span> 
    p.subid = <span style=' color: Maroon;'>"enterYourSubIdHere"</span> 
     
    <span style=' color: Green;'>'for testing credits/returns</span> 
    p.historyid = <span style=' color: Maroon;'>"enterHistoryIdHere"</span> 
    p.orderid = <span style=' color: Maroon;'>"enterOrderIdHere"</span> 
     
    <span style=' color: Green;'>' for testing profile update method</span> 
    p.accttype = <span style=' color: Maroon;'>1</span> 
    p.profilenobill = <span style=' color: Maroon;'>0</span> 
     
    <span style=' color: Green;'>'// ------ TEST CARD DATA ---------- **</span> 
    <span style=' color: Green;'>'uncomment / comment out as required for testing</span> 
     
    <span style=' color: Green;'>' test Visa </span> 
    <span style=' color: Green;'>'p.ccnum = "enterVisaCardNumHere"</span> 
     
    <span style=' color: Green;'>' test Amex</span> 
    p.ccnum = <span style=' color: Maroon;'>"enterAmexCardNumHere"</span> 
     
    p.userprofileid = <span style=' color: Maroon;'>"enterUserProfileIdHere"</span> 
    p.last4digits = <span style=' color: Maroon;'>"entelast4DigitsHere"</span> 
    p.ipaddress = <span style=' color: Maroon;'>"enterIPAddressHere"</span> 
     
    <span style=' color: Green;'>' test Discover</span> 
    <span style=' color: Green;'>'p.ccnum = "enterDiscoverCardNumHere"</span> 
     
    <span style=' color: Green;'>'  ------END TEST CARD DATA --------</span> 
     
    <span style=' color: Green;'>' instantiate wp object from class</span> 
    <span style=' color: Blue;'>dim</span> wp <span style=' color: Blue;'>as</span> WorldPayAPI::SoapActions = <span style=' color: Blue;'>new</span> WorldPayAPI::SoapActions()

    <span style=' color: Green;'>' test custom fields, not required for all methods. Notice the use of WorldPay::CustomFields class</span> 
    p.customizedfields = <span style=' color: Blue;'>new</span> WorldPay::CustomFields() 
    p.customizedfields.custom1 = <span style=' color: Maroon;'>"My custom Field #1"</span> 
    p.customizedfields.custom2 = <span style=' color: Maroon;'>"My custom Field #2"</span> 
     
    <span style=' color: Green;'>' test custom email, not required for all methods. Notice the use of WorldPay::CustomEmail class</span> 
    p.customizedemail = <span style=' color: Blue;'>new</span> WorldPay::CustomEmail() 
    p.customizedemail.emailto = <span style=' color: Maroon;'>"mycustomer@acmewidgets.com"</span>
     
    <span style=' color: Green;'>' test bill and ship addresses, not required for all methods. Notice the use of the WorldPay::Address class</span> 
    p.billaddress = <span style=' color: Blue;'>new</span> WorldPay::Address() 
    p.billaddress.addr1 = <span style=' color: Maroon;'>"1 Bay Road"</span> 
    p.billaddress.city = <span style=' color: Maroon;'>"Duxbury"</span> 
    p.billaddress.state = <span style=' color: Maroon;'>"MA"</span> 
    p.billaddress.zip = <span style=' color: Maroon;'>"02332"</span> 
     
    p.shipaddress = <span style=' color: Blue;'>new</span> WorldPay::Address() 
    p.shipaddress.addr1 = <span style=' color: Maroon;'>"700 Congress St."</span> 
    p.shipaddress.city = <span style=' color: Maroon;'>"Fairfield"</span> 
    p.shipaddress.state = <span style=' color: Maroon;'>"CT"</span> 
    p.shipaddress.zip = <span style=' color: Maroon;'>"06430"</span> 
     
    <span style=' color: Green;'>'uncomment / comment out as required for testing</span> 
    cr = wp.processCreditCardSale(p) 
    <span style=' color: Green;'>'cr = wp.processCreditCardAuth(p)</span> 
    <span style=' color: Green;'>'cr =  wp.processAuthReverse(p)</span> 
    <span style=' color: Green;'>'cr = wp.processVoid(p)</span> 
    <span style=' color: Green;'>'cr = wp.processCredit(p)</span> 
    <span style=' color: Green;'>'cr = wp.processCCProfileAdd(p)</span> 
    <span style=' color: Green;'>'cr = wp.processProfileSale(p)</span> 
    <span style=' color: Green;'>'cr = wp.processProfileDelete(p)</span> 
    <span style=' color: Green;'>'cr = wp.processProfileUpdate(p)</span> 
     
    <span style=' color: Blue;'>dim</span> msgTmpl <span style=' color: Blue;'>as</span> c 
    <span style=' color: Blue;'>dim</span> resultType <span style=' color: Blue;'>as</span> c = trim(cr.ReturnDataValue)
     
    <span style=' color: Blue;'>select</span>  
        <span style=' color: Blue;'>case</span> resultType = <span style=' color: Maroon;'>"ProcessResult"</span>  
            msgTmpl = <span style=' color: Maroon;'>"Status: "</span>+ cr.ReturnDataValue.status + crlf()+ \ 
            <span style=' color: Maroon;'>"Paytype "</span>+ cr.ReturnDataValue.paytype + crlf()+ \ 
            <span style=' color: Maroon;'>"Total: "</span>+ round(cr.ReturnDataValue.total,<span style=' color: Maroon;'>2</span>) + crlf()+ \ 
            <span style=' color: Maroon;'>"Last 4 digits: "</span> + cr.ReturnDataValue.last4digits + crlf()+ \ 
            <span style=' color: Maroon;'>"AuthCode: "</span> + cr.ReturnDataValue.authcode + crlf() + \ 
            <span style=' color: Maroon;'>"OrderId: "</span>+ cr.ReturnDataValue.orderid + crlf()+ \ 
            <span style=' color: Maroon;'>"HistoryId: "</span>+ cr.ReturnDataValue.historyid  
         
        <span style=' color: Blue;'>case</span> resultType = <span style=' color: Maroon;'>"ProcessProfileResult"</span>  
            msgTmpl = <span style=' color: Maroon;'>"Status: "</span>+ cr.ReturnDataValue.status + crlf()+ \ 
            <span style=' color: Maroon;'>"Paytype "</span>+ cr.ReturnDataValue.paytype + crlf()+ \ 
            <span style=' color: Maroon;'>"Total: "</span>+ round(cr.ReturnDataValue.total,<span style=' color: Maroon;'>2</span>) + crlf() + \ 
            <span style=' color: Maroon;'>"Last 4 digits: "</span> + cr.ReturnDataValue.last4digits + crlf()+ \ 
            <span style=' color: Maroon;'>"AuthCode: "</span> + cr.ReturnDataValue.authcode + crlf() + \ 
            <span style=' color: Maroon;'>"OrderId: "</span>+ cr.ReturnDataValue.orderid + crlf() + \ 
            <span style=' color: Maroon;'>"HistoryId: "</span>+ cr.ReturnDataValue.historyid + crlf() + \ 
            <span style=' color: Maroon;'>"UserProfileId: "</span>+cr.ReturnDataValue.userprofileid  
         
        <span style=' color: Blue;'>case</span> resultType = <span style=' color: Maroon;'>"ProcessAccountLookupResult"</span>  
            msgTmpl = <span style=' color: Maroon;'>"Status: "</span>+ cr.ReturnDataValue.status + crlf()+\ 
            <span style=' color: Maroon;'>"Paytype "</span>+ cr.ReturnDataValue.paytype + crlf()+ \ 
            <span style=' color: Maroon;'>"OrderId: "</span>+ cr.ReturnDataValue.orderid+crlf()+ \ 
            <span style=' color: Maroon;'>"HistoryId: "</span>+ cr.ReturnDataValue.historyid + \ 
            <span style=' color: Maroon;'>"AuthCode: "</span> + cr.ReturnDataValue.authcode + crlf() + \ 
            <span style=' color: Maroon;'>"Last 4 digits: "</span> + cr.ReturnDataValue.last4digits + crlf()+ \ 
            <span style=' color: Maroon;'>"First name: "</span> + cr.ReturnDataValue.firstname + crlf()+ \ 
            <span style=' color: Maroon;'>"Last name: "</span> + cr.ReturnDataValue.lastname + crlf()+ \ 
            <span style=' color: Maroon;'>"Phone : "</span> + cr.ReturnDataValue.phone + crlf()+ \ 
            <span style=' color: Maroon;'>"Address1: "</span> + cr.ReturnDataValue.addr1 + crlf()+ \ 
            <span style=' color: Maroon;'>"Address2: "</span> + cr.ReturnDataValue.addr2 + crlf()+ \ 
            <span style=' color: Maroon;'>"City: "</span> + cr.ReturnDataValue.city + crlf()+ \ 
            <span style=' color: Maroon;'>"State: "</span> + cr.ReturnDataValue.state + crlf()+ \
            <span style=' color: Maroon;'>"Zip code: "</span> + cr.ReturnDataValue.zipcode + crlf()+ \ 
            <span style=' color: Maroon;'>"Country: "</span> + cr.ReturnDataValue.country + crlf() 
         
        <span style=' color: Blue;'>case</span> <span style=' color: Blue;'>else</span> 
            msgTmpl = <span style=' color: Maroon;'>"Error, unknown result type."</span> 
     
    <span style=' color: Blue;'>end</span> <span style=' color: Blue;'>select</span> 
    ui_msg_box(<span style=' color: Maroon;'>"WorldPay Results"</span>,msgTmpl) 
         
<span style=' color: Blue;'>end</span> <span style=' color: Blue;'>if</span>
</pre>
       
     </body>
     </html>