<page>
	<topic>Action Javascript Improvements</topic>
	<sections>
		<section>
			<title>Button to Open Other Component Types in Windows</title>
			<description>When you use Action Javascript to create a button to open a window, or display content in a DIV or TabbedUI Pane. The types of objects that you can open include:</description>
			<cases>
				<case>
					<description>Grid Components </description>
				</case>
				<case>
					<description>Reports </description>
				</case>
				<case>
					<description>A5W Pages </description>
				</case>
				<case>
					<description>Dialog</description>
				</case>
				<case>
					<description>PageLayout</description>
				</case>
				<case>
					<description>Custom Components</description>
				</case>
				<case>
					<description>Maps</description>
				</case>
				<case>
					<description>Calendars</description>
				</case>
				<case>
					<description>any User Defined Component</description>
				</case>
				<case>
					<description>additional Alpha Anywhere components as they are introduced.</description>
				</case>
			</cases>
			
			
		</section>
		
	</sections>
	<sections>
<section>
	<title>Additional options for the target when opening an A5W page</title>
	<description>This action now has additional options for the target. Previously, the target could be a pop-up Ajax window, a DIV or a Tabbed UI Page. Now you can also specify 'Browser window' to open the target page in a new browser window.
 When you select the 'Browser window' option, you can specify several different options to control different aspects of the browser window.
</description>
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/OpenA5WPageInNewBrowserWindow.swf</video></videos>
	
</section>		
		
<section>
	<title>New Action - Geocode an Address</title>
	<description>This new action allows you to do an ajax callback, passing back the address in the current Grid row or the current Dialog. A call to a web service is then made to get the latitude and longitude of the address. This information is then returned to the browser where it will fill in the latitude and longitude field in the current record you are editing. Geocoding addresses is useful if you want to display markers on a map. The built-in Google Map feature allows you to easily display markers on a map for the addresses in your Grid. The process of placing markers on the map is much more efficient if you have latitude/longitude values for each address.</description>
</section>
		
<section>
	<title>Import action new server-side event</title>
	<description>A new server-side event has been added. The 'Pre-process uploaded file' server-side event is called if the user uploads an ascii file. The event is called after the data has been uploaded, but before the file is processed in any away. The event was added because in some cases a user might be uploading a file that does not have column headings in the first row. This event will allow you to pre-process the ascii file that was uploaded and add in column headings in at the top of the file.</description>
	
</section>		

<section>
	<title>Action Javascript - Send Email</title>
	<description>A new action has been added to Action Javascript. You can now create an action that sends an e-mail. The e-mail message can be defined in the action, or you can specify the name of a message that is stored in the Repository. The message can contain placecholders for fields in the current record (e.g. {firstname}). The placeholders can include Xbasic functions (e.g. Hello {upper(firstname)}. You can specify if the e-mail should be sent immediately, or queued (by adding a new task to the new Work Queue table). Since connecting to a SMTP server can be quite slow, in a high traffic application, it is generally a good idea to queue sending e-mail messages.
</description>
	<note>You are responsible for processing the Work Queue. Simply adding a task to the Work Queue will not cause it to be processed unless some job reads the Work Queue and acts on the tasks in the Queue.</note>
</section>	
<section>
	<title>Global Update Operation to Update a Field in Multiple Rows in a Grid</title>
	<description>When doing data entry into a Grid there may be times when the user wants to copy a value from one row to multiple rows in the Grid. Using Action Javascript is is easy to make a button that does a 'global update' operation on all visible rows in the Grid.

It is important to recognize that the action shown in this video is a 'client-side' action. No data is actually written to the database until the user clicks the 'Submit' button.</description>
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/GlobalUpdateOperation.swf</video></videos>
</section>
		
		
<section>
	<title>Global Search and Replace Operation in a Grid</title>
	<description>When doing data entry into a Grid there may be times when the user wants to perform a search and replace operation on the data the currently visible rows in the Grid. Using Action Javascript, it is easy to make a button does a 'global search and replace' on all visible rows in the Grid.

It is important to recognize that the action shown in this video is a 'client-side' action. No data is actually written to the database until the user clicks the 'Submit' button.
</description>
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/GlobalSearchAndReplace.swf</video></videos>
</section>		
		
<section>
	<title>Using Action Javascript to toggle the show/hide state of any arbitrary DIV or 'container' using animation</title>
	<description>Animation is built into many of the objects, but there may be times when you want to animate some arbitrary DIV or container. This is now very easy using Action Javascript. You can define complex animations without having to write any code.</description>
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/ToggleVisibilityUsingActionJavascript.swf</video></videos>
</section>	
		
<section>
	<title>Open a Grid Component - Invoking Server-side Events Handlers
</title>
	<description>When you have a client-side event handler (such as a button's onClick event), that opens a Grid (in a pop-up Ajax window, a div, a tabbed UI pane, etc), you might want to execute some Xbasic on the server before the Grid is executed on the server. This topic discusses how you can do this.

First some background. The first time a Grid is opened in a pop-up window, the {grid.object}.openChildGrid() method is called. If the pop-up window is then closed, and the event is executed a second time, the {grid.object}.synchronizeGrid() method is called. These two events now set variables (__openChildGrid and __synchronizeGrid) that you can test for in the onGridExecute server-side event. If the variables are found, then you know that the user has just invoked an event that will open a Grid.

Here is some sample code that you can add to the onGridExecute server-side event:</description>
	
	<example><![CDATA[dim flagExecuteSpecialEvent as l = .f.
if eval_valid("request.variables.__openChildGrid") then
    if request.variables.__openChildGrid = "true" then
        flagExecuteSpecialEvent = .t.
    end if
end if
 
if eval_valid("request.variables.__synchronizeGrid") then
    if request.variables.__synchronizeGrid= "true" then
        flagExecuteSpecialEvent = .t.
    end if
end if
 
if flagExecuteSpecialEvent = .t. then
    mySpecialEvent(e)
end if ]]></example>

<videos><video>http://www.ajaxvideotutorials.com/V11Videos/AddingAServerSideEventHandlerToActionJavascript_openGrid.swf</video></videos>
</section>		
<section>
	<title>Action Javascript - Ajax Windows - User-Defined Buttons</title>
	<description>The builder now allows you to define buttons to place in the window 'toolbar' which appears at the bottom of the window.
</description>
	<figure><link>images/action_javascript_open_window.png</link></figure>
</section>	
<section>
	<description>For example, in the window below, the 'Login' and 'Cancel' button have been placed in the window toolbar.
</description>
	<figure><link>images/windowbarbuttons.gif</link></figure>
</section>

<section>
	<title>Grid and Dialog Component - Open in Window - Dropdown Window Style</title>
	<description>If a Grid or Dialog component is opened in a pop-up window and if the window is configured to use the 'Dropdown' style, then a new property is shown in the Action Javascript builder.

The property is 'Allow auto-close of dirty Grid/Dialog'. When a window uses the 'Dropdown' style, clicking anywhere off the window will cause the window to close. If the window contains a Grid or Dialog component, before the window is closed, a check is made to see if the Grid or Dialog in the window is dirty. If it is, then by default, the window will not close. However, there may be applications in which you want the window to close, regardless of whether the Grid or Dialog in the window is dirty or not. Checking this new property will give you that behavior.</description>
</section>
<section>
	<title>Dialog Component: Populate controls from data
</title>
	<description>This action can be bound to a dialog button or link to populate the controls from the data in a SQL table.
</description>
	<figure><link>images/populate_dialog_controls_from_data.png</link></figure>
	<figure><link>images/populate_dialog_controls_2.png</link></figure>
</section>
<section>
	<description>Only for Dialogs bound to SQL tables at present. See video D24 for more details.</description>
	<videos>
		<video>http://www.ajaxvideotutorials.com/V11Videos/DialogComponent_ActionJavascriptButtonToPopulateDialog.swf</video>
		<video>http://news.alphasoftware.com/v11preview/videos_v11.htm</video>
	</videos>
	
	
</section>
<section>
	<title>Binding Arguments to JavaScript</title>
	<description>When you use Action Javascript to open a Grid, Report, Dialog, Custom Component, etc. you often need to bind the value of an argument to a value from the parent Component. For example, you might bind the value of 'arg1' to the value of the Lastname field in the current Grid row.
Now, instead of binding an argument to the value of a field in the Grid or Dialog, you can specify an arbitrary Javascript function to execute. The argument is bound to the value that this Javascript function returns.
</description>
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/ActionJavascript_BindingArgumentValuesToResultofJavascriptFunction.swf</video></videos>
</section>


<section>
	<title>Lock/Unlock Screen or Element</title>
	<description>A new action has been to lock, or unlock the screen, or an element. This is commonly done during an Ajax callback. See Video D27
</description>
	
</section>

<section>
	<title>Open Dialog as an Alternate Record View</title>
	<description>New Action for opening a Dialog as an alternate view of the record currently being edited in a Grid - See Video D28.
</description>
<videos>
	<video>http://www.ajaxvideotutorials.com/V11Videos/Dialog_AltEditingView_1.swf</video>
	<video>http://www.ajaxvideotutorials.com/V11Videos/Dialog_AltEditingView_2.swf</video>
	
</videos>
</section>
<section>
	<title>Open a Dialog - New Property - Use cached Dialog</title>
	<description>The Action Javascript action Open a Dialog now has a new property Use cached Dialog that will, in certain circumstances, allow for a significant improvement in performance the second and subsequent times the action is invoked and the Dialog is opened. The performance improvement will only be noticeable on large Dialogs with many bindings, but in that case it can be dramatic.

To see the change, you will need to edit and resave your action.</description>
	
</section>

<section>
	<title>Geolocation: Get and track the user's location</title>
	<description>You can use Action Javascript to get the location of the user and store that information in the Grid or Dialog object. You can also fire events when the user's location changes. This is particularly useful in the case of a mobile device.
Flash player not available.
</description>
</section>

<section>
	<title>Pop-up Windows - Removing the Close Icon</title>
	<description>Some users have requested information on how to completely remove the Close icon from the title bar of a pop-up ajax. This is easily done by placing this Javascript in the onShow event of the window:</description>
<example><![CDATA[//To remove the x button, but leave the title bar
this.clearTools();
 
//To remove the title bar completely:
this.setDisplay('title',true);]]></example>
</section>

<section>
	<title>Open a Component in a pop-up window: Optional window parts
</title>
	<cases>
		<case>
			<title>Subscription feature</title>
			<description>When you use Action Javascript to open a Component in a pop-up window, you can now defined optional parts for the pop-up window. These optional parts include a header, footer and toolbar.
</description>
<figure><link>images/optional_window_parts.png</link></figure>
		</case>
		
	</cases>
</section>
<section>
	
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/AdvancedOptions_PopupAjaxWindows.swf</video></videos>
</section>

<section>
	<description>Message box builder with the Advanced option selected:
Note that the builder allows you to control the button labels, the Javascript that gets executed when any of the buttons gets clicked, and the justification of the buttons.
</description>
<figure><link>images/advancedmessagebuilder.jpg</link></figure>

</section>
<section>
	<description>The image below shows a message box created with the built-in Javascript alert() function.
</description>
	<figure><link>images/alertmessagebox.jpg</link></figure>
	
</section>
<section>
	<description>Here is a message box using the advanced options.</description>
	<figure><link>images/advancedMessage.jpg</link></figure>
</section>
<section>
	<title>Grid and Dialog Component — Fade-Out Message</title>
	<description>Subscribers can define an action to display a message that automatically fades out of view over a certain interval. Fade-out messages are ideal for providing feedback to a user to indicate, for example, that some action has been completed.
</description>
	<videos><video>http://www.ajaxvideotutorials.com/V11Videos/FadeOutMessageAction.swf</video></videos>
	
</section>

	</sections>
	
<see>
	<ref>Google Map Component Action JavaScript actions</ref>
	<ref>Using a Map as an Alternate Grid View</ref>
	<ref>Web Projects Control Panel Enhancements </ref>
</see>	
	
	
	
</page>