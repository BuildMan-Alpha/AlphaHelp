<page>
    <topic>Defining Security Settings</topic>
    <description>An overview on how to define security settings and a list of properties.</description>
    <groups>
        <group>
            <title>How to Define Security Settings</title>
            <sections>
                <section>
                    <description>The first step when configuring the web publishing security framework is to define the security features you want to use.
                    </description>
                    <steps>
                        <step>
                            <description>Display the Web Projects Control Panel.
                            </description>
                        </step>
                        <step>
                            <description>Click Web Security to display the Web Security dialog. Picture
                            </description>
                            <figure>
                                <link>images/web-security-dialog.png</link>
                            </figure>
                        </step>
                        <step>
                            <description>Assuming that you have not previously defined any security settings, the first step is to create the initial security settings files. Select Web Security Configuration and click OK. The Security Settings dialog will appear. Picture
                            </description>
                            <figure>
                                <link>images/web-security-settings.png</link>
                            </figure>
                        </step>
                        <step>
                            <description>Enable (check) the Security Policy > Security Active property.
                            </description>
                        </step>
                        <step>
                            <description>Enable (check) the Security Policy > Password Required property. A large number of additional properties will appear.
                            </description>
                        </step>
                        <step>
                            <description>Click [dot_img] in the Security Policy > Redirect Page - login property and select "Login.a5w".
                            </description>
                        </step>
                        <step>
                            <description>Click [dot_img] in the Security Policy > Redirect Page - insufficient permission property and select "Login.a5w".
                            </description>
                        </step>
                        <step>
                            <description>Click [dot_img] in the Login Options > Redirect Page after Login property and select "Menu.a5w".
                            </description>
                        </step>
                        <step>
                            <description>Select "User ID Field Value" in the User ID Options > User ID Configuration property.
                            </description>
                        </step>
                        <step>
                            <description>Click [dot_img] in the User ID Options > User ID Validation Rules property to display the User ID Validation dialog.
                            </description>
                            <cases>
                                <case>
                                    <description>1. Enter "4" into the Data Length > Minimum Length property.
                                    </description>
                                </case>
                                <case>
                                    <description>2. Enter "12" into the Data Length > Maximum Length property.
                                    </description>
                                </case>
                                <case>
                                    <description>3. Click OK.
                                    </description>
                                </case>
                            </cases>
                        </step>
                        <step>
                            <description>Enter alphafive into the Password Options > Password encryption key property.
                            </description>
                        </step>
                        <step>
                            <description>Click [dot_img] in the Password Options > Password Validation Rules property to display the Password Validation dialog.
                            </description>
                            <cases>
                                <case>
                                    <description>1. Enable (check) the Text Format > Allow digits property.
                                    </description>
                                </case>
                                <case>
                                    <description>2. Enter "4" into the Data Length > Minimum Length property.
                                    </description>
                                </case>
                                <case>
                                    <description>3. Enter "12" into the Data Length > Maximum Length property.
                                    </description>
                                </case>
                                <case>
                                    <description>4. Click OK.
                                    </description>
                                </case>
                            </cases>
                        </step>
                        <step>
                            <description>Open the customize options by expanding the option. Picture
                            </description>
                            <cases>
                                <case>
                                    <figure>
                                        <link>images/web-security-custom.png</link>
                                    </figure>
                                </case>
                                <case>
                                    <description>1. Enable (check) the Customize Options > Show external user identifier field property. This is also called the 'ulink' field.
                                    </description>
                                </case>
                                <case>
                                    <description>2. Enter "__protected__user_identifier" into the Customize Options > Session variable for identifier field property.
                                    </description>
                                </case>
                                <case>
                                    <description>3. Click OK.
                                    </description>
                                </case>
                            </cases>
                        </step>
                        <step>
                            <description>Click Save.
                            </description>
                        </step>

                        <step>
                            <description>If you have neglected to set any required properties, a dialog similar to the following will appear. Click OK and correct these errors. Picture
                            </description>
                            <figure>
                                <link>images/web-security-error.png</link>
                            </figure>
                        </step>
                    </steps>
                </section>
            </sections>
            <links>
                <link href="images/Web_Properties_button.gif">dot_img</link>
            </links>
        </group>
        <group background="true">
            <title>Set Security Properties</title>
            <sections>
                <section>
                    <description>The Security Settings dialog provides access to the following properties.
                    </description>
                    <steps>
                        <step>
                            <description>Optionally, enable the Security Policy > Security Active property. This causes the Security Policy > Login Required property to appear.
                            </description>
                        </step>
                        <step>
                            <description>Optionally, enable the Security Policy > Password Required property. This causes the Password Options properties to appear.
                            </description>
                        </step>
                        <step>
                            <description>Refer to the following tables for explanations of different properties.
                            </description>
                        </step>
                    </steps>
                </section>
            </sections>
        </group>
        <group>
            <title>Security Policy</title>
            <sections>
                <section>
                    <cases>
                        <case>
                            <title>Security Active</title>
                            <description>If security is not activated, all objects and actions will be available to all users without restrictions. If security is active, the security system is base on membership in a group. The options are:</description>
                            <cases>
                                <case>
                                    <description>Activated (checked)</description>
                                </case>
                                <case>
                                    <description>Not Activated</description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Password Required</title>
                            <description>Login with a User ID and password is required to access some or all pages. The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>Password required (checked)
                                    </description>
                                </case>
                                <case>
                                    <description>No password required
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Redirect Page - Login </title>
                            <description>Display this page if login is required to access a selected page and no one is legged in. Click [dot_img] to display the Select Page dialog.</description>
                        </case>
                        <case>
                            <title>Redirect Page - Insufficient Permission</title>
                            <description>Optional. Display this page if a user id logged in but does not have sufficient permission to prevent access a selected page. Click [dot_img] to display the Select Page dialog.</description>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>Login Options</title>
            <sections>
                <section>
                    <cases>
                        <case>
                            <title>Login Expiration Policy</title>
                            <description>Define when the user's login policy will expire. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Defined time after last page access" - Set the Login Expiration Time, Remember Me Option, and Remember Me Policy
                                    </description>
                                </case>
                                <case>
                                    <description>"Defined time after initial login" - Set the Login Expiration Time, Remember Me Option, and Remember Me Policy
                                    </description>
                                </case>
                                <case>
                                    <description>"Expires when the user closes their browser" - Set the Locked Out Action
                                    </description>
                                </case>
                                <case>
                                    <description>"Expires when the current session expires"
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Login Expiration Time</title>
                            <description>This property contains the time interval required by the Login Expiration Policy. Click to display the Expiration Time dialog.
                            </description>
                        </case>
                        <case>
                            <title>Remember Me Option</title>
                            <description>The Remember Me option enables the capability to provide an automatic login. If the option is enabled, the user can select to save their login information in a tracking cookie. This information will be automatically retrieved whenever login is required. The option is only available if the login expiration policy is for a specified time. The options are:</description>
                            <cases>
                                <case>
                                    <description>Enabled (checked)</description>
                                </case>
                                <case>
                                    <description>Not enabled</description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Lockout After Failed Attempts</title>
                            <description>This property defines the number of times a user can try to login unsuccessfully before they are locked out of the application. Set to 0 to allow unlimited attempts.</description>
                        </case>
                        <case>
                            <title>Locked Out Action</title>
                            <description>Defines the action that is taken when a user is locked out. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Wait for a period of time" - Set the Locked Out Message and Locked Out Wait Time
                                    </description>
                                </case>
                                <case>
                                    <description>"Redirect to another page" - Set the Locked Out Redirect Page
                                    </description>
                                </case>
                                <case>
                                    <description>"Lock out User Until reset by administrator" - Set the Locked Out Wait Time to indefinite.
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Locked Out Message</title>
                            <description>This property defines the message that they user will see when locked out.</description>
                        </case>
                        <case>
                            <title>Locked Out Wait Time</title>
                            <description>This property defines the interval that the user will have to wait before another login attempt. Click [dot_img] to display the Expiration Time dialog.
                            </description>
                        </case>
                        <case>
                            <title>Locked Out Redirect Page</title>
                            <description>Select the page to display if the user is locked out. Click [dot_img] to display the Select Page dialog.</description>
                        </case>
                        <case>
                            <title>Login Activity File</title>
                            <description>Define whether to save login activity to a text file. The options are:</description>
                            <cases>
                                <case>
                                    <description>Save login activity (checked) - Set the Login Activity Log Folder</description>
                                </case>
                                <case>
                                    <description>Do not save login activity</description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Login Activity Log Folder</title>
                            <description>If you enabled the Login Activity File, specify where the activity log file will be saved. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Data Folder"
                                    </description>
                                </case>
                                <case>
                                    <description>"Project target folder"
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Login Redirect Option</title>
                            <description>Specify the action to take after a successful login. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Same page for all logins" - send all users the same page after login
                                    </description>
                                </case>
                                <case>
                                    <description>"Current page" - keep the user on the page containing the login
                                    </description>
                                </case>
                                <case>
                                    <description>"Page assigned by user" - Set the Redirect Page After Login
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Redirect Page After Login</title>
                            <description>If the a redirect page is not defined in the current user's profile, this property specifies the page to display after a successful login. Click [dot_img] to display the Select Page dialog.</description>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>User ID Options</title>
            <sections>
                <section>
                    <cases>
                        <case>
                            <title>User ID Configuration</title>
                            <description>This property defines the type of user ID to use. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Email Address" - Set the User ID Error Message
                                    </description>
                                </case>
                                <case>
                                    <description>"User ID Field Value" - Set the User ID Validations Rule
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>User ID Error Message</title>
                            <description>Appears only if the User ID Configuration was set to "Email Address". This property defines the message to display if the user ID is not a valid email address.</description>
                        </case>
                        <case>
                            <title>User ID Validations Rule</title>
                            <description>Appears only if the User ID Configuration was set to "User ID Field Value". This property defines the way to validate a user ID. Click [dot_img] to display the UserID Validation dialog.</description>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>Password Options</title>
            <sections>
                <section>
                    <cases>
                        <case>
                            <title>Password Encryption</title>
                            <description>Specify whether a new password should be encrypted before saving it in the user table. The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>Checked = encrypt password before save
                                    </description>
                                </case>
                                <case>
                                    <description>Not Checked - save in clear text
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Password Encryption Key </title>
                            <description>Enter the encryption key to use if encryption is desired. Key must be a minimum of 8 characters</description>
                        </case>
                        <case>
                            <title>Allow Password Change at Login</title>
                            <description>Specify whether to allow the user to change his or her password at login. The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>Yes (checked) - Set Password Validation Rules
                                    </description>
                                </case>
                                <case>
                                    <description>No
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Password Validation Rules</title>
                            <description>Define the way to validate a user ID. Click [dot_img] to display the Password Validation dialog.</description>
                        </case>
                        <case>
                            <title>Password Expires?</title>
                            <description>Specify whether passwords will expire. When the current password expires, the user must enter a new password. The options are:</description>
                            <cases>
                                <case>
                                    <description>Yes (checked) - Set Password Expiration Time
                                    </description>
                                </case>
                                <case>
                                    <description>No
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Password Expiration Time</title>
                            <description>This property defines the length of time that a password will last before it expires. Click to display the Expiration Time dialog.
                            </description>
                        </case>
                        <case>
                            <title>Password Restricted Re-use</title>
                            <description>This property defines the number of old passwords that are saved in a restricted list and cannot be re-used. When you add a new password to the list, the system removes the oldest password. A value of 0 will allow any password to be re-used without restriction. A value of 1 requires only that a new password not match the current password.</description>
                        </case>
                        <case>
                            <title>Password Restricted Re-use Message </title>
                            <description>Message to show if user entered a restricted password. </description>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>Lost Data Recovery Options</title>
            <sections>
                <section>
                    <cases>
                        <case>
                            <title>Allow User ID Recovery</title>
                            <description>Specify whether to allow a user to recover his or her user ID when it has been lost. The options are:</description>
                            <cases>
                                <case>
                                    <description>Yes (checked) - Set Data Required for Recovery
                                    </description>
                                </case>
                                <case>
                                    <description>No
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Data Required for Recovery</title>
                            <description>Specify the information required to recover a user ID. You will also need to have an email field in the user security table. See User Table Field Map. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Valid Email Address"
                                    </description>
                                </case>
                                <case>
                                    <description>
                                        <![CDATA["Valid Email Address & security question"]]>
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Lost Password Action</title>
                            <description>Specify whether to allow a user to recover his or her password when it has been lost. The options are:</description>
                            <cases>
                                <case>
                                    <description>"Not Allowed"
                                    </description>
                                </case>
                                <case>
                                    <description>"Recover Password"
                                    </description>
                                </case>
                                <case>
                                    <description>"Reset Password" - Will create system generated single use password.
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Data Required for Password Reset / Recovery</title>
                            <description>Specify the information that must be entered to identify the user in order to recover or reset his or her password. The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>"Valid Email Address"
                                    </description>
                                </case>
                                <case>
                                    <description>"Valid User ID"
                                    </description>
                                </case>
                                <case>
                                    <description>
                                        <![CDATA["Valid User ID & Email"]]>
                                    </description>
                                </case>
                                <case>
                                    <description>
                                        <![CDATA["Valid User ID & Security Question"]]>
                                    </description>
                                </case>
                                <case>
                                    <description>
                                        <![CDATA["Valid Email Address & Security Question"]]>
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Lost Data Recovery Method</title>
                            <description>This property defines the method used to recover a lost user ID or password. The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>"Show on Screen"
                                    </description>
                                </case>
                                <case>
                                    <description>"Create Email link on page" - shows an email link that will allow the user to send a pre-configured email request to a predefined address
                                    </description>
                                </case>
                                <case>
                                    <description>"Send Email to User" - Set Send User ID with Password?, Configure Email to Send to User with User ID, Configure Email to Send to User with Password, and Configure Email Request from User
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Lost Data Recovery Alternative Method</title>
                            <description>This is the method to use if you selected "Send Email to User" for the Lost Data Recovery Method property, but the server does not support email. The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>"Show on Screen"
                                    </description>
                                </case>
                                <case>
                                    <description>"Create Email link on page" - shows an email link that will allow the user to send a pre-configured email request to a predefined address
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Send User ID with Password?</title>
                            <description>Send both User ID and Password in the same message? The options are:
                            </description>
                            <cases>
                                <case>
                                    <description>Yes (checked)
                                    </description>
                                </case>
                                <case>
                                    <description>No - The user will receive 2 emails if the recovery process was used to find his or her user ID.
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>Configure Email to Send to User with User ID</title>
                            <description>Click [dot_img] to display the Create Email to Send to User with User ID dialog.
                            </description>
                        </case>
                        <case>
                            <title>Configure Email to Send to User with Password</title>
                            <description>Click [dot_img] to display the Create Email to Send to User with Password dialog.</description>
                        </case>
                        <case>
                            <title>Configure Email Request from User</title>
                            <description>Click [dot_img] to display the Create Login Request Email FROM User dialog.
                            </description>
                        </case>
                        <case>
                            <title>Security Questions</title>
                            <description>Click [dot_img] to display the Login Recovery Security Questions dialog.
                            </description>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>Customize Options</title>
            <sections>
                <section>
                    <cases>
                        <case>
                            <title>Enable External User Identifier Field</title>
                            <description>Enables a special user table field named "ulink". User records may exist in tables outside of the security system. The field 'ulink' can be used to enter a user identifier value from a user record in an external table to 'link' that user to a web user security record.</description>
                        </case>
                        <case>
                            <title>Session Variable for Identifier Field</title>
                            <description>(Optional) Enter the name of a session variable to contain the value from the 'ulink' field. If the security framework is on, the session variable will always exist for every page. The variable value will be blank if no one is logged on, or contain a 'ulink' value from the logged in user record, if a value exists for that user.</description>
                        </case>
                        <case>
                            <title>Prompt to Display for Identifier Field </title>
                            <description>Enter the prompt to display on the Users and Groups dialog for the 'ulink' field. The name can describe the source of the value
                            </description>
                        </case>
                        <case>
                            <title>User Verification Field Values Required </title>
                            <description>This option is available if a feature that allows a user to recover lost login information is enabled. A user will be able to recover their login information if they can identify themselves by answering the security questions. The security questions are called the 'User Verification Fields'. When a new user is added to the Users table, or when an existing user's information is edited, you can specify if the User Verification Fields, MUST be entered, or if they are OPTIONAL. The options are: </description>
                            <cases>
                                <case>
                                    <description>Required (Checked) when adding/editing records in the Users table via a Web form or function.
                                    </description>
                                </case>
                                <case>
                                    <description>Required (Checked) when adding/editing records in the Users table via a Desktop dialog.
                                    </description>
                                </case>
                            </cases>
                        </case>
                        <case>
                            <title>User ID not Unique Error Message</title>
                            <description>Used ID values must be unique. This message will display if the User ID entered already exists in the user table. This message is only used in a web component.</description>
                        </case>
                        <case>
                            <title>User File - Required Data Missing</title>
                            <description>This message is displayed if required data is missing when saving a new or changed user record. This message is only used in a web component.</description>
                        </case>
                        <case>
                            <title>Password - Confirm Password Doesn't Match</title>
                            <description>This message is only displayed if an optional 'confirm_password' value doesn't match the entered password. This message is only used in a web component.</description>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>Defining Page Security</title>
            <sections>
                <section>
                    <description>The third step when implementing the web security framework is to define which of your pages will fall into these three categories:</description>
                    <cases>
                        <case>
                            <description>pages that web users can never open (Always Denied)</description>
                        </case>
                        <case>
                            <description>pages that web users can open without login (Always Allowed)</description>
                        </case>
                        <case>
                            <description>pages that web users can open after successful login (Login Required)</description>
                        </case>
                    </cases>
                </section>
                <section>
                    <steps>
                        <step>
                            <description>Display the Web Projects Control Panel.</description>
                        </step>
                        <step>
                            <description>Click Web Security to display the Web Security dialog.</description>
                        </step>
                        <step>
                            <description>Select Page Security and click OK to display the Page Security Assignment dialog. This dialog initially lists all your pages except any pages listed as redirect pages in the left-most Always Denied column. </description>
                            <figure>
                                <link>
                                <figure>
                                    <link>images/web-security-page.png</link>
                                </figure>
                                </link>
                            </figure>
                        </step>
                    </steps>
                </section>
                <section>
                    <title>Procedures</title>
                    <description>Initially, all pages are listed under Always Denied. To make one or more pages available without login:</description>
                    <steps>
                        <step>
                            <description>Select the pages in the Always Denied list and click Move [right_img] to move them to the Always Allowed list.
                            </description>
                        </step>
                        <step>
                            <description>You may also select the pages in the Login Required list and click [left_img] Move to move them to the Always Allowed list.
                            </description>
                            <note>If you disable the security framework, all pages will be available without login.</note>
                        </step>
                    </steps>
                </section>
                <section>
                    <description>To make one or more pages unavailable:
                    </description>
                    <steps>
                        <step>
                            <description>Select the pages in the Login Required and click [left_img] Move to move them to the Always Denied list.
                            </description>
                        </step>
                        <step>
                            <description>Select the pages in the Always Allowed and click [left_img] Move to move them to the Always Denied list.
                            </description>
                        </step>
                    </steps>
                </section>
                <section>
                    <description>To define access privileges for one or more pages that requires login.
                    </description>
                    <steps>
                        <step>
                            <description>Optionally, select one or more pages in the Login Required list.
                            </description>
                        </step>
                        <step>
                            <description>Optionally, select a single page and click Select All Pages with the Same Permissions as the Current Page.
                            </description>
                        </step>
                        <step>
                            <description>Optionally, select a single page and click Select All Pages with Differerent Permissions than the Current Page.
                            </description>
                        </step>
                        <step>
                            <description>Click Set Permissions for Selected Pages to display the Permissions dialog.
                            </description>
                        </step>
                        <step>
                            <description>All pages listed in Login Required must have one or more groups assigned.
                            </description>
                        </step>
                    </steps>
                </section>
                <section>
                    <description>To control access to certain file types:
                    </description>
                    <steps>
                        <step>
                            <description>Click Files Allowed by Type. to display the Files by Type List dialog.
                            </description>
                        </step>
                        <step>
                            <description>Clear the check mark from any file type that you wish to prevent users from accessing.
                            </description>
                        </step>
                        <step>
                            <description>Click OK to continue.
                            </description>
                        </step>
                    </steps>
                </section>
                <section>
                    <title>Setting Permission for a Single Page
                    </title>
                    <description>You can set the permission for a single page from the right click menu on the Web Projects Control Panel:
                    </description>
                    <steps>
                        <step>
                            <description>Select the name of a page in the list on the Web Projects Control Panel.
                            </description>
                        </step>
                        <step>
                            <description>Right click to open the right click menu.
                            </description>
                        </step>
                        <step>
                            <description>If the name selected is a a5w, htm, or html page, the menu will show an option for Page Security.
                            </description>
                            <figure>
                                <link>images/WP_Page_Right_Click_Security.gif</link>
                            </figure>
                        </step>
                        <step>
                            <description>Select Page Security and the permission level desired.
                            </description>
                        </step>
                        <step>
                            <description>If Requires Login is selected, the Permissions dialog will display.
                            </description>
                        </step>
                    </steps>
                </section>
            </sections>
        </group>
    </groups>
    <limitations>Web publishing applications only.
    </limitations>
    <links>
        <link href="images/Web_Properties_button.gif">dot_img</link>
        <link href="images/Move_Next_Button.gif">right_img</link>
        <link href="images/Move_Previous_Button.gif">left_img</link>
    </links>
    <see>
        <ref>Defining Page Security</ref>
        <ref>Defining Field and Menu Security</ref>
        <ref>Web Application Security Framework</ref>
        <ref>Security Component Properties</ref>
    </see>
</page>