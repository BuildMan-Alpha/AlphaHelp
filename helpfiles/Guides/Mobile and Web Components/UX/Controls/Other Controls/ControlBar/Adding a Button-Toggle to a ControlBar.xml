<page build="3922">
    <shortlink>Adding a ButtonToggle to a ControlBar</shortlink>
    <topic>Adding a Button-Toggle to a ControlBar</topic>
    <description>You can add a Button-Toggle to a ControlBar. Toggle buttons can either be two-state (switching between a true and a false state), or multi-state (each click advances to the next button state). The video shows how the state of a Button-Toggle is used to control what action a button performs when clicked.</description>
    <sections>
        <section>
            <figure>
                <title>A toggle button in the top right determines the direction to move through a list control.</title>
                <link>images/tog45.png</link>
            </figure>
        </section>
        <section>
            <description>For a visual explanation on how the state of a Button-Toggle is used to control what action a button performs when clicked follow the guide below or watch this video:</description>
            <videos>
                <title>Adding a Button-Toggle to a ControlBar</title>
                <description>
                    <p>In this video we show how you can add a Button-Toggle to a ControlBar. Toggle buttons can either be two-state (switching between a true and a false state), or multi-state (each click advances to the next button state).</p>
                    <p>The video shows how the state of a Button-Toggle is used to control what action a button performs when clicked.</p>
                </description>
                <date>2016-09-14</date>
                <video>
                    <name>Watch Video</name>
                    <link>https://www.viddler.com/v/c4273b7a</link>
                </video>
                <resources>
                    <resource>
                        <link>http://www.ajaxvideotutorials.com/V12Videos/uxControlBar_buttonToggle.zip</link>
                    </resource>
                </resources>
            </videos>
        </section>
        <section>
            <title>Create a Component with a ControlBar and List</title>
            <steps>
                <step>
                    <description>In the UX Builder open the Properties page. In the UX Properties section click the [...] button next to the 'Style name' property.</description>
                    <figure>
                        <link>images/tog.png</link>
                    </figure>
                </step>
                <step>
                    <description>From the 'Location' menu select 'System' and from the style options select the 'Alpha' style. Click OK.</description>
                    <figure>
                        <link>images/tog2.png</link>
                    </figure>
                </step>
                <step>
                    <description>Open the UX Controls page and check the 'Mobile' checkbox.</description>
                    <figure>
                        <link>images/tog3.png</link>
                    </figure>
                </step>
                <step>
                    <description>Open the Panels menu and select the [Panel Card] option to add a panel card to the component tree.</description>
                    <figure>
                        <link>images/tog4.png</link>
                    </figure>
                </step>
                <step>
                    <description>Highlight the panel card. Open the 'Containers' menu and click on the [Container] option.</description>
                    <figure>
                        <link>images/tog5.png</link>
                    </figure>
                </step>
                <step>
                    <description>From the Container Type list select 'PanelHeader' and click the 'Insert After' button.</description>
                    <figure>
                        <link>images/tog6.png</link>
                    </figure>
                </step>
                <step>
                    <description>Highlight the panel header. Open the 'Other Controls' menu and select the [ControlBar] option to add a control-bar to the panel header.</description>
                    <figure>
                        <link>images/tog7.png</link>
                    </figure>
                </step>
                <step>
                    <description>Highlight [PanelHeader End: PANELHEADER_1]. Open the Data Controls menu and click [List] to add a list control underneath the panel header.</description>
                    <figure>
                        <link>images/tog8.png</link>
                    </figure>
                </step>
                <step>
                    <description>Highlight the list control. In the properties list on the right, under List Properties, click the [...] button next to the 'List properties' property to open the List Builder.</description>
                    <figure>
                        <link>images/tog9.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the List Builder open the Data Source Pane. Set the 'Data Source Type' to SQL.</description>
                    <figure>
                        <link>images/tog10.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click on the [...] button next to the Connection String property, in the SQL Data Source section.</description>
                    <figure>
                        <link>images/tog11.png</link>
                    </figure>
                </step>
                <step>
                    <description>Set the 'Table name' property to the 'Customers table.</description>
                    <figure>
                        <link>images/tog12.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click the [...] button next to the 'Field list' property and select the 'ContactName' and 'City fields'.</description>
                    <figure>
                        <link>images/tog13.png</link>
                    </figure>
                </step>
                <step>
                    <description>
                        Open the List Layout pane. Use the blue > arrow to move the ContactName and City fields from the Available Fields list
                        to the 'Columns in List' area. Click OK to close the list builder.
                    </description>
                    <figure>
                        <link>images/tog14.png</link>
                    </figure>
                </step>
                <step>
                    <description>The component tree should now look like this:</description>
                    <figure>
                        <link>images/tog15.png</link>
                    </figure>
                </step>
            </steps>
        </section>
        <section>
            <title>Add a Button-Toggle that Navigates the List</title>
            <steps>
                <step>
                    <description>Highlight [ControlBar:CONTROLBAR_1]. In the Properties list under ControlBar Properties click the 'ControlBar properties' property to open the ControlBar Builder.</description>
                    <figure>
                        <link>images/tog16.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the ControlBar Builder open the 'Items' pane and click the 'Add ControlBar Item' button.</description>
                    <figure>
                        <link>images/tog17.png</link>
                    </figure>
                </step>

                <step>
                    <description>Select 'button-toggle' option from the Item Type choices and click OK.</description>
                    <figure>
                        <link>images/tog18.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the ControlBar Item Properties menu go to the 'Button Settings for Button-Toggle' section. Set the 'Button layout' property to 'Image only'.</description>
                    <figure>
                        <link>images/tog19.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the same section click the [...] button next to the 'Icon' property.</description>
                    <figure>
                        <link>images/tog20.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the 'Specify Image' dialog select 'SVG Icon' from the list of radio button choices. Hit the 'Select' button.</description>
                    <figure>
                        <link>images/tog21.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click on the 'arrowDown' SVG icon to select it and click OK and OK again.</description>
                    <figure>
                        <link>images/tog22.png</link>
                    </figure>
                </step>
                <step>
                    <description>Back in the 'Items' pane click the [...] button next to the 'Pressed icon' property. This should be just below to Icon property.</description>
                    <figure>
                        <link>images/tog23.png</link>
                    </figure>
                </step>
                <step>
                    <description>Choose the SVG Icon property and click 'Select'.</description>
                    <figure>
                        <link>images/tog24.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click on the 'arrowUp' icon and click OK and OK again.</description>
                    <figure>
                        <link>images/tog25.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the 'Items' pane scroll up the ControlBar Item Properties list to the 'Button-Toggle Settings'. Make sure the Type property is set to 'Two-State'.</description>
                    <figure>
                        <link>images/tog26.png</link>
                    </figure>
                </step>
                <step>
                    <description>Next to the 'Data variable' property define a new data variable called 'toggleState'.</description>
                    <figure>
                        <link>images/tog27.png</link>
                    </figure>
                </step>
                <step>
                    <description>Open the 'Actions' pane and click on the 'Add Action' button to create a new action. Give the action the name 'next'.</description>
                    <figure>
                        <link>images/tog28.png</link>
                    </figure>
                </step>

                <step>
                    <description>Add the following Javascript to define the action:</description>
                    <example>
                        <![CDATA[var lObj = {dialog.object}.getControl('list1');
if(!this.data.toggleState) {
    lObj.navigate('next');
} else {
    lObj.navigate('prev');
}]]>
                    </example>
                    <figure>
                        <link>images/tog29.png</link>
                    </figure>
                </step>
                <step>
                    <description>Open the 'Items' pane again. Click the 'Add ControlBar Item' button.</description>
                    <figure>
                        <link>images/tog30.png</link>
                    </figure>
                </step>
                <step>
                    <description>From the Item Type choices select 'button' and click OK.</description>
                    <figure>
                        <link>images/tog31.png</link>
                    </figure>
                </step>
                <step>
                    <description>Highlight the button item. In the ControlBar Item Properties list, under 'Item Actions', hit the [...] button next to the 'Click' property.</description>
                    <figure>
                        <link>images/tog32.png</link>
                    </figure>
                </step>
                <step>
                    <description>Select the 'next' action that you just defined.</description>
                    <figure>
                        <link>images/tog33.png</link>
                    </figure>
                </step>
                <step>
                    <description>Scroll down the ControlBar Item Properties list to the Button Settings. Change the 'Button layout' property to be 'Image followed by text'.</description>
                    <figure>
                        <link>images/tog34.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click the [...] button next to the Icon property.</description>
                    <figure>
                        <link>images/tog35.png</link>
                    </figure>
                </step>
                <step>
                    <description>In the Specify Image dialog select the 'SVG Icon' option and click 'Select'.</description>
                    <figure>
                        <link>images/tog36.png</link>
                    </figure>
                </step>
                <step>
                    <description>Select the 'arrowsVertical' icon and click OK and OK again.</description>
                    <figure>
                        <link>images/tog37.png</link>
                    </figure>
                </step>
                <step>
                    <description>Towards the bottom of the Button Settings section set the 'Button text' property to read 'Move'.</description>
                    <figure>
                        <link>images/tog38.png</link>
                    </figure>
                </step>

                <step>
                    <description>Open the ControlBar Layout pane. Click the 'Add Layout' button. Give the layout a name like Layout1 and click OK.</description>
                    <figure>
                        <link>images/tog39.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click the 'Add Line' button</description>
                    <figure>
                        <link>images/tog40.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click the 'Add' button under the Before section, highlight the button item you defined, and click OK.</description>
                    <figure>
                        <link>images/tog41.png</link>
                    </figure>
                </step>
                <step>
                    <description>
                        Add the 'button-toggle' item to the 'After:' section by clicking the 'Add' button, highlighting the 'button-toggle' item and clicking OK. Click OK to close the Edit Layout Line dialog.</description>
                    <figure>
                        <link>images/tog42.png</link>
                    </figure>
                </step>

                <step>
                    <description>Click OK again to close the ControlBar Builder. Run the component in Live Preview</description>
                    <figure>
                        <link>images/tog43.png</link>
                    </figure>
                </step>
                <step>
                    <description>Click on a row in the list and press the 'Move' button. You should be able to move down the list control.</description>
                    <figure>
                        <link>images/tog44.png</link>
                    </figure>
                </step>
                <step>
                    <description>Now try pressing the button-toggle button. The icon should change to point up. Click on the Move button again and you should be able to move up through the rows in the list control.</description>
                    <figure>
                        <link>images/tog45.png</link>
                    </figure>
                </step>
            </steps>
        </section>
    </sections>
    <links>
        <link href="/images/tools/ellipsesButton.png">...</link>
    </links>
</page>
