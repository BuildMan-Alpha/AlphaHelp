<page>
<topic>Using Watch Events to Update ControlBar Data</topic>

<description>The ControlBar data can be updated automatically in response to certain events in the UX 
	(such as the UX going dirty, a List going dirty, etc.) or by a change in the value of one or more controls. 
	Watch Events can be defined in the ControlBar Builder inside the Data pane by first clicking the 'Add Data Item' button 
	and then checking the 'Update value automatically based on a 'watch' events' checkbox. If a html item is placed in the ControlBar 
	then the Watch Event can be added as a placeholder in the HTML text property.</description>


<sections>
<section>
<description>To see how you can configure watch events to automatically update ControlBar data watch [this video] or follow the guide below.</description>

</section>

<section>
<title>Create a Component with a List and ControlBar</title>
<steps>
<step>
<description>In the UX Builder on the UX Controls page check the 'Mobile' checkbox.</description>
<figure><link>images/we.png</link></figure>
</step>
<step>
<description>Open the Panels menu and select [Panel Card] to add a Panel Card to the component.</description>
<figure><link>images/we.png</link></figure>
</step>
<step>
<description>Highlight the Panel Card and open the Containers menu. Click on [Container]</description>
<figure><link>images/we.png</link></figure>
</step>
<step>
<description>From the Container Type list select the PanelHeader option and click 'Insert After'.</description>
<figure><link>images/we.png</link></figure>
</step>
<step>
<description>Highlight the Panel Header. Open the 'Other Controls' menu a click on [ControlBar] to add a control bar to the 
	panel header.</description>
<figure><link>images/we.png</link></figure>
</step>
<step>
<description>Highlight [PanelHeader End:PANELHEADER_1] and open the 'Data Controls' menu. Click on [List] to add a list control 
	to the component.
</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>Highlight the list control. In the properties list on the right click on the 'List properties' property, in the 
	List Properties section. to open the List Builder.
</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>On the List Builder's Data Source pane set the Data Source Type to SQL. 
	The video example uses a 'Static' data source, which also works.
</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>In the SQL Data Source section of the Data Source pane click the [...] button next to the 
	Connection string property. Set the 'Connection string' to be the 'Northwind' database.  
</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>Set the 'Table name' property to be the 'Customers' table.</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>For the Field list property select the ContactName and City fields from the list of choices.</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>Having set the data source scroll down to the Data Source pane to the 'Return Value' section. From the dropdown set the 
	'Return value type' to be Expression.
</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>Click the [...] button next to the 'Return expression' property.</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description>In the Return Value Expression dialog double click on one of the fields in the 'Available Fields' list. The field 
	should show up in the expression box on the right of the dialog. This example uses the 'data.City' field. Click OK.
</description>
<figure><link>images/we.png</link></figure>
<note>This Field's information will be displayed in the ControlBar when any given row is highlighted.</note>
</step>

<step>
<description>Open the 'List Layout' pane. Use the blue > arrow to move the ContactName and City fields from the Available Fields 
	list to the Columns in List area. Click OK to close the List Builder.</description>
<figure><link>images/we.png</link></figure>
</step>

</steps>


</section>
<section>
	<title>Add a Watch Event</title>
<steps>
<step>
<description>Highlight the ControlBar. Click on the [...] button next to the ControlBar properties 
	property to open the ControlBar Builder.
</description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>

<step>
<description></description>
<figure><link>images/we.png</link></figure>
</step>
</steps>	
	
</section>



</sections>


<links>
<link href="images/open.png">...</link>
<link href="http://www.ajaxvideotutorials.com/V12Videos/ux_controlbar_updatingdatausingawatchevent.swf">this video</link>
</links>

</page>
