<page>
<topic>Hooking Data Controls to ControlBar Disclosures</topic>

<description>You can display standard UX controls (such as Lists, Buttons, Input controls, etc.) in a disclosure. 
	This means you can use controls to create menus, maps, ink surfaces, etc... that pop up at the click ok a button 
	in a ControlBar.
</description>



<sections>
<section>
	<figure><title>A List Control inside of a Disclosure that opens via a disclosure button.</title><link>images/list.png</link></figure>
</section>	
	
	
<section>
<description>For a explanation on how this is done follow the guide below and/or watch this two part video: [Part 1], [Part 2].
</description>
</section>
<section>
	<title>Create a Component with a ControlBar and List Control</title>
	<steps>
<step>
	<description>In the UX Builder open the UX Controls page and check the 'Mobile' checkbox.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Open the 'Panel' menu and select the [Panel Card] option to add a Panel Card to the component.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Highlight the Panel Card in the tree. Open the Containers menu and click on the [Container] option.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>From the Container Type list select 'PanelHeader' and then click the 'Insert After' button.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Highlight the panel header and open the 'Other Controls' menu. Click on the [ControlBar] option 
		to add a controlbar to the panelheader.
	</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Highlight [Panel Card End: PANELCARD_1] and open the Containers menu again. Click on the [Container] option.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>From the Container Type list select the 'Injectible Content' option and click 'Insert After'.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Highlight the Injectible Content container and open the 'Data Controls' menu. Click on 
		[List] to add a list control to the injectible content container.
	</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>The component tree should now look like this:</description>
	<figure><link>images/hook.png</link></figure>
</step>
	</steps>

</section>

<section>
	<title>The List Control</title>
	<steps>
		<step>
	<description>Highlight the List control. Scroll down the properties list to the List Properties section. 
		Click the [...] button next to the 'List properties' property to open the List Builder.
	</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the List Builder's 'Data Source' pane select 'Static' from the 'Data Source Type' menu.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click the [...] button next to the 'Static data' property.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click the 'Sample data' link.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>From the 'Sample Data' dialog double click on the 'Sample menu system (uses Font-Awesome Icon Fonts) option and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the 'Static Choices' dialog erase the text underneath the sample data and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Open the 'Fields' pane and highlight the 'Image' field.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the properties list on the right set the 'Control type' property to be CSSIcon. This should be 
		in the Client-side section.
	</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Open the 'List Properties' pane. In the Layout Properties section set the Layout type to be 'Freeform'.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Scroll down to the 'Javascript - Run Time' section and click the [...] button next to the 'OnSelect' property.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the 'List Control System Events' dialog set the OnSelect event to be the following and click OK.</description>
	<example><![CDATA[var cbObj = {dialog.object}.getControl('CONTROLBAR_1');
cbObj.hideDisclosure();]]></example>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Open the 'List Layout' pane. Add the following HTML to the template section and click OK.</description>
	<example><![CDATA[<div style="display: table; width: 100%;">
	<div style="display: table-cell;">
		<div class="{dialog.style}ListItemLabelMain">{Image} {MenuName}</div>
	</div>

	<div style="display: table-cell; width: 40px; text-align: right; vertical-align: middle;">
		<img src="{images.dialog.listNav}"/>
	</div>
</div>]]></example>
	<figure><link>images/hook.png</link></figure>
</step>

		
	</steps>
	
</section>
<section>
	<title>The ControlBar control</title>
	<steps>
		<step>
	<description>In the UX Controls page highlight the ControlBar control.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the properties list click on the 'ControlBar properties' property to open the ControlBar Builder.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the Disclosures pane click the 'Add Disclosure' button. Leave the name as 'Disclosure1' and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>

<step>
	<description>In the properties list click the [...] button next to the HTML property, under the 'Disclosure Properties' section </description>
	<figure><link>images/hook.png</link></figure>
</step>
		<step>
	<description>Click the 'Insert content from an 'Injectible Container' button.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click on the [...] button next to the onSize property in the Events section of the properties list.</description>
	<figure><link>images/hook.png</link></figure>
</step>
		<step>
	<description>Define the following Javascript for the onSize event and click OK:</description>
	<example><![CDATA[var lObj = {dialog.object}.getControl('listMenu');
$(lObj.contId).style.height = ele.offsetHeight+'px';
lObj.resize()]]></example>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Open the Items pane. Click the 'Add ControlBar Item' button.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>From the 'Item Type' choices select the 'disclosure-button' option and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click the [...] button next to the 'Disclosure name' property, in the properties list under Disclosure Settings section.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Select Disclosure1 and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click the [...] button next to the 'Display type' property.</description>
	<figure><link>images/hook.png</link></figure>
</step>

<step>
	<description>Select 'outside-before' and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the Disclosure Settings section set the 'Size' property to be 200px.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Scroll down the ControlBar Item Properties list to the 'Button Settings' section. From the 
		dropdown next to the 'Button layout' property select 'Image only'.
	</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click the [...] button next to the 'Icon' property.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Choose the 'SVG Icon' option and hit 'Select'.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>From the built-in icons select the 'bars' option and click OK and OK again.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Open the ControlBar Layout pane and click the Add Layout button.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Leave the layout name as 'Layout1' and click OK.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click the 'Add Line' button.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>In the Edit Layout Line dialog click the 'Add' button under the 'After' section.
		 Select the Disclosurebutton1 and click OK, OK, and OK again to close the ControlBar Builder.
	</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Run the component in Live Preview. Click on the 'bars' icon in the ControlBar</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>The list of static data that you defined in the list control should open.</description>
	<figure><link>images/hook.png</link></figure>
</step>
<step>
	<description>Click on one of the rows in the list and the menu should close.</description>
	<figure><link>images/hook.png</link></figure>
</step>
		
	</steps>
	
	
	
	
</section>





</sections>

<links>
<link href="http://www.ajaxvideotutorials.com/V12Videos/ux_controlbar_injectibleList_1.swf">Part 1</link>
<link href="http://www.ajaxvideotutorials.com/V12Videos/ux_controlbar_injectibleList_2.swf">Part 2</link>
</links>


</page>
