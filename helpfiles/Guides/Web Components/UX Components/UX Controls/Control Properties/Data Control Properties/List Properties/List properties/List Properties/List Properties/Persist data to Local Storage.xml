<page>
 <topic>Persist data to Local Storage</topic>
<description>Should the data in the List be saved in Local Storage on the device? This option is typically only checked 
  if you are building a mobile application that can work when you are disconnected from the internet.
</description> 
 
<sections>
  
  
  <section>
    <title>Interdependent Property Settings</title>
    <description>When you build an application for disconnected operation you need to be sure that the data in the 
      application is persisted to Local Storage; so that edits are that are made to any data are not lost if the application is restarted before the 
      user has had a chance to synchronize the data with the server.
    </description>
    
    <figure><title>Persist data to Local Storage in List Builder</title><link>images/storage2.png</link></figure>
  </section>
  
    <section>
    <figure><title>When checked</title><link>images/storage3.png</link></figure>
  </section>
  <section>
  <description>In order to restore List data from Local Storage you Must also check the 'Restore data in List controls from Local Storage'
     property in the 'Local Storage' section on the 'Properties' pane of the UX Builder.
  </description>
  <figure><title>The Local Storage section on the UX Properties page</title><link>images/storage.png</link></figure>
  </section>

 <section>
   <description>For a video guide on how this property can be used, watch these three videos: [video 1], [video 2], [video 3]. 
     
   </description>
   
 </section>
 <section>
   <title>Defining a UX List Control that can use 'Persist Data to Local Storage'</title>
   <description>In order to use this property it is necessary to first create the updatable list control to which it can be applied.</description>
   
   
   <steps>
     <step>
       <description><![CDATA[Open the UX Builder. On the UX Controls page view the Data Controls menu and click the [Textbox] option to add a textbox 
         control to the component. Give the control the name 'search'.]]>
       </description>
       <figure><link>images/per.png</link></figure>
     </step>
   
        <step>
       <description>Create five additional text box controls on the component. Give these the names city, contact, address, country, and company. Your control page 
         should look something like this:
       </description>
       <figure><link>images/per1.png</link></figure>
     </step>
     
     
        <step>
       <description><![CDATA[In the Data Controls menu and double click the [List] option to add a list control to the component.]]></description>
       <figure><link>images/per2.png</link></figure>
     </step>
     
        <step>
       <description>Highlight the list control. In the control's properties list on the right find the List Properties. Click the [...] 
         button next to the 'List properties' property to open the list builder.
       </description>
       <figure><link>images/hlight4.png</link></figure>
     </step>
        <step>
       <description>Open the 'Data Source' pane of the list builder. In the Data Source Type menu select SQL</description>
       <figure><link>images/per4.png</link></figure>
     </step>
        <step>
       <description>Under SQL Data Source, set the Connection string property to the Northwind database. Set the Table name property to the Customers table. 
         After doing this click the [...] button next to the "Field list" property and select the ContactName, CompanyName, City, Country, and Address fields. 
       </description>
       <figure><link>images/per5.png</link></figure>
     </step>
     <step>
       <description>In the Return Value section of the Data Source page, set the Return value type to 'PrimaryKey'.</description>
        <figure><link>images/per6.png</link></figure>
     </step>
        <step>
       <description>Open the List Layout pane. Use the blue > arrow to move the fields that you just added from the 'Available fields' list to the 
         'Columns in list'</description>
       <figure><link>images/per7.png</link></figure>
     </step>
        <step>
       <description>Open the Properties pane. Place a check next to both the 'Has Detail View' property and the 'Has Search Part' 
         property.
       </description>
       <figure><link>images/per8.png</link></figure>
     </step>
        <step>
       <description>Open the 'Detail View' pane. Under Detail View Properties make sure the Detail view type is set to FieldMap, then click the 
         [...] button next to the Detail view field map property.
       </description>
       <figure><link>images/per9.png</link></figure>
     </step>
        <step>
       <description>In the Define Field Map dialog click on each field and then click on the 'Map Field'' button. 
         Select the textbox control name that corresponds to the field name and click OK. Repeat this process for all five fields.
       </description>
       <figure><link>images/per10.png</link></figure>
       <note>The Auto-map Fields button will speed this process up</note>
     </step>
       <step>
       <description>Now click the Detail View - Quick Setup Genie button at the bottom of the Detail View Pane.</description>
       <figure><link>images/per11.png</link></figure>
     </step>
     
     
          <step>
       <description>Check "Add buttons to the List Detail View to perform actions such as 'Save edits', Synchronize data', 'etc.'". 
         Then check the 'Create buttons for most commonly used actions' option. Click OK.
       </description>
       <figure><link>images/per12.png</link></figure>
     </step>
     
        <step>
       <description>Add the button controls to the end of the component.</description>
       <figure><link>images/per13.png</link></figure>
     </step>
        <step>
       <description>Click OK to get back to the List Builder.</description>
       <figure><link>images/per14.png</link></figure>
     </step>
     
        <step>
       <description>Open the Search Part. Under Search Part Style click the dropdown control next to the Search Part style property. 
         Choose the 'SingleKeywordControl' option.
       </description>
       <figure><link>images/per15.png</link></figure>
     </step>
        <step>
       <description>Click the [...] button next to the 'Keyword search fields' property. Check all five fields and click OK</description>
       <figure><link>images/per16.png</link></figure>
     </step>
         <step>
       <description>Set the Keyword search control to be the 'search' textbox defined earlier.</description>
       <figure><link>images/per17.png</link></figure>
     </step>
   
        <step>
       <description>On the Controls page go to the 'Defined Controls' and click the List-Search Part-Buttons option. To add this button to the component</description>
       <figure><link>images/per18.png</link></figure>
     </step>
        <step>
       <description>The 'Select Buttons for the List's Search Part' will appear. Highlight the list control in the top menu and then check the 'Submit Search' option.</description>
       <figure><link>images/per19.png</link></figure>
     </step>
        <step>
       <description>Move all of the controls into the following arrangement using the up and down blue arrows in the Controls page. You might need to add a container and turn off 
         some toggles to make everything look alright in Working Preview.
       </description>
       <figure><link>images/per20.png</link></figure>
     </step>
         <step>
       <description>Run in Working Preview. </description>
       <figure><link>images/per21.png</link></figure>
     </step>
      <step>
       <description>Now click on one of the records. You should see the fields appear in the Detail View you defined. Make a change to one of the records and click
         the component's Save' button. 
       </description>
       <figure><link>images/per22.png</link></figure>
     </step>
         <step>
       <description>Close working preview by opening the 'Design pane'. Then re-open it. The changes you made should not appear in the updated record.</description>
       <figure><link>images/per23.png</link></figure>
     </step>
     
   </steps>
   
 </section>
 <section>
   <title>Using 'Persist Data to Local Storage'</title>
   <steps>
      <step>
       <description>Highlight the list control and reopen the List Builder from the List properties property.</description>
       <figure><link>images/hlight4.png</link></figure>
     </step>
     
     
        <step>
       <description>Go to the List Builder's 'List Properties' pane. Check the 'Persist data to Local Storage' checkbox. Click OK to close the List Builder.</description>
       <figure><link>images/per24.png</link></figure>
     </step>
        <step>
       <description>Open the UX Properties page. Scroll down to the Local Storage Properties. Change the 'Namespace' property to be 'DEMO1<</description>
       <figure><link>images/per25.png</link></figure>
     </step>
        <step>
       <description>Check the 'Restore data in List controls from Local Storage property. /description>
       <figure><link>images/per26.png</link></figure>
     </step>
     
     
     
     
        <step>
       <description>Run in Working Preview. Make some changes to a file and click the Save button in the component. 
       </description>
       <figure><link>images/per27.png</link></figure>
     </step>
        <step>
       <description>This time when you go to the design tab and 
         then re-open the Working Preview page you should see your changes are still there.</description>
       <figure><link>images/per28.png</link></figure>
     </step>

     
     
   </steps>
   
   
 </section>
 
 
 
 
 
</sections> 
 <links>
   
   <link href="images/open.png">...</link>
   <link href="http://www.ajaxvideotutorials.com/V12Videos/UX_LocalStorage_1.swf">video 1</link>
   <link href="http://www.ajaxvideotutorials.com/V12Videos/UX_LocalStorage_2.swf">video 2</link>
   <link href="http://www.ajaxvideotutorials.com/V12Videos/UX_LocalStorage_3.swf">video 3</link>
 </links>

</page>