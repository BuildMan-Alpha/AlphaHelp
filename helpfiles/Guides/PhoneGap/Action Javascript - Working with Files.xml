<page>
    <topic>PhoneGap - Action Javascript - Working with Files</topic>
    <description>Several actions have been added to Action Javascript that make it easy to work files files in the file system of a mobile device. These actions are:</description>
    <sections><section>
    <cases>
        <case>
            <title>PhoneGap - File Upload </title>
            <description>Allows you to upload one or more files from the file system on the mobile device to either the Alpha Anywhere server, or to Amazon S3</description>
        </case>
           <case>
            <title>PhoneGap - File Download</title>
            <description>Allows you to download one or more files from a remote server (e.g. Amazon S3, the Alpha Anywhere server, or some other server) and store those files in a folder on your mobile device</description>
        </case>
           <case>
            <title>PhoneGap - File System Actions</title>
            <description>A collection of actions that perform various actions on files.</description>
        </case>
        
    </cases>
    </section>
    <section>
        
        <title>File Upload Action - Action Javascript</title>
        <description>Uploads files from the file system on a mobile device to a server. 
When you select this action, the following dialog appears:
</description>
        <figure><link>images/phonegapfileupload.jpg</link></figure>
        <note>IMPORTANT: Your PhoneGap application must include the Device, File, File Transfer plug ins.</note>
    </section>
    <section>
        <description>Properties of note in this builder include:
</description>
        <cases>
            <case>
                <title>Files to upload Javascript Function</title>
                <description>The name of a Javascript function to call. This function must return an array of fully qualified filenames. For example:</description>
                <example><![CDATA[return ['file:///storage/emulated/1234567.JPG']]]></example>
            </case>
              <case>
                <title>Target</title>
                <description>Amazon S3 or the Alpha Anywhere server.</description>
               
            </case>
            
        </cases>
        
    </section>
    
    <section>
        <description>If you select multiple files to upload, the files are uploaded asynchronously. Each selected file has its on 'On Upload Complete' event. There is also an 'On Upload Complete' event that is fired once all selected files have been uploaded.
If you upload files to the Alpha Anywhere server, you can specify an Xbasic function to call after each file has been uploaded.
</description>
        <figure><link>images/xbasic_phonegap_file_upload.gif</link></figure>
    </section>
    
    
    
    <section>
        <title>File Download Action - Action Javascript</title>
        <description>Downloads files from a remote server and stores the files in the file system a mobile device.
When you select this action, the following dialog appears:
</description>
        <figure><link>images/phonegapfiledownload.jpg</link></figure>
        <note>IMPORTANT: Your PhoneGap application must include the Device, File, File Transfer plug ins.</note>
    </section>
    <section>
        <description>Properties of note in this builder include:
</description>
        <cases>
            <case>
                <title>Files to download Javascript Function</title>
                <description>A Javascript function that returns an array of files that should be downloaded to the mobile device. You can specify fully qualified files (e.g. http://www.imageserver.com/images/image1.jpg) or relative filenames (e.g. images/image1.jpg). Relative filenames are fetched from the Alpha Anywhere server.</description>
            </case>
              <case>
                <title>Target folder </title>
                <description>The name of the folder on the mobile device where the files should be stored.</description>
            </case>
              <case>
                <title>On Download Complete</title>
                <description>fires when all of the files have been downloaded. NOTE: Not every file that was specified in the input array was necessarily successfully downloaded. Files are that are already in the target folder on the device will not be downloaded again. Your Javascript can reference an array with information about each file. See the help text for this property in the builder for more information.</description>
            </case>
            
        </cases>
        
    </section>
    <section>
        <title>File System Action - Action Javascript</title>
        <description>A collection of actions that make working with files in the mobile device file system easier.
When you choose this action, you can select from the following list of file system actions:</description>
        <figure><link>images/filesystemactions.jpg</link></figure>
        <note>All PhoneGap file system actions are asynchronous. When you define any of these actions you specify a success function that gets called once the PhoneGap action has successfully completed.</note>
    </section>
    
    
    </sections>
    
    
    
    
    
</page>