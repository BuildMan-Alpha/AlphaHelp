<page build="4784">
    <shortlink>phonegap instant update</shortlink>
    <topic>PhoneGap Build Instant Update</topic>
    <description>Publish updates to your Alpha Anywhere mobile apps without re-submitting them to the App Store using Instant Update.</description>
    <discussion>
        <p>The Instant Update feature allows you to update a PhoneGap App that has already been installed on a user's device without needing to submit the App to the PhoneGap Build service after you have made changes to the App and without having to re-submit the App to the App stores.</p>
        <p>As soon as the user launches the App on their mobile device, the App will be instantly updated to the latest version of the App. </p>
        <p>The first time you create a PhoneGap App from a UX component, you are creating a Baseline for this application. The Baseline App must be submitted to the PhoneGap Build service, and must then be submitted to the appropriate App Stores. </p>
        <p>After you make changes to the App, the PhoneGap genie will prompt if you want to do an Update build, a new BaseLine build, or Roll-back to a previous update.</p>
    </discussion>
    <sections>
        <section>
            <note>
                <p>You can only use the Instant Update feature if you do not need to change any of the PhoneGap plugins used in your App. If you need to change PhoneGap plugins, you will need to create a new Baseline application.</p>
            </note>
        </section>
        <section>
            <description>
                <p>If you select to do an Update build, the PhoneGap genie will determine which files in your project have changed (relative to the Baseline build) and will upload a changes file to a server (either an Alpha Software Amazon S3 bucket, or your own Amazon S3 bucket). When a user launches the App on their device, the App will automatically check if a new version is available, and it will instantly update itself to the new version.</p>
                <p>If you release an Update to your App, and you find that this new version has introduced a bug, you can roll back to a prior version. When the user launches the App on their device, the App will instantly be downgraded to the specified previously released version.</p>
                <p>To turn on the Instant Update feature, set the Enable Instant Update property to Yes.</p>
            </description>
            <figure>
                <link>images/instantupdate1.gif</link>
            </figure>
        </section>
        <section>
            <description>
                <p>Once you have enabled Instant Update the Instant update settings property is revealed.</p>
            </description>
            <figure>
                <link>images/InstantUpdate2.gif</link>
            </figure>
        </section>
        <section>
            <description>
                <p>The dialog for the Instant Update Settings is shown below:</p>
            </description>
            <figure>
                <link>images/InstantUpdate2.jpg</link>
            </figure>
        </section>
        <section>
            <description>
                <p>The options in this dialog are:</p>
            </description>
            <cases>
                <case>
                    <title nested="2">Patch location</title>
                    <description>
                        <p>The options are AlphaSoftware or PrivateS3Bucket. The patch files are uploaded to a S3 server and are then downloaded to each device when the App is launched on the device. As a convenience you can select AlphaSoftware to use a bucket that has been configured by Alpha Software. When you select the AlphaSoftware  location, you do not have to specify the S3 Storage connection string or the Base URL properties. For testing, using the AlphaSoftware option is fine, but for production applications, it is highly recommended that you set up your own private S3 bucket.</p>
                    </description>
                </case>
                <case>
                    <title nested="2">S3 Storage connection string</title>
                    <description>
                        <p>This is the storage connection string that points to your S3 bucket. To create storage connection strings, select the Tools, Storage connection strings menu item when the Web Control Panel has focus.</p>
                    </description>
                </case>
                <case>
                    <title nested="2">Base URL</title>
                    <description>
                        <p>This is the base URL for items in your S3 bucket. It will be of the form:</p>
                    </description>
                    <example><![CDATA[http://<your S3 bucket Name>.s3.amazonaws.com/]]></example>
                </case>
                <case>
                    <title nested="2">System Message</title>
                    <description>
                        <p>This property can be set to -- None or  Verbose  If None is selected, the After update message (if defined) will still be shown. In Verbose mode, the following system messages are shown:</p>
                    </description>
                    <list bullet="true">
                        <item>
                            <name>The current installed version number (shown when the App is launched)</name>
                        </item>
                        <item>
                            <name>App is running latest version message (if no update to the App is found)</name>
                        </item>
                        <item>
                            <name>App was updated message (if an update was found)</name>
                        </item>
                        <item>
                            <name>In Verbose mode, the user-defined After update message will also be shown.</name>
                        </item>
                        <item>
                            <name>Fatal errors are always shown.</name>
                        </item>
                    </list>
                </case>
                <case>
                    <title nested="2">After update message</title>
                    <description>
                        <p>Message to display on the device if the version was updated when the App was launched. You message text can include the {version} placeholder to display the version number that the App was updated to.</p>
                    </description>
                </case>
            </cases>
        </section>
        <section>
            <title>How to Configure A Private S3 Bucket</title>
            <description>
                <p>The S3 bucket you specify must have a CORS policy set. Click the CORS Help hyperlink on the Instant Update Settings dialog for more information on CORS.</p>
            </description>
            <figure>
                <link>images/instantupdateCORS.jpg</link>
            </figure>
        </section>
        <section>
            <description>
                <p>You will also need to set a bucket policy to set the objects in the bucket to allow public read. The policy can be set in the Amazon AWS management console and it will look something like this:</p>
            </description>
            <example code="json"><![CDATA[{
    "Id": "Policy1513279106848",
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "Stmt1513279094040",
            "Action": [
                "s3:GetObject"
            ],
            "Effect": "Allow",
            "Resource": "arn:aws:s3:::your-bucket-name/*",
            "Principal": "*"
        }
    ]
}]]></example>
        </section>
        <section>
            <title>Videos</title>
            <videos>
                <title>Using the Instant Update Feature in a PhoneGap Application</title>
                <description>
                    <p>After you have created a PhoneGap application from a UX component, if you subsequently want to update the application you need to go through the entire release cycle again (i.e. submit to PhoneGap Build, then submit to the appropriate App Store). However, if you enable the Instant Update feature when you build your application in the first place, you can make certain types of updates to your application without having to go through the release cycle again.</p>
                    <p>Instant Update can be used as long as you are not changing the PhoneGap plugins used by your application, or the splash screens, etc. You can perform an Instant Update on an application as long as the changes to the application are limited to changes in the application's UX component.</p>
                    <p>In this video we show how the Instant Update feature operates.</p>
                </description>
                <date>2017-12-24</date>
                <video>
                    <name>Watch Video</name>
                    <link>https://www.viddler.com/v/6488985a</link>
                </video>
            </videos>
        </section>
    </sections>
</page>