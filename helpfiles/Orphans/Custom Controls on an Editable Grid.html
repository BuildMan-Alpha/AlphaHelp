	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p><a href="Locking Individual Records.html" title="Locking Individual Records" class="wiki">Locking Individual Records</a> <a href="../Unclassified/Sorting a Grid on Multiple Fields.html" title="Sorting a Grid on Multiple Fields" class="wiki">Sorting a Grid on Multiple Fields</a></p>
<p class=A3Topic>Custom Controls on an Editable Grid</p>

<p>This topic illustrates several useful techniques when placing a custom control on an editable grid. The grid shown below displays the <span class=Code1>Extension</span> field is in a custom control. </p>

<p class=Pix><img src="images/WP_Custom_Controls_on_Editable_Grid.gif" x-maintain-ratio=TRUE style="border: none; width: 579px; height: 354px; float: none; border-style: none; border-style: none;" width=579 height=354 border=0></p>

<p>The code that creates the control is&nbsp;as&nbsp;follows. First, the standard boilerplate code.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>function EXTENSION_render&nbsp;as&nbsp;c (data&nbsp;as&nbsp;p, args&nbsp;as&nbsp;p, PageVars&nbsp;as&nbsp;p)</p>

<p class=Code></p>

<p class=Code>with PageVars</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>on error goto EXTENSION_xbasicError</td></tr> </table><p>You cannot define the HTML for the new record rows in an editable grid.&nbsp;as&nbsp;a result, the first thing to do is test whether you are creating a new record. If <span class=Code1>Args.IsNewRecord</span> is TRUE, then exit.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>if Args.IsNewRecord = .t. then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class=Code>exit function</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>end if</td></tr> </table><p>This example simply changes the background color of the cell if the value of the <span class=Code1>Extension</span> field is greater than 100. What you have to do here is define code that can be placed into the cell of a table. The grid is, after all, just a table. Items that you can place into a table cell include:</p>

<ul> <li class=kadov-p-CBullet1><p class=Bullet1>formatted HTML text - <span class=HTML1>&ltP> .... &lt/P></span></p>

</li> <li class=kadov-p-CBullet1><p class=Bullet1>image - <span class=HTML1>&ltIMG></span></p>

</li> <li class=kadov-p-CBullet1><p class=Bullet1>table - <span class=HTML1>&ltTABLE>&ltTR>&ltTD></span> <span class=Argument>VariableContent</span> <span class=HTML1>&lt/TD>&lt/TR>&lt/TABLE></span></p>

</li> <li class=kadov-p-CBullet1><p class=Bullet1><span class=Argument>VariableContent</span> - any legal HTML code</p>

</li> </ul><p>In this case the cell will contain a table. The cells will have different background colors ( <span class=HTML1>bgcolor="#00FF00"</span> and <span class=HTML1>bgcolor="#FF0000"</span> ) and right alignment ( <span class=HTML1>align="right"</span> ). The alignment of the grid column has no effect inside this table, so, if you want right alignment, you need to explicitly define it. The table will be wide enough to contain any expected content ( <span class=HTML1>width="80px"</span> ). The advantage of explicitly defining the table width is that it avoids having cell contents vary in width according to the data they contain; the behavior you see with label controls.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>if Data.EXTENSION > 100 then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class=Code>EXTENSION_render = &lt<%html%</p>

<p class=Code><span class=HTML1>&lttable width="80px">&lttr>&lttd bgcolor="#00FF00" align="right"><strong>disp</strong>&lt/td>&lt/tr>&lt/table></span></p>

<p class=Code>%html%</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>else</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class=Code>EXTENSION_render = &lt<%html%</p>

<p class=Code><span class=HTML1>&lttable width="80px">&lttr>&lttd bgcolor="#FF0000" align="right"><strong>disp</strong>&lt/td>&lt/tr>&lt/table></span></p>

<p class=Code>%html%</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>end if</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>disp = alltrim( str (Data.EXTENSION,250,2,"$(") )</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>EXTENSION_render = stritran(EXTENSION_render, "<strong>disp</strong>", disp)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>end</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>EXTENSION_xbasicError:</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>EXTENSION_render = "Error"</p>

<p class=Code></p>

<p class=Code>end with</p>

<p class=Code>end function</td></tr> </table><p>To simplify the formatting of the <span class=Code1>Extension</span> amount, the HTML contains the string "<strong>disp</strong>", which the script replaces with <span class=Code1>alltrim( str( Data.EXTENSION,250,2,"$(") )</span>.</p>

<p class=A5>See Also</p>

<p><a href="Contents - Web Publishing Tutorial.html" title="Contents - Web Publishing Tutorial" class="wiki">Contents</a></p>

<p><a href="Locking Individual Records.html" title="Locking Individual Records" class="wiki">Locking Individual Records</a> <a href="../Unclassified/Sorting a Grid on Multiple Fields.html" title="Sorting a Grid on Multiple Fields" class="wiki">Sorting a Grid on Multiple Fields</a></p>

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Custom+Controls+on+an+Editable+Grid">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 --></body></html>