	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			

<p class=A3Topic>GRD_INTPROD Grid Component</p>



<p class=A5>Purpose</p>



<p>The application administrator uses the GRD_INTPROD grid component to 
 maintain product records.</p>



<p class=Pix><img src="images/ASW_GRD_INTPROD_Search.gif"
					x-maintain-ratio=TRUE
					style="border: none;
							float: none;
							width: 413px;
							height: 201px;
							border-style: none;
							border-style: none;"
					width=413
					height=201
					border=0></p>



<p class=PixCaption>The Search Part of the GRD_INTPROD grid component</p>



<p class=Pix><img src="images/ASW_GRD_INTPROD.gif"
					x-maintain-ratio=TRUE
					style="border: none;
							float: none;
							width: 444px;
							height: 457px;
							border-style: none;
							border-style: none;"
					width=444
					height=457
					border=0></p>



<p class=PixCaption>The GRD_INTPROD grid component</p>



<p class=Pix><a href="http://support.alphasoftware.com/imagesV8/ASW_GRD_INTPROD_Detail.gif">&nbsp;<img 
 src="images/ASW_GRD_INTPROD_Detail.gif"
	x-maintain-ratio=TRUE
	style="border: none;
			float: none;
			width: 402px;
			height: 404px;
			border-style: none;
			border-style: none;"
	width=402
	height=404
	border=0></a></p>



<p class=PixCaption>The Detail View Part of the GRD_INTPROD grid component</p>



<p class=A5>Description</p>



<p>The GRD_INTPROD component is a tabular grid with search and detail view 
 parts. The grid is based on a view that combines the <span class=Code1>product</span>, 
 <span class=Code1>product_category</span>, and <span class=Code1>vendor</span> 
 tables.</p>



<p>The GRD_HISTCUST component has four calculated fields. The field<span class="Code1"> link</span> is used to open the <a href="ASWUPLOADIMG.A5W.html" title="ASWUPLOADIMG.A5W" class="wiki">ASWUPLOADIMG.A5W</a> page, and the <span class="Code1">refresh</span> link is used to reload thw <a href="ASWPRODUCTS.A5W.html" title="ASWPRODUCTS.A5W" class="wiki">ASWPRODUCTS.A5W</a> page to refresh the images shown. </p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>prodid = Product_Id</p>


<p class=Code>venName = Vendor->Name</p>


<p class=Code>link = Product_Id</p>


<p class=Code>refresh = "1" </td></tr>
</table>

<p class=A5>Containers</p>



<p><a href="ASWPRODUCTS.A5W.html" title="ASWPRODUCTS.A5W" class="wiki">ASWPRODUCTS.A5W</a></p>



<p class=A5>Notable Grid Control Property Settings</p>




<table style="x-cell-content-align: top;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableHeader" colspan="1" rowspan="1">
<p class=TableHead>Control</td>
<td class="TableHeader">
<p class=TableHead>Property</td>
<td class="TableHeader">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="3" colspan="1">
<p class=TableLeft>Product_Id</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Display Settings > Control type</span></td>
<td class="TableCell">
<p class=TableLeft>"Link"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>Link Properties > Display what 
 in link</span></td>
<td class="TableCell">
<p class=TableLeft>"Value in Field"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>Link Properties > Link Address 
 type</span></td>
<td class="TableCell">
<p class=TableLeft>"DetailView link"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="2" colspan="1">
<p class=TableLeft>Picture</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Image Properties > In-line style </span></td>
<td class="TableCell">
<p class=TableLeft>"height:  60px; width:  60px; "</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class="Button">Image Properties > Image path</span></td>
<td class="TableCell">
<p class=TableLeft>"<a class="wiki"  href="PathAlias.ADB_Path" rel="">PathAlias.ADB_Path</a>"</td></tr>

</table>

<p class=A5>Notable Search Control Property Settings</p>




<table style="x-cell-content-align: top;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableHeader" colspan="1" rowspan="1">
<p class=TableHead>Control</td>
<td class="TableHeader">
<p class=TableHead>Property</td>
<td class="TableHeader">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="2" colspan="1">
<p class=TableLeft>Cat_Id</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Display Settings > Control type</span></td>
<td class="TableCell">
<p class=TableLeft>"DropDownBox"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>DropDownBox Properties > Choices</span></td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Define Choices > List Type</span> 
 is "Dynamic"</p>


<p class=TableLeft><span class=Button>Data Source > Table Name</span> 
 is "product_category"</p>


<p class=TableLeft><span class=Button>Data Source > Display value</span> 
 is "Category"</p>


<p class=TableLeft><span class=Button>Data Source > Stored value</span> 
 is "Cat_Id"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="2" colspan="1">
<p class=TableLeft>Vendor</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup</span></td>
<td class="TableCell">
<p class=TableLeft>"True"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup Definition</span></td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup Window > Grid name</span> 
 is "grd_lkven"</p>


<p class=TableLeft><span class=Button>Field Mapping > Field map</span> 
 is "Vendor<Vendor_id"</p>


<p class=TableLeft><span class=Button>Advanced > Override settings:</span></p>


<p class=TableLeft><span class=Code1>field_info<a class="wiki"  href="3" rel="">3</a>.Column.Hide = .T.</span> 
 "</td></tr>
</table>

<p class=A5>Notable Search Part Property Settings</p>




<table style="x-cell-content-align: top;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableHeader">
<p class=TableHead>Property</td>
<td class="TableHeader">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><span class=Button>Search Options > Enable Show/Hide 
 of Search Part</span></td>
<td class="TableCell">
<p class=TableLeft>"True"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><span class=Button>Search Options > Initial State</span></td>
<td class="TableCell">
<p class=TableLeft>"Closed"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup</span></td>
<td class="TableCell">
<p class=TableLeft>"True"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup Definition</span></td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup Window > Grid name</span> 
 is "grd_lkven"</p>


<p class=TableLeft><span class=Button>Field Mapping > Field map</span> 
 is "Vendor<Vendor_id"</p>


<p class=TableLeft><span class=Button>Advanced > Override settings:</span></p>


<p class=TableLeft><span class=Code1>field_info<a class="wiki"  href="3" rel="">3</a>.Column.Hide = .T.</span> 
 "</td></tr>
</table>

<p class=A5>Notable Detail Control Property Settings</p>




<table style="x-cell-content-align: top;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableHeader" colspan="1" rowspan="1">
<p class=TableHead>Control</td>
<td class="TableHeader">
<p class=TableHead>Property</td>
<td class="TableHeader">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft>Product_Id</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Display Settings > Control type</span></td>
<td class="TableCell">
<p class=TableLeft>"Hidden"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft><a class="wiki"  href="Merge Cells Begin" rel="">Merge Cells Begin</a>.1 </td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Merge Cells Properties  > Column heading </span></td>
<td class="TableCell">
<p class=TableLeft>"Vendor"
Controls <span class="Code1">venname</span> and <span class="Code1">Vendor</span> are included in merge. </td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="2" colspan="1">
<p class=TableLeft>Vendor</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup</span></td>
<td class="TableCell">
<p class=TableLeft>"True"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup Definition</span></td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup Window > Grid name</span> 
 is "grd_lkven"</p>


<p class=TableLeft><span class=Button>Field Mapping > Field map</span> 
 is "Vendor<Vendor_id,Venname<Name"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft><a class="wiki"  href="Merge Cells Begin" rel="">Merge Cells Begin</a>.2 </td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Merge Cells Properties  > Column heading </span></td>
<td class="TableCell">
<p class=TableLeft>"Category"
Controls <span class="Code1">Category</span> and <span class="Code1">Cat_id</span> are included in merge. </td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="2" colspan="1">
<p class=TableLeft>Cat_Id</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup</span></td>
<td class="TableCell">
<p class=TableLeft>"True"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup > Lookup Definition</span></td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Lookup Window > Grid name</span> 
 is "grd_lkcats"</p>


<p class=TableLeft><span class=Button>Field Mapping > Field map</span> 
 is "Cat_id<Cat_id,Category<Category"</td></tr>



<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="2" colspan="1">
<p>Ship_Avail</td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Display Settings > Control type</span></td>
<td class="TableCell">
<p class=TableLeft>"DropDownBox"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td_null>
<td class="TableCell">
<p class=TableLeft><span class=Button>DropDownBox Properties > Choices</span></td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Define Choices > List Type</span> 
 is "Dynamic"</p>


<p class=TableLeft><span class=Button>Data Source > Table Name</span> 
 is "lk_avail"</p>


<p class=TableLeft><span class=Button>Data Source > Display value</span> 
 is "Ship_Avail"</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft><a class="wiki"  href="Merge Cells Begin" rel="">Merge Cells Begin</a>.2 </td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Merge Cells Properties  > Column heading </span></td>
<td class="TableCell">
<p class=TableLeft>Left Blank </td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft>Link </td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Link Properties  > Link address </span></td>
<td class="TableCell">
<p class=TableLeft><span class=HTML1>aswuploadimg.a5w?pid={Product_Id}&grd_prodimg_filter=Product_id="{Product_Id}"</span></td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft>Refresh </td>
<td class="TableCell">
<p class=TableLeft><span class=Button>Link Properties  > Link address </span></td>
<td class="TableCell">
<p class=TableLeft><span class=HTML1>aswproducts.a5w</span> - Causes page to reload and refresh images.</td></tr>
</table>

<p class=A5><a name=AfterUpdateRecords_Event>AfterUpdateRecords Event</a></p>



<p>The script initially tests to see if the <span class=Code1>product_id</span> 
 control in the first row of the grid exists and is not NULL.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>function AfterUpdateRecords&nbsp;as&nbsp;v (Args&nbsp;as&nbsp;P, 
 PageVariables&nbsp;as&nbsp;P)</p>


<p class=Code>with PageVariables</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;if 
 eval_valid("Args.DataSubmitted.R1.PRODUCT_ID") = .T. ' only 
 update if not deleted</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dim 
 prod_id&nbsp;as&nbsp;C</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prod_id 
 = Args.DataSubmitted.R1.PRODUCT_ID</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
 prod_id <> ""</td></tr>
</table>

<p>Next, the script opens the <span class=Code1>product</span> table and 
 orders its records by <span class=Code1>product_id</span>.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl = table.open("<a class="wiki"  href="PathAlias.ADB_Path" rel="">PathAlias.ADB_Path</a>\product.dbf")</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl.order("product_id")</td></tr>
</table>

<p>If a record is found, the script updates the value of the <span class=Code1>picture</span> field. 
 If the image file does not exist, it 
 writes "noimage" into the table.</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
 tbl.fetch_find(prod_id) > 0</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl.change_begin()</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if tbl.picture = "" ' only fill in if blank </p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imagefile = "<a class="wiki"  href="PathAlias.ADB_Path" rel="">PathAlias.ADB_Path</a>\Images\noimage.jpg" </p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if file.exists(imagefile) </p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl.change_begin()</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl.picture = "=filename_decode(\""+imagefile+"\")"</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl.change_end()</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if </p>



<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end  if</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tbl.close()</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end 
 if</p>


<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;end 
 if</p>


<p class=Code>end with</p>


<p class=Code>end function</td></tr>
</table>

<p class=A5>See Also</p>



<p><a href="../Tutorials/AlphaSportsWeb Explained (Non-Ajax Web)/Web Publishing Components.html" title="Web Publishing Components" class="wiki">Web Publishing Components</a></p>

	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:GRD_INTPROD+Grid+Component">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 --></body></html>