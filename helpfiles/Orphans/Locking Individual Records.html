	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Topic>Locking Individual Records</p>

<p>If you want to prevent users from editing selected records in a table, you could tag them with a field that marks them&nbsp;as&nbsp;read-only. The following grid component shows a version of the Alphasports <span class=Code1>customer</span> table. When you attempt to edit a record that contains "True" in the Read Only column, you will get an error message. </p>

<p class=Pix><img src="images/WPT_Record_Locking.gif" x-maintain-ratio=TRUE style="border: none; float: none; width: 529px; height: 303px; border-style: none; border-style: none;" width=529 height=303 border=0></p>

<p>This grid has a calculated field named <span class=Code1>ro</span>. It is defined&nbsp;as&nbsp;follows.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>ro = customer->readonly</td></tr> </table><p>You see the <span class=Code1>ro</span> field formatted&nbsp;as&nbsp;a label in the grid above. It is only there to inform the user when he is allowed or not allowed to edit a record. The <span class=Code1>readonly</span> field is also on the grid. It contains the record locking and has the control type "Hidden". The <span class=Code1>readonly</span> field must be on the grid&nbsp;as&nbsp;an editable control type in order for the <span class=Code1>CanUpdateRecord</span> event to refer to its value.</p>

<p>When a user attempts to edit a record that has a <span class=Code1>Readonly</span> field with a "True" value, the following grid event cancels the submit. Note that, like all variables on a web page, the <span class=Code1>Readonly</span> field returns a character value.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>function CanUpdateRecord&nbsp;as&nbsp;v (DataSubmitted&nbsp;as&nbsp;P, Args&nbsp;as&nbsp;p, PageVariables&nbsp;as&nbsp;p, Result&nbsp;as&nbsp;p )</p>

<p class=Code></p>

<p class=Code>with PageVariables</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>if DataSubmitted.READONLY = "TRUE" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class=Code>Result.Cancel = .t.</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class=Code>Result.ErrorHTML = "This is a read only record"</p>

<p class=Code>&nbsp;&nbsp;&nbsp;</p>

<p class=Code>end if</p>

<p class=Code></p>

<p class=Code>end with</p>

<p class=Code>end function</td></tr> </table><p class=A5>See Also</p>

<p><a href="Contents - Web Publishing Tutorial.html" title="Contents - Web Publishing Tutorial" class="wiki">Contents</a></p>

	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Locking+Individual+Records">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"group":"/Guide/Server/Design/View/Grid/","status":"pending","keywords":"server,grid","tags":"web"} --->
</body></html>