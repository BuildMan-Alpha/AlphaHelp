	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			

<p class=A3Topic>Adding an Item to the Shopping Cart</p>



<p><a href="../../../../Reference/Design/View/A5W/INDEX.A5W.html" title="INDEX.A5W" class="wiki">INDEX.A5W</a> and <a href="../../../../Reference/Design/View/A5W/SPECIALS.A5W.html" title="SPECIALS.A5W" class="wiki">SPECIALS.A5W</a> 
 (containing the <a href="../../../../Reference/Design/View/Component/GRD_SPEC Grid Component.html" title="GRD_SPEC Grid Component" class="wiki">GRD_SPEC</a> grid 
 component), <a href="../../../../Reference/Design/View/A5W/PRODUCTINFO.A5W.html" title="PRODUCTINFO.A5W" class="wiki">PRODUCTINFO.A5W</a> (containing 
 the <a href="../../../../Reference/Design/View/Component/GRD_PRODONE Grid Component.html" title="GRD_PRODONE Grid Component" class="wiki">GRD_PRODONE</a> grid component), 
 and <a href="../../../../Reference/Design/View/A5W/PRODUCTLIST.A5W.html" title="PRODUCTLIST.A5W" class="wiki">PRODUCTLIST.A5W</a> (containing the 
 <a href="../../../../Reference/Design/View/Component/GRD_PRODS Grid Component.html" title="GRD_PRODS Grid Component" class="wiki">GRD_PRODS</a> grid component) include 
 the SHOPCART.JS JavaScript file into their pages. In each case the component 
 has one or more image buttons that call the JavaScript <span class=Code1>add_to_cart_quan()</span> 
 function, passing the <span class=Code1>product_id</span> value of the 
 selected product. The JavaScript function opens and prompts for a quantity, and then opens another page&nbsp;as&nbsp;a 
 popup and passes the product ID to that page in the page URL. <span class="ListNumber">If the prompt is cancelled or the value entered is 0, the JavaScript ends and no item is added to the cart. </span></p>



<p>Variations of the following code are found in the <span class=Button>Column 
 Properties > Freeform Template</span> property of the "Sale Price" 
 field of the <span class=Code1>GRD_SPEC</span> and <span class=Code1>GRD_PRODONE</span> 
 grid components. Similar code is located under the <span class=Button>Column 
 Properties > Freeform Template</span> property of the "Cart" 
 field of the <span class=Code1>GRD_PRODS</span> grid component.</p>



<ol>
	
	<li class=kadov-p-CListNumber>
	  <p class=ListNumber>In each case clicking 
 the image button calls the <span class=Code1>add_to_cart_quan()</span> function 
 and passes the current value of <span class=Code1>product_id</span>. We 
 placed this code in a freeform template to allow the <span class=Code1>OnClick</span> 
 event of the image to run the Javascript.</p>


	</li>
</ol>


<table class="HTMLTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code><span class=HTML1><p><font color=#ff0000 size=3><strong>{</span> 
 Sale_Price} <span class=HTML1></strong></font></p></span></p>


<p class=Code><span class=HTML1><a onclick="add_to_cart_quan('</span> 
 {Product_Id} <span class=HTML1>')"><img height=19 alt="Add 
 to Shopping Cart" src="images/add_cart_mini.png" width=19 
 border=0></a></span></td></tr>
</table>

<p class=A5><a name=SHOPCART_JS>SHOPCART.JS</a></p>



<ol start=2
	style="list-style: decimal;"
	type=1>
	
	<li class=kadov-p-CListNumber>
	  <p class=ListNumber>The JavaScript function 
 shows a prompt to specify the quantity to order and then displays the <a href="../../../../Reference/Design/View/A5W/SHOPCART_ADD.A5W.html" title="SHOPCART_ADD.A5W" class="wiki">SHOPCART_ADD.A5W</a> page 
 in a new window. The product ID is a URL parameter,and is locally named 
 <span class=Code1>prod_id</span>. The quan is also added to the URL and is obtained from the prompt. There are another version of the function named <span class="Code1">add_to_cart()</span> that does not open a prompt to select quantity. Instead, a default quantity of 1 will be assigned. </p>


	</li>
</ol>


<table class="HTMLTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;
			width: 100%;
			border-spacing: 0px;
			border-left-style: None;
			border-right-style: None;
			border-top-style: None;
			border-bottom-style: None;" valign="top">
<td style="width: 100%;
			padding-right: 10px;
			padding-left: 10px;" width="100%">
<p class=Code><span class=HTML1>// JavaScript Document</span></p>


<p class=Code><span class=HTML1><!--</span></p>


<p class=Code><span class=HTML1>function add_to_cart_quan(prod_id)</span><span class=HTML1>{</span></p>


<p class=Code><span class=HTML1>var quan=prompt("Please enter the Quantity you want to order","1")</span></p>


<p class=Code><span class=HTML1>if (quan!=null && quan!="" &&quan!="0")</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;
  
  if 
  (document.all){</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  tempX 
  = event.screenX;</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  tempY 
  = event.screenY;</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  if(tempX+470 
  > screen.width){</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  tempX 
  = screen.width-500;</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  }</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  if(tempY+225 
  > screen.height){</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  tempY 
  = screen.height-300;</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  }</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  new_window1 
  = window.open('shopcart_add.a5w?pid='+prod_id+'&quan='+quan, 'new_window1', 'toolbar=no, 
  location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, 
  top='+tempY+', left='+tempX+', width=470, height=225 ')</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  new_window1.focus()</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;
  
  }</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;
  
  else</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;
  
  {</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  new_window1 
  = window.open('shopcart_add.a5w?pid='+prod_id+'&quan='+quan, "new_window1", 
  "toolbar=no, location=no, directories=no, status=no, menubar=no, 
  scrollbars=no, resizable=yes, top=200, width=470, height=225, left=200")</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  
  new_window1.focus()</span></p>


<p class=Code><span class=HTML1>
  
  &nbsp;&nbsp;&nbsp;&nbsp;
  
}</span></p>


<p class=Code><span class=HTML1>&nbsp;
    
}</span></p>


<p class=Code><span class=HTML1>}</span></p>


<p class=Code><span class=HTML1>function add_to_cart(prod_id)</span></p>


<p class=Code><span class=HTML1>{</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;if 
 (document.all){</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempX 
 = event.screenX;</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempY 
 = event.screenY;</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tempX+470 
 > screen.width){</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempX 
 = screen.width-500;</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tempY+225 
 > screen.height){</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tempY 
 = screen.height-300;</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_window1 
 = window.open('shopcart_add.a5w?pid='+prod_id, 'new_window1', 'toolbar=no, 
 location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, 
 top='+tempY+', left='+tempX+', width=470, height=225 ')</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_window1.focus()</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;{</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_window1 
 = window.open('shopcart_add.a5w?pid='+prod_id, "new_window1", 
 "toolbar=no, location=no, directories=no, status=no, menubar=no, 
 scrollbars=no, resizable=yes, top=200, width=470, height=225, left=200")</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_window1.focus()</span></p>


<p class=Code><span class=HTML1>&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>


<p class=Code><span class=HTML1>}</span></p>


<p class=Code><span class=HTML1>--></span></td></tr>
</table>

<ol start=3
	style="list-style: decimal;"
	type=1>
	
	<li class=kadov-p-CListNumber><p class=ListNumber>The SHOPCART_ADD.A5W 
 script tests to see if the <span class=Code1>cart_id</span> variable (cookie) 
 exists. If not, the script creates it.</p>

</li>
	
	<li class=kadov-p-CListNumber>
	  <p class=ListNumber>Next, the script 
 creates the <span class=Code1>cartparms</span> pointer variable, and among 
 other assignments, sets the <span class=Code1>cartparms.product_id</span> 
 variable to the product ID value received in the URL and sets the <span class="Code1">cartparms.quantity</span> variable to the Quan value from the prompt.</p>


	</li>
	
	<li class=kadov-p-CListNumber><p class=ListNumber>Finally, the script 
 passes <span class=Code1>cartparms</span> to the <span class=Code1>shopcart_add()</span> 
 function in the <a href="../../../../Reference/Design/View/A5W/SHOPCART_UDF.A5W.html" title="SHOPCART_UDF.A5W" class="wiki">SHOPCART_UDF.A5W</a> page.</p>

</li>
	
	<li class=kadov-p-CListNumber><p class=ListNumber>SHOPCART_UDF.A5W 
 adds a record to the <span class=Code1>shop_cart</span> table, then prepares 
 and returns the HTML code displayed on the page.</p>

</li>
</ol>

<p class=A5>See Also</p>



<p><a href="/Index/AlphaSportsWeb Explained Title.html" title="AlphaSportsWeb Explained Title" class="wiki">AlphaSportsWeb Explained</a></p>



	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Adding+an+Item+to+the+Shopping+Cart">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"web","status":"reject","keywords":"server,guide,javascript,grid,component,asports"} --->
</body></html>