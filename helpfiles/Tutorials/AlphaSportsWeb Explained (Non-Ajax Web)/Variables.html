	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Topic>Variables</p>
<p>The <span class=Screen>AlphaSportsWeb</span> application depends on 
 a number of session and property array variables.</p>
<ul style="list-style: disc;"
	type=disc>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#cart_ID" title="Variables" class="wiki">cart_ID</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#cartparms" title="Variables" class="wiki">cartparms</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#checkout_vars" title="Variables" class="wiki">checkout_vars</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#flds__" title="Variables" class="wiki">flds[]</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#fldsc__" title="Variables" class="wiki">fldsc[]</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#fldsi__" title="Variables" class="wiki">fldsi[]</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#session<strong>_protected</strong>chkout" title="Variables" class="wiki">session.<strong>protected</strong>chkout</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#session<strong>_protected</strong>chkoutprogress" title="Variables" class="wiki">session.<strong>protected</strong>chkoutprogress</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#session<strong>_protected</strong>Puser" title="Variables" class="wiki">session.<strong>protected</strong>Puser</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#session_dataclear" title="Variables" class="wiki">session.dataclear</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#session_enteruserdata" title="Variables" class="wiki">session.enteruserdata</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#session_targetURL" title="Variables" class="wiki">session.targetURL</a></p>

</li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1><a href="Variables.html#sessionID" title="Variables" class="wiki">sessionID</a></p>

</li>
</ul>

<p class=A5><a name=sessionID>sessionID</a> (C) and <a name=cart_ID>cart_ID</a> 
 (C)</p>



<p class=TableLeft>The <span class=Screen>Application Server</span> assigns 
 each client browser a unique <span class=Code1>sessionID</span>. This 
 identifier remains constant between browser sessions. The application 
 stores <span class=Code1>sessionID</span> in the <span class=Code1>shop_cart</span> 
 table.</p>



<p class=TableLeft>The <span class=Code1>cart_id</span> variable is unique 
 for each browser session. The <a href="../../References/Functions/API_UUIDCREATE Function.html" title="API_UUIDCREATE Function" class="wiki">API_UUIDCREATE(</a>) 
 function creates <span class=Code1>cart_id</span>, which is a Universally 
 Unique Identifier (UUID...otherwise known&nbsp;as&nbsp;a Globally unique 
 ID or GUID). This is a 32 character (128 bit) hexadecimal string (not 
 including dashes) that is guaranteed to be completely unique if you have 
 a network card. The application stores <span class=Code1>cart_id</span> 
 in the <span class=Code1>shop_cart</span> table and in the <span class=Code1>cart_id</span> 
 cookie.</p>



<p class=TableLeft>Together, <span class=Code1>cart_id</span> and <span 
 class=Code1>sessionID</span> allow the customer to exit the application, 
 then resume shopping and find previously selected (but not purchased) 
 items in the shopping cart.</p>



<p class=A5><a name=flds<strong>>flds[]</a> (P), <a name=fldsc</strong>>fldsc[]</a> 
 (P), and <a name=fldsi__>fldsi[]</a> (P)</p>



<p class=TableLeft>The ASWINVDET.A5W page 
 populates the <span class=Code1>flds[]</span> property array with the 
 field values of the <span class=Code1>invoice_header</span> table record, 
 where the <span class=Code1>invoice_number</span> field equals the value 
 contained in <span class=Code1>inv</span>. The script uses the <a href="../../References/Methods/ARRAY.INITIALIZE_FROM_TABLE Method.html" title="ARRAY.INITIALIZE_FROM_TABLE Method" class="wiki">&lt;ARRAY&gt;.INITIALIZE_FROM_TABLE(</a>) 
 method. The same technique to populates the <span class=Code1>fldsc[]</span> 
 property array with the field values of the <span class=Code1>customer</span> 
 table record, where the <span class=Code1>customer_id</span> field equals 
 the value contained in <span class=Code1>flds[1].customer_id</span>. Another 
 part of the script uses <a href="../../References/Methods/ARRAY.INITIALIZE_PROPERTIES Method.html" title="ARRAY.INITIALIZE_PROPERTIES Method" class="wiki">&lt;ARRAY&gt;.INITIALIZE_PROPERTIES(</a>) 
 to create and initialize property variables under the <span class=Code1>fldsi[]</span> 
 property array.</p>



<p class=TableLeft><ARRAY>.INITIALIZE_FROM_TABLE()is a fast and easy 
 way to extract values from a table into a format that can be manipulated, 
 and in this case, displayed. <ARRAY>.INITIALIZE_PROPERTIES()is a 
 fast way to create a dot variable with default values.</p>




<p class=A5><a name=session<strong>_protected</strong>chkoutprogress>session.<strong>protected</strong>chkoutprogress</a> 
 (N)</p>



<p class=TableLeft>The <a href="../../Orphans/INDEX.A5W.html" title="INDEX.A5W" class="wiki">INDEX.A5W</a>, <a href="../../Orphans/CHECKOUTCALC.A5W.html" title="CHECKOUTCALC.A5W" class="wiki">CHECKOUTCALC.A5W</a>, 
 <a href="../../Orphans/CHECKOUTCART.A5W.html" title="CHECKOUTCART.A5W" class="wiki">CHECKOUTCART.A5W</a>, <a href="../../Orphans/CHECKOUTCOMP.A5W.html" title="CHECKOUTCOMP.A5W" class="wiki">CHECKOUTCOMP.A5W</a>, 
 and <a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a> pages use <span 
 class=Code1>session.<strong>protected</strong>chkoutprogress</span> to control and 
 verify the user's progression through the 3 checkout screens.</p>



<p class=auto-style1>The <span class=Code1>session.<strong>protected</strong>chkoutprogress</span> 
 variable is protected from attempted changes from the URL query string.</p>




<table style="x-cell-content-align: top;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableHeader">
<p class=TableHead>Page</td>
<td class="TableHeader">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/INDEX.A5W.html" title="INDEX.A5W" class="wiki">INDEX.A5W</a></p>


<p class=TableLeft><a href="../../Unclassified/PRODUCTLIST.A5W.html" title="PRODUCTLIST.A5W" class="wiki">PRODUCTLIST.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>When a customer arrives at either of these pages, the 
 assumption is that he or she is ready to begin shopping.&nbsp;as&nbsp;a 
 consequence, the script resets the <span class=Code1>session.<strong>protected</strong>chkoutprogress</span> 
 variable to 0, meaning checkout has not begun.</span></td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/CHECKOUTCART.A5W.html" title="CHECKOUTCART.A5W" class="wiki">CHECKOUTCART.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>When the customer has successfully added an item to 
 a shopping cart, the script sets the checkout progress to 1.</td></tr>

<tr style="x-cell-content-align: top; height: 0px;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft><a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a></td>
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft>The checkout progress must be greater than or equal 
 to 1 to display this page. When the customer has successfully entered 
 all required information, the <span class=Code1>AfterValidate</span> event 
 of the <a href="../../Orphans/DLG_UCHKOUT Dialog Component.html" title="DLG_UCHKOUT Dialog Component" class="wiki">DLG_UCHKOUT</a> dialog 
 component sets the checkout progress to 2.</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/CHECKOUTCOMP.A5W.html" title="CHECKOUTCOMP.A5W" class="wiki">CHECKOUTCOMP.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>The checkout progress must be greater than or equal 
 to 2 to display this page. When the customer has successfully completed 
 the checkout process, the script sets the checkout progress to 3.</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/CHECKOUTCALC.A5W.html" title="CHECKOUTCALC.A5W" class="wiki">CHECKOUTCALC.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>The checkout progress must be greater than or equal 
 to 3 to display this page.</td></tr>
</table>

<p class=A5><a name=session<strong>_protected</strong>chkout>session.<strong>protected</strong>chkout</a> 
 (P)</p>



<p class=TableLeft>The <span class=Code1>session.<strong>protected</strong>chkout</span> 
 dot variable holds the customer's shipping and billing field values input 
 to the <a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a> page.</p>



<p class=TableLeft>The <span class=Code1>session.<strong>protected</strong>chkout</span> 
 variable is protected from attempted changes from the URL query string.</p>




<table style="x-cell-content-align: top;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableHeader">
<p class=TableHead>Page</td>
<td class="TableHeader">
<p class=TableHead>Description</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/INDEX.A5W.html" title="INDEX.A5W" class="wiki">INDEX.A5W</a></p>


<p class=TableLeft><a href="../../Unclassified/PRODUCTLIST.A5W.html" title="PRODUCTLIST.A5W" class="wiki">PRODUCTLIST.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>When a customer arrives at either of these pages, the 
 assumption is that he or she is ready to begin shopping.&nbsp;as&nbsp;a 
 consequence, the script deletes the <span class=Code1>session.<strong>protected</strong>chkout</span> 
 variable, which may contain old data.</span></td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/CHECKOUTCALC.A5W.html" title="CHECKOUTCALC.A5W" class="wiki">CHECKOUTCALC.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>The page does not display, if the <span class=Code1>session.<strong>protected</strong>chkout</span> 
 variable does not exist. If the variable does exist, the script copies 
 it values to <span class=Code1>checkout_vars</span> and deletes <span 
 class=Code1>session.<strong>protected</strong>chkout</span>.</td></tr>

<tr style="x-cell-content-align: top; height: 0px;" valign="top">
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft><a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a></td>
<td class="TableCell" rowspan="1" colspan="1">
<p class=TableLeft>If the value of the <span class=Code1>session.dataclear</span> 
 variable is .T., the Activate event of the <a href="../../Orphans/DLG_UCHKOUT Dialog Component.html" title="DLG_UCHKOUT Dialog Component" class="wiki">DLG_UCHKOUT</a> 
 dialog component initializes the <span class=Code1>session.<strong>protected</strong>chkout</span> 
 variable.</p>


<p class=TableLeft>If the value of the <span class=Code1>session.enteruserdata</span> 
 variable it NULL, the Activate event of the <a href="../../Orphans/DLG_UCHKOUT Dialog Component.html" title="DLG_UCHKOUT Dialog Component" class="wiki">DLG_UCHKOUT</a> 
 dialog component sets the dialog's controls with the contents of the <span 
 class=Code1>session.<strong>protected</strong>chkout</span> variable.</span></td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell">
<p class=TableLeft><a href="../../Orphans/CHECKOUTCOMP.A5W.html" title="CHECKOUTCOMP.A5W" class="wiki">CHECKOUTCOMP.A5W</a></td>
<td class="TableCell">
<p class=TableLeft>One of the first things that the page script does is 
 test the value of <span class=Code1>session.<strong>protected</strong>chkout.firstname</span>. 
 If NULL, the customer's information is assumed to be incomplete, and control 
 is redirected to the <a href="../../Orphans/CHECKOUTCART.A5W.html" title="CHECKOUTCART.A5W" class="wiki">CHECKOUTCART.A5W</a> 
 page.</p>


<p class=TableLeft>Next, the script checks to see if a number of critical 
 invoicing variables have values. If a problem is found, the script places 
 an error message into the <span class=Code1>error_msg</span> variable. 
 Otherwise, the script prepares and displays the shopping cart, shipping 
 and billing information on the page.</td></tr>
</table>

<p class=A5><a name=session<strong>_protected</strong>Puser>session.__protected.pUser</a> (P)</p>



<p class=TableLeft>This pointer variable contains information about the current logged in user. The <span class=Code1>session.<strong>protected</strong>pUser.ulink</span> variable is populated by the security system and contains the value saved in the  <span class="Control">ulink</span> security field for the current logged in user. The <span class=Code1>session.<strong>protected</strong>pUser.ulink</span> 
 variable is used in the component <a href="../../Orphans/GRD_INVHCP Grid Component.html" title="GRD_INVHCP Grid Component" class="wiki">grd_invhcp</a> to set the value for the argument <span class="Code1">:WhatCustomer</span>. The argument is used in a filter to show only records for the current logged in user. It is also used by the <a href="../../Orphans/LOGGEDINVALUES.A5W.html" title="LOGGEDINVALUES.A5W" class="wiki">LOGGEDINVALUES.A5W</a> page to identify the current logged in user. The <a href="../../Orphans/LOGGEDINVALUES.A5W.html" title="LOGGEDINVALUES.A5W" class="wiki">LOGGEDINVALUES.A5W</a> page populates the variables <span class="Code1">session.<strong>protected</strong>pUser.name</span> and <span class="Code1">session.<strong>protected</strong>pUser.type</span> for the current logged in user. </p>


<p class=TableLeft>The <span class=Code1>session.<strong>protected</strong>pUser</span> variable is protected from attempted changes from the URL query string.</p>


<p class=A5><a name=checkout_vars>checkout_vars</a> (P)</p>



<p>The <a href="../../Orphans/CHECKOUTCALC.A5W.html" title="CHECKOUTCALC.A5W" class="wiki">CHECKOUTCALC.A5W</a> script copies 
 the <span class=Code1>session.<strong>protected</strong>chkout</span> data into <span 
 class=Code1>checkout_vars</span>, then deletes <span class=Code1>session.<strong>protected</strong>chkout</span>. 
 This prevents the user from submitting the page a second time after clicking 
 the "Back" button.</p>



<p class=A5><a name=cartparms>cartparms</a> (P)</p>



<p class=TableLeft>The <span class=Code1>cartparms</span> pointer variable 
 contains the information that describes the customer's shopping session. 
 The <a href="../../Orphans/CHECKOUTCART.A5W.html" title="CHECKOUTCART.A5W" class="wiki">CHECKOUTCART.A5W</a> and <a href="../../Unclassified/SHOPCART.A5W.html" title="SHOPCART.A5W" class="wiki">SHOPCART.A5W</a> 
 pages define <span class=Code1>cartparms</span> and pass it to the <a href="../../Unclassified/SHOPCART_UDF.A5W.html#shopcart_chk__" title="SHOPCART_UDF.A5W" class="wiki">shopcart_chk(</a>) function. 
 This function checks to see if the customer has an existing cart exists 
 from a previous session. If so, the function returns the HTML required 
 to display the cart's contents.</p>



<p class=TableLeft>The <a href="../../Unclassified/SHOPCART_ADD.A5W.html" title="SHOPCART_ADD.A5W" class="wiki">SHOPCART_ADD.A5W</a> 
 page uses <span class=Code1>cartparms</span> to check if a shopping cart 
 remains from a previous session. If not, it uses <a href="../../Unclassified/SHOPCART_UDF.A5W.html#shopcart_add__" title="SHOPCART_UDF.A5W" class="wiki">shopcart_add(</a>) 
 to create a new shopping cart containing the selected product.</p>



<p class=A5><a name=session_dataclear>session.dataclear</a> (L)</p>



<p>The <a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a> page uses <span 
 class=Code1>session.dataclear</span> to indicate whether the user has 
 pressed the "Clear" button. If so, the Activate event of the 
 <a href="../../Orphans/DLG_UCHKOUT Dialog Component.html" title="DLG_UCHKOUT Dialog Component" class="wiki">DLG_UCHKOUT</a> dialog component 
 erases the contents of the dialog's controls and the <span class=Code1>AfterValidate</span> 
 event uses it&nbsp;as&nbsp;an indication that it does not need to save 
 the user's input.</p>



<p class=A5><a name=session_enteruserdata>session.enteruserdata</a> (C)</p>



<p>The <a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a> page uses <span 
 class=Code1>session.dataclear</span> to hold the user's customer ID after 
 he presses the "adduser" button. The Activate event of the <a href="../../Orphans/DLG_UCHKOUT Dialog Component.html" title="DLG_UCHKOUT Dialog Component" class="wiki">DLG_UCHKOUT</a> dialog component 
 uses the <span class=Code1>session.dataclear</span> in the filter expression 
 that retrieves the customer's data from the <span class=Code1>customer</span> 
 table.</p>



<p class=A5><a name=session_targetURL>session.targetURL</a> (C)</p>



<p>The <a href="../../Orphans/CHECKOUTUSER.A5W.html" title="CHECKOUTUSER.A5W" class="wiki">CHECKOUTUSER.A5W</a> page uses <span 
 class=Code1>session.targetURL</span> to save the URL of the current page 
 when it needs to temporarily redirect to <a href="../../Orphans/LOGIN.A5W.html" title="LOGIN.A5W" class="wiki">LOGIN.A5W</a> 
 page. If the application user is classified&nbsp;as&nbsp;Internal, the 
 <span class=Code1>Validate</span> event of the <a href="../../Orphans/DLG_UCHKOUT Dialog Component.html" title="DLG_UCHKOUT Dialog Component" class="wiki">DLG_UCHKOUT</a> 
 dialog component sets <span class=Code1>session.targetURL</span> to NULL. 
 This variable is only used on public pages.</p>



<p class=A5>See Also</p>



<p><a href="../../Orphans/AlphaSportsWeb Explained Title.html" title="AlphaSportsWeb Explained Title" class="wiki">AlphaSportsWeb Explained</a></p>



	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Variables">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"web"} --->
</body></html>