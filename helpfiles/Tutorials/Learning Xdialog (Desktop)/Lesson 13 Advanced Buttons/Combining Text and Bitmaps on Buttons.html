	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Topic>Combining Text and Bitmaps on Buttons</p>

<p>It is often desirable to create a button with both text and a bitmap on the button. To mix text and an image on a button, you specify a special 'owner-draw' specification directive in the button's format specification.</p>

<p class=Note> <span class=Note> <img src="images/icon_warning.gif" x-maintain-ratio=TRUE style="border: none; width: 37px; height: 33px; float: none; border-style: none; border-style: none;" width=37 height=33 border=0>Note</span> : It is referred to&nbsp;as&nbsp;an 'owner-draw' directive because the developer (i.e. the owner of the control, rather than Alpha Five itself) specifies how the control is drawn.</p>

<p>In the previous example, only one directive was included in the button's format string (i.e. <span class=Code1>I=imagename</span>. A format string can take multiple directives delimited with semi-colons. The owner-draw specification is a second directive that is included in the format string. The syntax for an owner draw directive is:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>O=specification</td> </tr> </table><p>The specification controls the look of the button.</p>

<p>In the following example we specify an image name, and an owner-draw specification in the button's format string, separated by a semi-colon.</p>

<p>The following script produces a dialog with a button that has an image of a floppy disk (the built-in Alpha Five image called "$a5_save"). The button also includes the text "Save File" on it.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>result = ui_dlg_box("Bitmap and Text on a Button",<<%dlg%</p>

<p class=Code>File: [.64filename];</p>

<p class=Code>{lf};</p>

<p class=Code><%I=$a5_save;O= {I=1} Save File;T=Save a file to disk%15,2!save_file> <10,2Close></p>

<p class=Code>%dlg%,<<%code%</p>

<p class=Code>if (a_dlg_button = "save_file") then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_msg_box("","")</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>end if</p>

<p class=Code>%code%)</td> </tr> </table><p>This script produces the following dialog:&nbsp; </p>

<p class=Pix> <img src="images/XD_Bitmap and Text on Button.gif" x-maintain-ratio=TRUE style="border: none; float: none; width: 362px; height: 107px; border-style: none; border-style: none;" width=362 height=107 border=0></p>

<p class=PixCaption>Lesson 13: Buttons with Bitmap and Text</p>

<p>When the mouse is over the button, the bubble help 'Save a file to disk' is displayed. </p>

<p class=Pix> <img src="images/XD_Bubble Help.gif" x-maintain-ratio=TRUE style="border: none; width: 362px; height: 125px; float: none; border-style: none; border-style: none;" width=362 height=125 border=0></p>

<p>Note that the size of the 'Save File' button is set to 15 characters by 1.5 lines. To make the size of the Cancel button look consistent, the height of this button is also set to 1.5 lines.</p>

<p>Let's analyze how the owner-draw string in the above example works. We know we want the button to have the following format:</p>

<p>(space) followed by (image) followed by (space) followed by (text: 'Save File')</p>

<p>To specify that Alpha Five should display an image, the first part of the owner-draw string is a space followed by:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>{I=1}</td> </tr> </table><p>This tells Alpha Five to use the first image name in a list of image names specified in the 'I=imagename' directive. In this particular case this is a little redundant because only one image name was supplied ($a5_save).&nbsp;as&nbsp;we will see later on, there are situations in the case of list boxes, tree controls, and other control types, where it makes sense to specify more than one image name in the 'I=imagename' directive.</p>

<p>Next, there is a space in the owner-draw string, which causes a space to display after the image.</p>

<p>Finally, the text that appears on the button is specified ('Save File').</p>

<p>Putting this all together, we get:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>O = {I=1} Save File</td> </tr> </table><p>In addition to the owner-draw string there are two other aspects of the button specification that are worth noting. First,&nbsp;as&nbsp;the diagram above shows, when the mouse is over the button, the bubble help for the button is 'Save a file to disk'. This text is defined after the button size specification. Second, the event name that is generated when the button is pressed is specified by the '!save_file' directive. When the button is pressed, <span class=Code1>a_dlg_button</span> is set to 'save_file'.</p>

<p class=A5><a name=_Toc31098311>Justifying the Bitmap and Text</a></p>

<p>The button in the above dialog would look better if the bitmap and text were vertically centered. We can instruct Alpha Five to center the bitmap and text in the button both vertically and horizontally by using the {J=C} directive in the owner draw string.</p>

<p>The button syntax in the above script becomes:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code><%I=$a5_save;O={J=C} {I=1} Save File ; %15,1.5Save a file to disk!save_file></td> </tr> </table><p>With this change to the owner-draw string, the dialog now looks like this: </p>

<p class=Pix> <img src="images/XD_Bitmap and Text on Button.gif" x-maintain-ratio=TRUE style="border: none; width: 362px; height: 107px; float: none; border-style: none; border-style: none;" width=362 height=107 border=0></p>

<p class=PixCaption>Lesson 13: Buttons with Bitmap and Text-Center Justified</p>

<p>In addition to the {J=C} justification directive, there are other formatting directives that can be used in owner-draw strings. These are discussed in the next lesson.</p>

<p class=A5>Next</p>

<p> <a href="Creating Buttons the Easy Way.html" title="Creating Buttons the Easy Way" class="wiki">Creating Buttons the Easy Way</a></p>

<p class=A5>Supported By</p>

<p>Alpha Five Version 5 and Above</p>

<p class=A5>Limitations</p>

<p>Desktop applications only.</p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Combining+Text+and+Bitmaps+on+Buttons">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"desktop"} --->
</body></html>