	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Topic>Using the KillFocus Event</p>

<p>The following script prompts the user for their name. It automatically capitalizes the first character of the name, and puts the rest of the name in lower case when the user exits from the control. It also formats the telephone number. When the user exits a control the <span class=Code1>killfocus</span> event is generated. The event handling code for this script traps the <span class=Code1>killfocus</span> event, and formats the text in the text box:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>Result = ui_dlg_box("Name",<<%dlg%</p>

<p class=Code>{region}</p>

<p class=Code>Firstname:| [.30fname!fname_*];</p>

<p class=Code>Lastname:| [.30lname!lname_*];</p>

<p class=Code>Phone:| [.30phone!phone_*]</p>

<p class=Code>{endregion};</p>

<p class=Code>{region}</p>

<p class=Code><*15&OK> <15&Cancel></p>

<p class=Code>{endregion};</p>

<p class=Code>%dlg%,<<%code%</p>

<p class=Code>if a_dlg_button = "fname_killfocus" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;fname = f_upper(fname)</p>

<p class=Code>else if a_dlg_button = "lname_killfocus" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;lname = f_upper(lname)</p>

<p class=Code>else if a_dlg_button = "phone_killfocus" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;phone2 = remspecial(phone)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;if lenphone2<a href="tiki-editpage.php?page=phone2" title="Create page: phone2" class="wiki wikinew alltrim">?</a> = 10 then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;area_code = substr(phone2,1,3)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix = substr(phone2,4,3)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;suffix = substr(phone2,7,4)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phone = "("+area_code+") "+prefix+"-"+suffix</p>

<p class=Code></p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;else if lenphone2<a href="tiki-editpage.php?page=phone2" title="Create page: phone2" class="wiki wikinew alltrim">?</a> = 7 then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix = substr(phone2,1,3)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;suffix = substr(phone2,4,4)</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phone = prefix+"-"+suffix</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;else</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'it is not a phone number that we recognize,</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'so, leave phone&nbsp;as&nbsp;is</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;end if</p>

<p class=Code>else if a_dlg_button = "&OK" .or. a_dlg_button = "&Cancel" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;'do nothing, dialog will close</p>

<p class=Code>else&nbsp;&nbsp;&nbsp;'the event has not been handled, so set a_dlg_button to "" to keep the dialog open</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>end if</p>

<p class=Code>%code%)</td> </tr> </table><p>The script produces this dialog box: </p>

<p class=Pix> <img src="images/XD_Killfocus_Event.gif" x-maintain-ratio=TRUE style="border: none; width: 234px; height: 146px; float: none; border-style: none; border-style: none;" width=234 height=146 border=0></p>

<p class=PixCaption>Lesson 6: Killfocus Event</p>

<p class=A5>Next</p>

<p> <a href="Using Events to Modify Arrays used in Dialog Box Controls.html" title="Using Events to Modify Arrays used in Dialog Box Controls" class="wiki">Events and Working with Arrays</a></p>


<p class=A5>Limitations</p>

<p>Desktop applications only</p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Using+the+KillFocus+Event">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"desktop","status":"pending","keywords":"desktop,guide,xdialog","group":"/Guide/Desktop/Design/View/Xdialog/"} --->
</body></html>