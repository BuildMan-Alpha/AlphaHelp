	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext clearfix nopagetitle">
			
		
		
		
		
			 

	
			<p class=A3Topic>Trapping Other Events</p>

<p>In addition to trapping the change event, which fires when the value in a control changes, you can also trap other events, such&nbsp;as&nbsp;when a control gets and loses focus, or when a user double-clicks on an entry in a list box.</p>

<p>If you wish to trap more than just the change event for a control, you use the following syntax:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>[control_definition!event_name_*]</td> </tr> </table><p>If you also want to make the control conditional, then the syntax is:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>[control_definition!event_name_*?conditional_flag]</td> </tr> </table><p>When an event is generated, Alpha Anywhere will replace the '*' with the actual event name. For example, when the value in the control changes, an event called <span class=Code1>event_name_change</span> is generated. When the control gets focus, an event called <span class=Code1>event_name_setfocus</span> is generated.</p>

<p class=A5><a name=Trapping_the_Double_Click_Event>Trapping the Double Click Event</a></p>

<p>For example, the following script creates a dialog with a list box. When the user double clicks on an entry in the list box, a message box pops up saying what the user selected.&nbsp;&nbsp;Also, when the user changes an entry in the list box, a static text control is updated to show what the user selected.</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>colors = "Red,Green,Blue,Yellow,Orange,Pink"</p>

<p class=Code>colors = stritran(colors,",",crlf())</p>

<p class=Code>dim a_colors[10]&nbsp;as&nbsp;C</p>

<p class=Code>a_colors.initialize(colors)</p>

<p class=Code>a_colors.sort("ab")</p>

<p class=Code>ui_dlg_box("Pick a Color",<<%dlg%</p>

<p class=Code>Double click on a color.;</p>

<p class=Code>[.25,10color_selected^#a_colors!color_*];</p>

<p class=Code>{text=50,1:txt};</p>

<p class=Code>{lf};</p>

<p class=Code><15Close></p>

<p class=Code>%dlg%,<<%code%</p>

<p class=Code>if a_dlg_button = "Close" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;'do nothing - the dialog will close</p>

<p class=Code>else if a_dlg_button = "color_dblclick" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;ui_msg_box("Notice","User picked: "+color_selected)</p>

<p class=Code>else if a_dlg_button = "color_change" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;txt = "User has selected: "+color_selected</p>

<p class=Code>else</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>end if</p>

<p class=Code>%code%)</td> </tr> </table><p>This script creates this dialog: </p>

<p class=Pix> <img src="images/XD_Pick_a_Color.gif" x-maintain-ratio=TRUE style="border: none; width: 264px; height: 244px; float: none; border-style: none; border-style: none;" width=264 height=244 border=0></p>

<p class=PixCaption>Lesson 6: Event Name</p>

<p>In the above script, there is an event handler for the ' <span class=Code1>color_dblclick</span> ' event, and the ' <span class=Code1>color_change</span> ' event. The other events that are generated, such&nbsp;as&nbsp;the ' <span class=Code1>color_setfocus</span> ', or ' <span class=Code1>color_killfocus</span> ' events, are ignored.</p>

<p class=A5><a name=_Toc31098276>Seeing the Name of Events</a></p>

<p>Using the <span class=Code1>trace.writeln()</span>command, you can inspect the names of the various events generated when a user interacts with a dialog box. For example, the following script writes the name of each event that is generated to the trace window. It also puts the event name in an array and displays the array on the dialog box:</p>

 <table class="codeTable" style="x-cell-content-align: top; border-left-style: None; border-right-style: None; border-top-style: None; border-bottom-style: None; width: 100%; border-spacing: 0px; border-spacing: 0px;" cellspacing="0" width="100%"> <col style="width: 100%;"> <tr style="x-cell-content-align: top;" valign="top"> <td style="x-cell-content-align: top; width: 100%; padding-right: 10px; padding-left: 10px;" valign="top" width="100%"><p class=Code>dim events[100]&nbsp;as&nbsp;C</p>

<p class=Code>colors = "Red,Green,Blue,Yellow,Orange,Pink"</p>

<p class=Code>colors = stritran(colors,",",crlf())</p>

<p class=Code>item_selected = "Shirt"</p>

<p class=Code>dim a_colors[10]&nbsp;as&nbsp;C</p>

<p class=Code>a_colors.initialize(colors)</p>

<p class=Code>a_colors.sort("ab")</p>

<p class=Code>ui_dlg_box("Pick a Color",<<%dlg%</p>

<p class=Code>Item: [.18item_selected^={Shirt,Tie,Pants,Jacket}!item_changed];</p>

<p class=Code>Double click on a color. |Event Name;</p>

<p class=Code>[.25,10color_selected^#a_colors!color_*] |[.25,10^#events];</p>

<p class=Code>{text=50,1:txt};</p>

<p class=Code>{lf};</p>

<p class=Code><15Close!close> |<15Clear Events!clear></p>

<p class=Code>%dlg%,<<%code%</p>

<p class=Code>events[events.first_empty()] = a_dlg_button</p>

<p class=Code>trace.writeln(a_dlg_button)</p>

<p class=Code>if a_dlg_button = "Clear"</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events.clear()</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>else if a_dlg_button = "Close" then</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'do nothing - the dialog will close</p>

<p class=Code>else</p>

<p class=Code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_dlg_button = ""</p>

<p class=Code>end if</p>

<p class=Code>%code%)</td> </tr> </table><p>The script produces this dialog.&nbsp;as&nbsp;you click on different values in the color list box, or select different items, an event is generated, and is added to the array which is displayed under the 'Event Name' label. </p>

<p class=Pix> <img src="images/XD_Pick_a_Color_2.gif" x-maintain-ratio=TRUE style="border: none; width: 393px; height: 269px; float: none; border-style: none; border-style: none;" width=393 height=269 border=0></p>

<p class=PixCaption>Lesson 6: Event Names</p>

<p>The events are also written to the <span class=Screen>Trace</span> window,&nbsp;as&nbsp;shown below: </p>

<p class=Pix> <img src="images/XD_Trace_Window.gif" x-maintain-ratio=TRUE style="border: none; float: none; width: 284px; height: 390px; border-style: none; border-style: none;" width=284 height=390 border=0></p>

<p class=A5>Next</p>

<p> <a href="Using the KillFocus Event.html" title="Using the KillFocus Event" class="wiki">Using the KillFocus Event</a></p>


<p class=A5>Limitations</p>

<p>Desktop applications only</p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Trapping+Other+Events">-->


	<div class="wikitopline clearfix" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description"></span>

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA: {"tags":"desktop","status":"pending","keywords":"desktop,guide,xdialog","group":"/Guide/Desktop/Design/View/Xdialog/"} --->
</body></html>