	<!DOCTYPE html>
	<html>
	<head>
	<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" />
	<link rel="stylesheet" type="text/css" href="theme.css" />
	</head>
	<body>
	<div id="tiki-clean">
			<div id="tiki-mid">
	
 



 

	<div class="wikitopline" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description">

		</div>

	 
 
	</div> 
</div> 




<article id="top" class="wikitext nopagetitle">
			
		
		
		
		
			 

	
			

<p class=A3Topic>Proper Use of the GRP <symbol name="En Dash">&nbsp;>Sub_Group Expression</p>
	<p class=A3Topic>&nbsp;</p>



<p>Alpha Anywhere provides many <a href="/Server/Reference/Design/Api/Functions/Report Functions/Report Functions and Methods.html" title="Report Functions and Methods" class="wiki">aggregation   functions</a> that are used in reports to <a href="/Server/Reference/Design/Api/Functions/Core Functions for Writing Expressions/TOTAL Function.html" title="TOTAL Function" class="wiki">TOTAL(</a>), 
 <a href="/Server/Reference/Design/Api/Functions/Report Functions/AVERAGE Function.html" title="AVERAGE Function" class="wiki">AVERAGE(</a>) and summarize other 
 numerical fields. These functions have a similar syntax, which includes 
 an optional third argument. In most cases Alpha Anywhere can infer the correct 
 value for this expression. In a limited number of cases, when you place 
 a calculated field that has a constant value, 
 you must explicitly state what the expression should be.</p>



<p class=A5>What Do the GRP <symbol name="En Dash">&nbsp;>Group and GRP <symbol name="En Dash">&nbsp;>Sub_Group Expressions Do?</p>



<p>The GRP <symbol name="En Dash">&nbsp;>Group expression says when to reset the counter. If you are 
 totalling all values of a field for a report, grp->grand 
 is appropriate. The counter is reset only once, at the beginning of the 
 report.</p>



<p>The GRP <symbol name="En Dash">&nbsp;>Sub_Group expression says what to count. If you are counting 
 values that exist at the record level, grp->grand 
 is inappropriate. It says count once at the report level. What you want 
 is grp->detail, which specifies that you are 
 counting at the record level.</p>



<p>Alpha Anywhere automatically inserts the proper value 
 for the GRP <symbol name="En Dash">&nbsp;>Sub_Group expression whenever you reference a field. It then 
 knows that you are working at the detail level. When you try to summarize 
 something that does not reference a field, Alpha Anywhere assumes (unless 
 told otherwise) that the summary is at the report level.</p>



<p class=A5>An Example of the Problem</p>



<p>A table has the following fields and values.</p>




<div align=center>
<table style="x-cell-content-align: top;
				float: aligncenter;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0">
<col>
<col>

<tr style="x-cell-content-align: top;" valign="top">
<td class="tableHeader" style="x-cell-content-align: top;" valign="top">
<p class=TableHead>Table_ID</td>
<td class="tableHeader" style="x-cell-content-align: top;" valign="top">
<p class=TableHead>Value_1</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" style="x-cell-content-align: top;" valign="top">
<p class=TableLeft>1</td>
<td class="TableCell" style="x-cell-content-align: top;" valign="top">
<p class=TableLeft>1</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" style="x-cell-content-align: top;" valign="top">
<p class=TableLeft>2</td>
<td class="TableCell" style="x-cell-content-align: top;" valign="top">
<p class=TableLeft>2</td></tr>

<tr style="x-cell-content-align: top;" valign="top">
<td class="TableCell" style="x-cell-content-align: top;" valign="top">
<p class=TableLeft>3</td>
<td class="TableCell" style="x-cell-content-align: top;" valign="top">
<p class=TableLeft>3</td></tr>
</table>
</div>
<p>We want to create a report that totals Value_1 
 and a calculated field named Calc_1. The expression 
 for Calc_1 does not reference any fields, but 
 simply evaluates to the number 1. We place both Value_1 
 and Calc_1 on the detail and report footer sections. 
 On the report footer we specify that each should be a total. The report 
 that we get looks like this. </p>



<p class=Pix><img src="images/Group_Detail_Report_Bug.gif"
									x-maintain-ratio=TRUE
									style="border-left-style: Solid;
											border-top-style: Solid;
											border-right-style: Solid;
											border-bottom-style: Solid;
											border-left-width: 1px;
											border-right-width: 1px;
											border-top-width: 1px;
											border-bottom-width: 1px;
											width: 343px;
											height: 192px;
											float: none;
											border-style: none;
											border-style: none;"
									width=343
									height=192
									border=0></p>



<p>The total for Value_1 is 
 correct, but the total for Calc_1 is wrong. This 
 is because the underlying TOTAL()expression is wrong. The expression is:</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;" valign="top">
<td style="x-cell-content-align: top;
			width: 100%;
			padding-right: 10px;
			padding-left: 10px;" valign="top" width="100%">
<p class=Code>total(Calc->Calc_1,GRP <symbol name="En Dash">&nbsp;>Grand)</td></tr>
</table>

<p>The wrong assumption is that the third, default argument 
 is GRP <symbol name="En Dash">&nbsp;>Grand. The expression should be:</p>




<table class="codeTable" style="x-cell-content-align: top;
				border-left-style: None;
				border-right-style: None;
				border-top-style: None;
				border-bottom-style: None;
				width: 100%;
				border-spacing: 0px;
				border-spacing: 0px;" cellspacing="0" width="100%">
<col style="width: 100%;">

<tr style="x-cell-content-align: top;" valign="top">
<td style="x-cell-content-align: top;
			width: 100%;
			padding-right: 10px;
			padding-left: 10px;" valign="top" width="100%">
<p class=Code>total(Calc->Calc_1, GRP <symbol name="En Dash">&nbsp;>Grand, GRP <symbol name="En Dash">&nbsp;>detail)</td></tr>
</table>

<p>The solution, when you place Calc_1 
 on the report is to click the Advanced... button 
 at the bottom of the screen to produce the following dialog box. In the 
 Sub-group field, you replace the default value 
 of "Grand" with "Detail". </p>



<p class=Pix><img src="images/Group_Detail_Proper_Setting_for_Calc_Field.gif"
									x-maintain-ratio=TRUE
									style="border: none;
											width: 491px;
											height: 273px;
											float: none;
											border-style: none;
											border-style: none;"
									width=491
									height=273
									border=0></p>



<p class=A5>See Also</p>



<a href="/Index/Report Topics.html" title="Report Topics">Report Topics</a>, <a href="/Server/Reference/Design/Api/Functions/Report Functions/Report Functions and Methods.html" title="Report Functions and Methods" class="wiki">Report   Functions and Methods</a>



<p class=A5></p>
	
	
	<hr class="hrwikibottom" /> 

	
	</article> 




	<!-- WIKIPATH:Proper+Use+of+the+GRP">-->


	<div class="wikitopline" style="clear: both;">
	<div class="content">
				<div class="wikiinfo" style="float: left">



<span id="description">

		</div>

	 
 
	</div> 
</div> 

			</div>
		</div>


	
	
<!-- Put JS at the end -->
	
<!-- jsfile external -->


<!-- jsfile dynamic -->
<!-- jsfile 0 -->
<!---HELPMETADATA:{"tags":"desktop, review","status":"pending","notes":"funky characters, blue text","keywords":"desktop,guide,report"}--->
</body></html>