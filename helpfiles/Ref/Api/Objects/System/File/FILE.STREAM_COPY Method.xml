<page>
   <topic>FILE.STREAM_COPY Function</topic>
    <description>Perform a streamed copy - control variables include .exit and .bytes .</description>
   <syntax>V stream_copy(P stream_from,P stream_to,P control[,N chunksize[,N max_length]])</syntax>
   <arguments>
     <argument>
         <name>stream_from</name>
         <description>A file pointer or socket pointer.
</description>
     </argument>
     <argument>
         <name>stream_to</name>
         <description>A file pointer or socket pointer.
</description>
     </argument>
     <argument>
         <name>control</name>
         <description>A pointer with two elements.
</description>
<list>
<item>
<name-title>Argument</name-title>
<description-title>Description</description-title>
</item>

<item>
<name>pControl.bytes</name>
<description>a running count of how many bytes have been streamed so far. It does not matter what you set this to, it gets reset to 0 at the beginning of the stream operation and it automatically updated as the stream progresses. This can be used to implement a progress bar.
</description>
</item>

<item>
<name>pControl.exit</name>
<description>A logical flag. If it is set to .t., the stream operation will abort. This can be used to implement a cancel button
</description>
</item>

</list>
     </argument>
     <argument>
         <name>chunksize</name>
         <description>Optional. Indicates the size of the chunks in which the stream is transferred.
</description>
     </argument>
     <argument>
         <name>max_length</name>
         <description>Optional. Indicates the maximum bytes that should be streamed. The operation will stop if it reaches this size, even if there is more data available.
</description>
     </argument>
   </arguments>
  
   <discussion>
Streaming is a faster, optimized way of copying. The FILE.STREAM_COPY() method copies data from a file or socket to a file or socket.
   </discussion>
   <example><![CDATA[
dim pControl as P
dim pControl.bytes as N = 0
dim pControl.exit as L = .f.
f1 = file.open("c:\somefile.ext",FILE_RO_SHARED)
f2 = file.create("c:\newfile.ext",FILE_RW_EXCLUSIVE) file.stream_copy(f1, f2, pControl)
]]></example>
  
   <see>
      <ref>File Functions and  Methods</ref>
   </see>
  <terms>file,button,control,function,logical,operation,pointer,set</terms>
</page>