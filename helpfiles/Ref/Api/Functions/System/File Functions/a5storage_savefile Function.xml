<page source="Xbasicaddins/ajax_webcomponents.a5lib/scripts/a5storage_savefile.a5udf" generated="true">
    <shortlink>api a5 storage save file function</shortlink>
    <topic>a5storage_savefile Function</topic>
    <description>Saves a file to storage</description>

    <prototype>L a5Storage_saveFile(C connectionString ,C filename ,C itemName [,C mimeType [,* pResult [,* pDataIn [,L flagSetReadPermission ]]]])</prototype>
    <arguments>
        <argument>
            <name>connectionString</name>
            <type>C</type>
            <description>Storage connection string with ::storage:: as a prefix.</description>
        </argument>
        <argument>
            <name>filename</name>
            <type>C</type>
            <description>The name of the local file to save in storage.</description>
        </argument>
        <argument>
            <name>itemName</name>
            <type>C</type>
            <description>The name of the object in storage. You can can specify a logical folder by using forward slashes in the name. For example: "image/image1.jpg"</description>
        </argument>
        <argument>
            <name>mimeType</name>
            <type>C</type>
            <description>The mime type of the object. If you don't specify this property, the value can be inferred from the extension assigned to the *[xb:itemName]* property.</description>
        </argument>
        <argument>
            <name>pResult</name>
            <type>P</type>
            <description>An optional dot variable that you can pass in that will be populated with information about the object.</description>
        </argument>
        <argument>
            <name>pDataIn</name>
            <type>P</type>
            <description>*</description>
        </argument>
        <argument>
            <name>flagSetReadPermission</name>
            <type>L</type>
            <description></description>
        </argument>
    </arguments>
    <sections>
        <section>
            <title>Example:</title>
            <example code="xb"><![CDATA[dim pr as p

flag = a5Storage_saveFile("::storage::Amazon_East","c:\images\4290.jpg","movies/4290.jpg","",pr)

? flag
= .T.]]></example>
        </section>
        <section>
            <description>If you examine the *[xb:pr]* dot variable that was passed into the function you will see the following properties:
            </description>
            <example code="xb"><![CDATA[hasError = .f.
timeTakenMilliseconds  = 239
AbsolutePath  = "https://.s3.amazonaws.com/movies/4290.jpg"
ContentType  = "image/jpeg"
ModifiedTime  = CTODT('03/15/2014 01:53:13 00 pm')
Name  = "movies/4290.jpg"
size  = 5880]]></example>
        </section>
        <section>
            <description>The *[xb:AbsolutePath]* property gives you a URL to the object. Note that in order for this URL to work you need to make sure that you have set the appropriate permissions on the storage container ('bucket' in S3 terminology).
            </description>
        </section>
    </sections>
    <terms>file,a5,filename,function,logical,save</terms>
    <see>
        <ref link="named%20storage%20connection%20strings">Storage Connections</ref>
        <ref link="api a5 storage list items function">a5storage_listitems Function</ref>
        <ref link="api a5storage getitem as blob function">a5storage_getItem_as_blob Function</ref>
        <ref link="api a5 storage delete item function">a5storage_deleteItem Function</ref>
        <ref link="api a5storage getitem as file function source">a5storage_getitem_as_file Function</ref>
        <ref link="a5Storage_getItemProperties function">a5storage_getItemProperties Function</ref>
        <ref link="api a5 storage save data function">a5Storage_saveData Function</ref>
    </see>
</page>