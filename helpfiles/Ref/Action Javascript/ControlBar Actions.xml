<page>
    <shortlink>ControlBar Actions</shortlink>
    <topic>ControlBar Actions</topic>
    <description>Performs an action on a ControlBar, such as setting the active Layout or refreshing the ControlBar.</description>
    <groups>
        <group>
            <sections>
                <section>
                    <figure>
                        <link>images/controlBar1.png</link>
                    </figure>
                </section>
                <section>
                    <title>ControlBar Action Properties</title>
                    <list>
                        <item>
                            <name>Action name</name> 
                            <description>Specify the ControlBar Action that you want to execute. An action can be one of the following:</description>
                            <list>
                                <item>
                                    <name-title>ControlBar Action</name-title>
                                    <description-title>Description</description-title>
                                </item>
                                <item>
                                    <name>Refresh ControlBar</name>
                                    <description>Refresh a ControlBar.</description>
                                </item>
                                <item>
                                    <name>Set Active ControlBar Layout</name>
                                    <description>If a ControlBar defines multiple Layouts, select the Active Layout.</description>
                                </item>
                                <item>
                                    <name>Update ControlBar Data</name>
                                    <description>If a ControlBar has a 'data' object, update one or more properties in the ControlBar's 'data' object and then refresh the ControlBar.</description>
                                </item>
                                <item>
                                    <name>Show Disclosure</name>
                                    <description>Opens a Disclosure defined in the ControlBar.</description>
                                </item>
                                <item>
                                    <name>Hide Disclosure</name>
                                    <description>Hides the currently open Disclosure.</description>
                                </item>
                                <item>
                                    <name>Play Action</name>
                                    <description>Executes the JavaScript defined in a ControlBar Action.</description>
                                </item>
                                <item>
                                    <name>Display a message</name>
                                    <description>Display a message that has been imported using the 'Messaging Functions'. 'Messaging Functions' can be imported into the ControlBar using the hyperlink on the 'Home' tab in the ControlBar builder.</description>
                                </item>
                            </list>
                        </item>
                        <item>
                            <name>ControlBar Id</name>
                            <description>Specify the ControlBar you want to perform an action on.</description>
                        </item>
                        <item>
                            <name>Messaging definition</name>
                            <description>Opens the [Control Bar Message dialog] for configuring the type of message to display. A Basic, Confirmation, or Wait message can be shown.</description>
                        </item>
                        <item>
                            <name>Disclosure name</name>
                            <description>Specify the name of the Disclosure you want to show</description>
                        </item>
                        <item>
                            <name>Show disclosure settings</name>
                            <description>Opens the [Disclosure Genie] for configuring how a disclosure should be shown.</description>
                        </item>
                        <item>
                            <name>Action name</name>
                            <description>Specify tne name of the ControlBar action you want to execute</description>
                        </item>
                        <item>
                            <name>Layout name</name>
                            <description>The ControlBar layout to display.</description>
                        </item>
                        <item>
                            <name>Data variables to update</name>
                            <description>Enter a cr-lf delimited list of the ControlBar data items you want to update.</description>
                        </item>
                        <item>
                            <name>Data variable values</name>
                            <description>The 'data' variable to update.</description>
                        </item>
                        <item>
                            <name>Fire onChange event</name>
                            <description>Specify if the onChange event should fire.</description>
                        </item>
                        <item>
                            <name>Delay render</name>
                            <description>Whether or not to delay the refresh of the ControlBar. This is useful if other code may also refresh the ControlBar and it is desirable to only have one refresh occur.</description>
                        </item>
                    </list>
                </section>
                <section>
                    <title>Animation Settings Properties</title>
                    <list>
                        <item>
                            <name>Animated</name>
                            <description>Specify if the ControlBar action should be animated.</description>
                        </item>
                        <item>
                            <name>Animation type</name>
                            <description>The type of animation to use. There are three basic types of animations: slide, swap, and fade. The "slide" an "swap" types are suffixed with an edge (left, right, top, bottom) or with relative values based on the ControlBar's edge (in, out, before, after.) The available animation types are listed below:</description>
                            <list bullet="true">
                                <item>
                                    <name>slide-left</name>
                                </item>
                                <item>
                                    <name>slide-right</name>
                                </item>
                                <item>
                                    <name>slide-top</name>
                                </item>
                                <item>
                                    <name>slide-bottom</name>
                                </item>
                                <item>
                                    <name>slide-in</name>
                                </item>
                                <item>
                                    <name>slide-out</name>
                                </item>
                                <item>
                                    <name>slide-before</name>
                                </item>
                                <item>
                                    <name>slide-after</name>
                                </item>
                                <item>
                                    <name>swap-left</name>
                                </item>
                                <item>
                                    <name>swap-right</name>
                                </item>
                                <item>
                                    <name>swap-top</name>
                                </item>
                                <item>
                                    <name>swap-bottom</name>
                                </item>
                                <item>
                                    <name>swap-in</name>
                                </item>
                                <item>
                                    <name>swap-out</name>
                                </item>
                                <item>
                                    <name>swap-before</name>
                                </item>
                                <item>
                                    <name>swap-after</name>
                                </item>
                                <item>
                                    <name>fade</name>
                                </item>
                            </list>
                        </item>
                        <item>
                            <name>Duration</name>
                            <description>Specify the animation duration in milliseconds</description>
                        </item>
                        <item>
                            <name>Tween</name>
                            <description>Defines how intermediate states of the animation transition are calculated.</description>
                        </item>
                    </list>
                </section>
                <section>
                    <title>Animation Properties</title>
                    <list>
                        <item>
                            <name>Animate</name>
                            <description>Specify if the disclosure should be animated when it is hidden. If checked, the same animation that was used to show the disclosure is used.</description>
                        </item>
                    </list>
                </section>
            </sections>
        </group>
        <group>
            <title>Disclosure Genie</title>
            <sections>
                <section>
                    <description>The Disclosure Genie is used to define the Show Disclosure settings for displaying a Disclosure for the ControlBar.</description>
                    <figure>
                        <link>images/controlBar4.png</link>
                    </figure>
                </section>
                <section>
                    <title>Disclosure Settings Properties</title>
                    <list>
                        <item>
                            <name>Disclosure name</name>
                            <description>Specify the name of the disclosure to show. You can also show a named Layout as a disclosure.</description>
                        </item>
                        <item>
                            <name>Display type</name>
                            <description>Specify where the disclosure should be shown. Can be one of the following types:</description>
                            <list bullet="true">
                                <item>
                                    <name>expand-before</name>
                                </item>
                                <item>
                                    <name>expand-after</name>
                                </item>
                                <item>
                                    <name>expand-element</name>
                                </item>
                                <item>
                                    <name>expand-element-cover</name>
                                </item>
                                <item>
                                    <name>extend</name>
                                </item>
                                <item>
                                    <name>extend-element</name>
                                </item>
                                <item>
                                    <name>extend-element-cover</name>
                                </item>
                                <item>
                                    <name>cover</name>
                                </item>
                                <item>
                                    <name>outside-before</name>
                                </item>
                                <item>
                                    <name>outside-after</name>
                                </item>
                                <item>
                                    <name>screen-left</name>
                                </item>
                                <item>
                                    <name>screen-right</name>
                                </item>
                                <item>
                                    <name>screen-top</name>
                                </item>
                                <item>
                                    <name>screen-bottom</name>
                                </item>
                                <item>
                                    <name>explicit</name>
                                </item>
                            </list>
                        </item>
                        <item>
                            <name>Size</name>
                            <description>Specify the disclosure size. Enter an explicit size using CSS syntax or specify 'none' (to use a default size) or 'fill' (to fill the available space for the disclosure).</description>
                        </item>
                        <item>
                            <name>Animate</name>
                            <description>Specify if the disclosure should be shown with animation.</description>
                        </item>
                        <item>
                            <name>Animation duration</name>
                            <description>(Optional) Specify the animation duration in milliseconds. If you leave this blank, the default duration is used.</description>
                        </item>
                        <item>
                            <name>Tween</name>
                            <description>(Optional) Specify the animation tween setting. If you leave this blank, the default tween is used.</description>
                        </item>
                        <item>
                            <name>Auto-hide</name>
                            <description>Specify if the disclosure should be closed automatically when the user clicks/taps off the disclosure.</description>
                        </item>
                        <item>
                            <name>Class Name</name>
                            <description>Optional override to the class name to place on the disclosure element.</description>
                        </item>
                        <item>
                            <name>Cover Class Name</name>
                            <description>Optional override to the class name to place on the element that covers the screen when the disclosure is shown.</description>
                        </item>
                    </list>
                </section>
                <section>
                    <title>Clipping Rectangle Properties</title>
                    <description>
                        <p>If *[ui:explicit]* is chosen for the Display Type, you must define an explicit *[ui:clipping rectangle]*. The clipping rectangle is an object with the following properties: left, right, top, and bottom. These properties define the relative distance to the edge of the screen in pixels.</p>
                        <p>In addition to defining left, right, top, and bottom, you must also specify the edge within the clipping rectangle from which the disclosure will be shown and the fill.</p>
                    </description>
                    <list>
                        <item>
                            <name>Method for specifying</name>
                            <description>You can specify the size of the clipping rectangle now, or you can dynamically compute it at run-time. Choices include *[ui:SpecifyNow]*, *[ui:Javascript]*.</description>
                        </item>
                        <item>
                            <name>Javascript</name>
                            <description>Specify the Javascript to compute the clipping rectangle. Your javascript must return an object with the following properties: edge, fill, left, right, top, and bottom. See examples below.</description>
                        </item>
                        <item>
                            <name>Left</name>
                            <description>Distance from the left edge of the screen in pixels.</description>
                        </item>
                        <item>
                            <name>Right</name>
                            <description>Distance from the right edge of the screen in pixels.</description>
                        </item>
                        <item>
                            <name>Top</name>
                            <description>Distance from the top edge of the screen in pixels.</description>
                        </item>
                        <item>
                            <name>Bottom</name>
                            <description>Distance from the bottom edge of the screen in pixels.</description>
                        </item>
                        <item>
                            <name>Edge</name>
                            <description>The edge from which the disclosure is shown from within the clipping rectangle. Choices include *[ui:top]*, *[ui:bottom]*, *[ui:left]*, *[ui:right]*.</description>
                        </item>
                        <item>
                            <name>Fill</name>
                            <description>The fill . Choices include *[ui:width]*, *[ui:height]*, *[ui:both]*.</description>
                        </item>
                    </list>
                    <cases>
                        <case>
                            <title>Specifying the Clipping Rectangle with JavaScript - Example 1</title>
                            <description>The following example specifies a clipping rectangle spaced 100 pixels from each edge of the screen:</description>
                            <example><![CDATA[return {left: 100, top: 100, bottom: 100, right : 100, edge: 'top', fill: 'width'};]]></example>
                        </case>
                        <case>
                            <title>Specifying the Clipping Rectangle with JavaScript - Example 2</title>
                            <description>The following example demonstrates how to dynamically compute the width of the clipping rectangle based on the screen size of the device. The width of the clipping rectangle has a maximum of 500 pixels:</description>
                            <example><![CDATA[	var s = {dialog.object}.getSize();
	var w = s.width
	var padding = 10;
	var dialogWidth = (w - (padding*2));
	var maxDialogWidth = 500;
	if(dialogWidth > maxDialogWidth) { 
		var paddingTotal = (s.width - maxDialogWidth);
		padding = paddingTotal/2;
	}
	return {left: padding, top: 100, bottom: 10, right : padding, edge: 'top', fill: 'width'};]]></example>
                        </case>
                    </cases>
                </section>
            </sections>
        </group>
        <group>
            <title>Control Bar Message Dialog</title>
            <sections>
                <section>
                    <description>The Control Bar Message dialog is used to configure a popup message shown for the selected ControlBar. In order to display messages for a ControlBar, you must import the 'Messaging Functions' in the ControlBar. 'Messaging Functions' can be imported using the link on the 'Home' tab in the ControlBar builder.</description>
                    <figure>
                        <link>images/controlBar2.png</link>
                    </figure>
                </section>
                <section>
                    <title>ControlBar Message Properties</title>
                    <list>
                        <item>
                            <name>Message type</name>
                            <description>Specify the message type. Message can be one of the following:</description>
                            <list bullet="true">
                                <item>
                                    <name>Basic</name>
                                </item>
                                <item>
                                    <name>Wait</name>
                                </item>
                                <item>
                                    <name>Confirmation</name>
                                </item>
                            </list>
                        </item>
                    </list>
                </section>
                <section>
                    <figure>
                        <link>images/controlBar3.png</link>
                    </figure>
                </section>
                <section>
                    <title>Wait Message Properties</title>
                    <list>
                        <item>
                            <name>Title</name>
                            <description>The wait message title.</description>
                        </item>
                        <item>
                            <name>Body</name>
                            <description>The message to display.</description>
                        </item>
                        <item>
                            <name>Auto close after specified interval</name>
                            <description>Specify if the wait message should be automatically closed after a specified interval. (Useful if the Ajax callback that would normally close the wait message fails)</description>
                        </item>
                        <item>
                            <name>Interval</name>
                            <description>The length of time to wait, in milliseconds, before the wait message is automatically closed.</description>
                        </item>
                    </list>
                </section>
                <section>
                    <title>Basic (one button) Message Properties</title>
                    <list>
                        <item>
                            <name>Title</name>
                            <description>The title for the popup message.</description>
                        </item>
                        <item>
                            <name>Body</name>
                            <description>The message to display.</description>
                        </item>
                        <item>
                            <name>Button label</name>
                            <description>Specify the label for the button</description>
                        </item>
                        <item>
                            <name>Button Javascript</name>
                            <description>Javascript to execute after the button is clicked.</description>
                        </item>
                    </list>
                </section>
                <section>
                    <title>Confirm (two button) Message Properties</title>
                    <list>
                        <item>
                            <name>Title</name>
                            <description>The confirmation message title.</description>
                        </item>
                        <item>
                            <name>Body</name>
                            <description>The message to display in the confirmation message.</description>
                        </item>
                        <item>
                            <name>OK button label</name>
                            <description>The text to display in the OK button.</description>
                        </item>
                        <item>
                            <name>Cancel button label</name>
                            <description>The text to display in the Cancel button.</description>
                        </item>
                        <item>
                            <name>OK button Javascript</name>
                            <description>Javascript to execute after the OK button is clicked.</description>
                        </item>
                        <item>
                            <name>Cancel button Javascript</name>
                            <description>Javascript to execute after the Cancel button is clicked.</description>
                        </item>
                    </list>
                </section>
            </sections>
        </group>
    </groups>
    <links>
        <link href="#group_Control Bar Message Dialog">Control Bar Message dialog</link>
        <link href="#group_Disclosure Genie">Disclosure Genie</link>
    </links>
</page>